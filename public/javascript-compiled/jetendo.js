//# sourceMappingURL=jetendo.js.map
window.JSON||(window.JSON={});
(function(){function b(b){return b<10?"0"+b:b}function c(b){m.lastIndex=0;return m.test(b)?'"'+b.replace(m,function(b){var c=q[b];return typeof c==="string"?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function d(b,h){var l,m,q,G,I=n,H,w=h[b];w&&(typeof w==="object"&&typeof w.toJSON==="function")&&(w=w.toJSON(b));typeof s==="function"&&(w=s.call(h,b,w));switch(typeof w){case "string":return c(w);case "number":return isFinite(w)?""+w:"null";case "boolean":case "null":return""+
w;case "object":if(!w)return"null";n=n+r;H=[];if(Object.prototype.toString.apply(w)==="[object Array]"){G=w.length;for(l=0;l<G;l=l+1)H[l]=d(l,w)||"null";q=H.length===0?"[]":n?"[\n"+n+H.join(",\n"+n)+"\n"+I+"]":"["+H.join(",")+"]";n=I;return q}if(s&&typeof s==="object"){G=s.length;for(l=0;l<G;l=l+1){m=s[l];if(typeof m==="string")(q=d(m,w))&&H.push(c(m)+(n?": ":":")+q)}}else for(m in w)if(Object.hasOwnProperty.call(w,m))(q=d(m,w))&&H.push(c(m)+(n?": ":":")+q);q=H.length===0?"{}":n?"{\n"+n+H.join(",\n"+
n)+"\n"+I+"}":"{"+H.join(",")+"}";n=I;return q}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var h=window.JSON,l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;if(typeof h.stringify!=="function")h.stringify=function(b,c,h){var l;r=n="";if(typeof h==="number")for(l=0;l<h;l=l+1)r=r+" ";else typeof h==="string"&&(r=h);if((s=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw Error("JSON.stringify");return d("",
{"":b})};if(typeof h.parse!=="function")h.parse=function(b,c){function d(b,h){var l,m,n=b[h];if(n&&typeof n==="object")for(l in n)if(Object.hasOwnProperty.call(n,l)){m=d(n,l);m!==void 0?n[l]=m:delete n[l]}return c.call(b,h,n)}var h,b=""+b;l.lastIndex=0;l.test(b)&&(b=b.replace(l,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){h=eval("("+b+")");return typeof c==="function"?d({"":h},""):h}throw new SyntaxError("JSON.parse");}})();(function(b,c,d){function h(c){y?setTimeout(function(){h(c)},200):(w=c,H=s[w],v=0,clearTimeout(B),b.ajax({url:H,context:d.body,success:function(c){var d=0;0===x?(d=I,x=1):(d=G,x=0);d.html(c);J.fx="fade";b("#homePageListingCycleContainer").cycle("next");B=setTimeout(l,5E3)}}))}function l(){q(5)}function m(){y=!1}function n(b,c,d){d.fx="scrollLeft";J=d;y=!0}function r(c){var d=0,d=0===x?G:I;d.html(c);J.fx=A;J.speed=300;"scrollLeft"===A?b("#homePageListingCycleContainer").cycle("next"):b("#homePageListingCycleContainer").cycle("prev");
J.speed=1E3;B=setTimeout(l,5E3)}function q(b){0>v+b||v+b>=u||(x=0===x?1:0,clearTimeout(B),v+=b,A=0<b?"scrollLeft":"scrollRight",H=s[w],b={id:"listingSlidePanelAjax"},b.url=H+"&offset="+v,b.cache=!1,b.callback=r,b.ignoreOldRequests=!1,zAjax(b))}var s=[],u=0,v=0,B=0,x=0,J=0,G=0,I=0,H="",w=0,A="scrollLeft",y=!1;c.zSetupAjaxCycle=function(c,d){"undefined"!==typeof c&&(u=c,s=d,G=b("#sliderPanel0"),I=b("#sliderPanel1"),b("#listingslidernext").bind("click",function(){console.log("next:"+y);if(y)return!1;
q(5);return!1}),b("#listingsliderprev").bind("click",function(){if(y)return!1;q(-5);return!1}));b("#homePageListingCycleContainer").cycle({fx:"scrollLeft",timeout:0,pause:1,after:m,before:n});B=setTimeout(l,5E3)};c.zUpdateAjaxSlides=h})(jQuery,window,document);(function(b,c,d,h){c.zCart=function(c){var m=this,n=!1,r=0,q=0,s=!1,u={},v={};typeof c===h&&(c={});c.arrData=zso(c,"arrData",!1,[]);c.debug=zso(c,"debug",!1,!1);c.name=zso(c,"name",!1,"");c.label=zso(c,"label",!1,"cart");c.emptyCartMessage=zso(c,"emptyCartMessage",!1,"Nothing has been added to your cart.");c.selectedButtonText=zso(c,"selectedButtonText",!1,"Already in cart");c.checkoutCallback=zso(c,"checkoutCallback",!1,function(){m.checkout()});c.changeCallback=zso(c,"changeCallback",!1,function(){});
m.view=function(){n.slideToggle("fast")};m.renderCount=function(){"function"===typeof c.countRenderCallback?c.countRenderCallback(q):b(".zcart-count."+c.name).html(q)};m.getItems=function(){return u};m.readCookie=function(){var b=zGetCookie("zcart-"+c.name);if(""!==b){b=b.split(",");c.debug&&console.log("From cookie:"+b.join("|"));for(var d in b)""!==b[d]&&(c.debug&&console.log("Added from cookie: "+c.arrData[b[d]].id),m.add(c.arrData[b[d]]))}};m.updateCookie=function(){var b=[],d;for(d in u)b.push(u[d].id);
zSetCookie({key:"zcart-"+c.name,value:b.join(","),futureSeconds:31536E3,enableSubdomains:!0})};m.updateCount=function(){c.debug&&console.log("count is:"+q);0===q&&n.html(c.emptyCartMessage);m.updateCookie();m.renderCount();s&&(c.changeCallback(m),b(".zcart-count-container."+c.name).css({"background-color":"#000",color:"#FFF"}).animate({"background-color":"#FFF",color:"#000"},{duration:"slow",easing:"easeInElastic"}))};m.getCount=function(){return q};m.add=function(h){if(zKeyExists(v,h.id))m.remove(h.id);
else{b(".zcart-add."+c.name).each(function(){if(!b(this).hasClass("zcart-add-saved")){var c=eval("("+this.getAttribute("data-zcart-json")+")");h.id===c.id&&b(this).addClass("zcart-add-saved").html(c.removeHTML)}});r++;q++;c.debug&&console.log("Adding item #"+h.id+" to cart: "+c.name);var x=m.renderItem(h,r);1===q?n.html(x):n.append(x);b("#"+c.name+"zcart-item-delete-link"+r).bind("click",function(){var b=this.getAttribute("data-zcart-id");m.remove(b);return!1});b("#"+c.name+"zcart-item"+r).hide().fadeIn("fast");
h.cartId=r;h.div=d.getElementById(c.name+"zcart-item"+r);u[r]=h;v[h.id]=r;m.updateCount()}};m.remove=function(d){if(zKeyExists(v,d)){var h=v[d];c.debug&&console.log("Removing item #"+d+" to cart: "+c.name);delete u[h];delete v[d];b(".zcart-add."+c.name).each(function(){if(b(this).hasClass("zcart-add-saved")){var c=eval("("+this.getAttribute("data-zcart-json")+")");d===c.id&&b(this).removeClass("zcart-add-saved").html(c.addHTML)}});b("#"+c.name+"zcart-item"+h).fadeOut("fast",function(){b("#"+c.name+
"zcart-item"+h).remove()});q--;m.updateCount()}};m.replaceTags=function(b,c){for(var d in c)b=b.replace(RegExp("{"+d+"}","gm"),zHtmlEditFormat(c[d]));return b};m.renderItem=function(d,h){var n=b(".zcart-templates .zcart-item");if(0===n.length)throw".zcart-template .zcart-item template is missing and it's required.";var n=n[0].outerHTML,r={},q;for(q in d)r[q]=d[q];r.itemId=c.name+"zcart-item"+h;r.deleteId=c.name+"zcart-item-delete-link"+h;n=b(m.replaceTags(n,r));b(".zcart-item-image",n).each(function(){var b=
this.getAttribute("data-image");""!==b&&this.setAttribute("src",b)});b("a",n).each(function(){this.href=this.getAttribute("data-url")});n.addClass(c.name);return n[0].outerHTML};m.renderItems=function(){var b=[],c;for(c in u)b.push(m.renderItem(u[c],u[c].cartId));n.html(b).hide().fadeIn("fast");m.updateCount()};m.ajaxAddCallback=function(){};m.ajaxAdd=function(){};m.clear=function(){u=[];v=[];r=q=0;b(".zcart-add."+c.name).each(function(){if(b(this).hasClass("zcart-add-saved")){var c=eval("("+this.getAttribute("data-zcart-json")+
")");b(this).removeClass("zcart-add-saved").html(c.addHTML)}});b(".zcart-item."+c.name).fadeOut("fast",function(){0===b(".zcart-item."+c.name+":animated").length&&(n.html(""),m.updateCount())})};m.checkout=function(){"function"===typeof c.checkoutCallback?c.checkoutCallback(m):c.debug&&console.log("No checkout callback defined.")};(function(c){n=b(".zcart."+c.name);if(0===n.length)throw c.name+" is not defined.  zCart requires a valid object or selector for the cart items to be rendered in.";b(".zcart-add."+
c.name).bind("click",function(){var b=eval("("+this.getAttribute("data-zcart-json")+")");m.add(b);return!1}).each(function(){var c=eval("("+this.getAttribute("data-zcart-json")+")");this.setAttribute("data-zcart-id",c.id);zKeyExists(v,c.id)&&(b(this).addClass("zcart-add-saved"),b(this).html(c.removeHTML))});b(".zcart-remove."+c.name).bind("click",function(){var b=this.getAttribute("data-zcart-id");m.remove(b);return!1});b(".zcart-refresh."+c.name).bind("click",function(){m.renderItems();return!1});
b(".zcart-view."+c.name).bind("click",function(){b(this).hasClass("zcart-view-open")?(b(this).removeClass("zcart-view-open"),b(this).html(this.getAttribute("data-zcart-viewHTML"))):(b(this).addClass("zcart-view-open"),b(this).html(this.getAttribute("data-zcart-hideHTML")));m.view();return!1});b(".zcart-checkout."+c.name).bind("click",function(){m.checkout();return!1});b(".zcart-clear."+c.name).bind("click",function(){m.clear();return!1});m.readCookie();m.updateCount();s=!0})(c);return this}})(jQuery,
window,document,"undefined");zArrDeferredFunctions.push(function(){zIsTouchscreen()&&$(".zPhoneLink").each(function(){this.href="tel:"+this.innerText})});function gotoReimport(){var b=document.getElementById("mls_id1"),b=b.options[b.selectedIndex].value;if(""!==b)return window.open("/z/listing/idx/reimport?mls_id="+b),!1}function gotoFieldNotOutput(){var b=document.getElementById("mls_provider1"),b=b.options[b.selectedIndex].value;if(""!==b)return window.open("/z/listing/admin/listing-misc/index?mlsName="+b),!1}
function gotoSite(b){""!==b&&(window.location.href="/z/server-manager/admin/robots/edit?sid="+escape(b))}function setHidden(b,c){me=eval("document.myForm.log_resolver"+c);me.disabled=b.checked?!1:!0}var zIntervalIdForCFCExplorer=0;
function resize_iframe(){clearInterval(zIntervalIdForCFCExplorer);var b=window.innerWidth;document.body.clientHeight&&(b=document.body.clientHeight);document.getElementById("comframe")&&(0<b&&document.getElementById("comframe").offsetTop)&&(b=parseInt(b-document.getElementById("comframe").offsetTop-15),0<b&&(document.getElementById("comframe").style.height=b+"px"))}
function ajaxSaveSorting(){for(var b=$("#sortable").sortable("toArray"),c=0;c<b.length;c++)b[c]=b[c].substr(5);c="/z/_com/app/image-library?method=saveSortingPositions&image_library_id="+currentImageLibraryId+"&image_id_list="+b.join(",");$.get(c,"",function(b){debugImageLibrary&&(document.getElementById("forimagedata").value+="\n\nAJAX RESULT:\n"+b+"\n");b=document.getElementById("sortable");$("#imageLibraryDivCount",window.parent.document).html($("li",b).length+" images in library")},"html");debugImageLibrary&&
(document.getElementById("forimagedata").value+="ajaxSaveSorting(): array of image_id:\n"+b+"\nLINK:"+c)}
function ajaxSaveImage(b){debugImageLibrary&&(document.getElementById("forimagedata").value+="ajaxSaveImage(): image_id:"+b+"\n");b="/z/_com/app/image-library?method=saveImageId&action=update&image_library_id="+currentImageLibraryId+"&image_id="+b+"&image_caption="+escape(document.getElementById("caption"+b).value);debugImageLibrary&&(document.getElementById("forimagedata").value+="\n\n"+b+"\n\n");$.get(b,"",function(b){debugImageLibrary&&(document.getElementById("forimagedata").value+="\n\nAJAX SAVE IMAGE RESULT:\n"+
b+"\n")},"html")}function toggleImageCaptionUpdate(b,c){var d=document.getElementById(b),h=!1;"block"===d.style.display&&"none"===c&&(h=!0);var l=b.substr(18);d.style.display=c;h&&("undefined"!==typeof arrImageLibraryCaptions[l]&&arrImageLibraryCaptions[l]!==document.getElementById("caption"+l).value)&&(ajaxSaveImage(l),arrImageLibraryCaptions[l]=document.getElementById("caption"+l).value)}
function confirmDeleteImageId(b){window.confirm("Are you sure you want to PERMANENTLY DELETE this image?")&&deleteImageId(b)}
function deleteImageId(b){var c=document.getElementById("sortable"),d=document.getElementById("image"+b);c.removeChild(d);c="/z/_com/app/image-library?method=remoteDeleteImageId&image_id="+b;debugImageLibrary&&(document.getElementById("forimagedata").value+="\nDelete Image ID:"+b+"\n\n"+c+"\n\n");$.get(c,"",function(b){debugImageLibrary&&(document.getElementById("forimagedata").value+="\n\nAJAX DELETE IMAGE RESULT:\n"+b+"\n")},"html");ajaxSaveSorting()}function setUploadField(){}
function getAgentLeads(b){var c=agentSiteIdTypeLookup[b];window.location.href=""!==b?"/z/inquiries/admin/manage-inquiries/index?agentuserid="+b+"&agentusersiteIdType="+c:"/z/inquiries/admin/manage-inquiries/index?agentuserid=&agentusersiteidtype=1"}
var debugVideoLibrary=!1,arrVideoLibrary={},zVideoLibraryIntervalId=!1,arrCurVideo=[],arrQueueVideoMap=[],progressBarWidth=100,arrProgressVideo=[],videoSortingStarted=!1,videoSortingChanged=!1,currentVideoLibraryId="",arrVideoLibraryCaptions=[],zVideoJsEmbedded=!1,zVideoJsEmbedIndex=0;
function zAjaxDeleteVideoCallback(b){b=eval("("+b+")");b.success?(document.getElementById("sortable").removeChild(arrVideoLibraryComplete[b.libraryId].NewLI),delete arrVideoLibraryComplete[b.libraryId]):alert("Failed to delete video.")}
function zDeleteVideo(b){var c=arrVideoLibraryComplete[b];if(!0===confirm("Are you sure you want to delete: "+c.name)){var d={id:"zAjaxDeleteVideo"};d.url="/z/_com/app/video-library?method=deleteVideo&video_id="+c.video_id+"&libraryid="+b;d.cache=!1;d.callback=zAjaxDeleteVideoCallback;d.ignoreOldRequests=!1;zAjax(d)}}
function zAjaxSaveQueueToVideoCallback(b){b=eval("("+b+")");if(!1===b.success)alert("Failed to save video to database.");else{var c=arrQueueVideoMap[b.queue_id];arrVideoLibrary[c].video_id=b.video_id;document.getElementById("divprogressbar"+c).style.display="none";arrVideoLibrary[c].divProgressBg.style.display="none";arrVideoLibrary[c].divProgressBg2.style.display="none";arrVideoLibrary[c].divProgressName.innerHTML+=' | <a href="#" onclick="showEmbedOptions(\''+c+'\'); return false;">Embed</a> | <a href="#" onclick="zDeleteVideo(\''+
c+"'); return false;\">Delete</a>";arrVideoLibraryComplete[c]=arrVideoLibrary[c]}}function zFixVideoObject(b){b.divVideoError=document.getElementById("divvideoerror"+b.id);b.divProgressName=document.getElementById("divprogressname"+b.id);b.divProgress=document.getElementById("divprogress"+b.id);b.divProgressBg=document.getElementById("divprogressbg"+b.id);b.divProgressBg2=document.getElementById("divprogressbg2"+b.id)}
function zAjaxEncodeProgressCallback(b){for(var c=eval("("+b+")"),d=[],h=0;h<c.arrVideos.length;h++){var b=c.arrVideos[h],l=arrVideoLibrary[arrQueueVideoMap[b.queue_id]];zFixVideoObject(l);var m=new Date,n=100/Math.max(0.01,b.percent)*(m.getTime()-l.startEncodeDate.getTime());m.getTime();l.startEncodeDate.getTime();m=Math.round(Math.round(100*((n-(m.getTime()-l.startEncodeDate.getTime()))/1E3))/100);2===b.status?l.divVideoError.innerHTML="There was an error encoding the video, please try again or contact the webmaster for assistance. Cause: "+
b.errorMessage:100===b.percent?(b.previewImage?($("#divprogressbar"+l.id).css("float","none"),l.divProgress.style.width="110px",l.divProgress.style.cssFloat="left",l.divProgress.innerHTML='<img src="/zupload/video/'+b.filename+'-00001.jpg" width="100" alt="Video" />',l.posterImage="/zupload/video/"+b.filename+"-00001.jpg"):(l.divProgress.innerHTML="Complete - Image Preview Not Available",l.posterImage=!1),$("#divprogress2_"+l.id).html("Encoding complete."),l.divProgressName.style.width="80%",l.divProgressName.style.cssFloat=
"left",l.videoFile="/zupload/video/"+b.filename,m={id:"zAjaxSaveQueueToVideo"},m.url="/z/_com/app/video-library?method=saveQueueToVideo&queue_id="+b.queue_id,m.cache=!1,m.callback=zAjaxSaveQueueToVideoCallback,m.ignoreOldRequests=!1,zAjax(m)):(0===b.percent&&(m="Calculating"),$("#divprogress2_"+l.id).html("Encoding | Progress: "+b.percent+"% | Seconds remaining: "+m));l.divProgressBg2.style.width=Math.round(b.percent/100*progressBarWidth)+"px";if(100>b.percent)for(l=0;l<arrProgressVideo.length;l++)if(arrProgressVideo[l]===
parseInt(b.queue_id)){d.push(arrProgressVideo[l]);break}}arrProgressVideo=d;0===d.length&&!1!==zVideoLibraryIntervalId&&(clearInterval(zVideoLibraryIntervalId),zVideoLibraryIntervalId=!1)}function zAjaxEncodeProgress(){var b={id:"zAjaxVideoEncodeProgress"};b.url="/z/_com/app/video-library?method=videoencodeprogress&queue_id_list="+arrProgressVideo.join(",");b.cache=!1;b.callback=zAjaxEncodeProgressCallback;b.ignoreOldRequests=!1;zAjax(b)}
function zAjaxEncodeCancelCallback(b){eval("("+b+")");for(var c in arrVideoLibrary)b=arrVideoLibrary[c],"undefined"===typeof b.video_id&&(document.getElementById("sortable").removeChild(b.NewLI),delete arrVideoLibrary[c]);!1!==zVideoLibraryIntervalId&&(clearInterval(zVideoLibraryIntervalId),zVideoLibraryIntervalId=!1);arrVideoLibrary=[];arrProgressVideo=[]}
function cancelEncoding(){if(0===arrProgressVideo.length)alert("No videos are currently being encoded.");else{var b={id:"zAjaxVideoEncodeCancel"};b.url="/z/_com/app/video-library?method=videoencodecancel&queue_id_list="+arrProgressVideo.join(",");b.cache=!1;b.callback=zAjaxEncodeCancelCallback;b.ignoreOldRequests=!1;zAjax(b)}}
function myUploadSuccess(b,c){var d=eval("("+c+")"),h=arrCurVideo;arrCurVideo=[];for(var l=0;l<d.arrVideos.length;l++){var m=d.arrVideos[l];!1===m.success?alert(m.message):(arrProgressVideo.push(parseInt(m.queue_id)),arrQueueVideoMap[parseInt(m.queue_id)]=h[l],arrVideoLibrary[h[l]].startEncodeDate=new Date,arrVideoLibrary[h[l]].width=m.width,arrVideoLibrary[h[l]].height=m.height,arrVideoLibrary[h[l]].divProgressName.innerHTML=m.video_file)}clearInterval(zVideoLibraryIntervalId);zVideoLibraryIntervalId=
setInterval(function(){zAjaxEncodeProgress()},1E3)}function myUploadError(){alert("Upload Cancelled")}function zAjaxKeepSessionActiveCallback(){}function keepSessionActive(){var b={id:"zKeepSessionActive",url:"/z/_com/app/video-library?method=videokeepsessionactive",cache:!1};b.callback=zAjaxKeepSessionActiveCallback;b.ignoreOldRequests=!1;zAjax(b)}
function ajaxSaveVideo(b){debugVideoLibrary&&(document.getElementById("forvideodata").value+="ajaxSaveVideo(): video_id:"+b+"\n");b="/z/_com/app/video-library?method=saveVideoId&action=update&video_library_id="+currentVideoLibraryId+"&video_id="+b+"&video_caption="+escape(document.getElementById("caption"+b).value);debugVideoLibrary&&(document.getElementById("forvideodata").value+="\n\n"+b+"\n\n");$.get(b,"",function(b){debugVideoLibrary&&(document.getElementById("forvideodata").value+="\n\nAJAX SAVE IMAGE RESULT:\n"+
b+"\n")},"html")}function videoModalClose(){document.getElementById("embedVideoDiv").innerHTML=""}
function showEmbedOptions(b){var c=embedCode;zArrModalCloseFunctions.push(videoModalClose);zShowModal(c,{width:Math.min(1920,zWindowSize.width-50),height:Math.min(1080,zWindowSize.height-50),maxWidth:1920,maxHeight:1080});document.getElementById("embedMenuDivTitle").innerHTML=arrVideoLibraryComplete[b].name;document.getElementById("video_embed_id").value=b;document.getElementById("video_embed_width").value=arrVideoLibraryComplete[b].width;document.getElementById("video_embed_height").value=arrVideoLibraryComplete[b].height}
function generateEmbedCode(){var b=document.getElementById("video_embed_id").value,c=arrVideoLibraryComplete[b],d=document.getElementById("video_embed_width").value,h=document.getElementById("video_embed_height").value,l=0;document.getElementById("video_embed_autoplay").checked&&(l=1);document.getElementById("video_embed_viewing_method_name1").checked||document.getElementById("video_embed_viewing_method_name2");document.getElementById("embedCodeTr").style.display="block";b=document.getElementById("embedTextarea");
!1===zVideoJsEmbedded&&(zVideoJsEmbedded=!0);zVideoJsEmbedIndex++;c.video_hash=c.videoFile.split("-")[1].substr(0,32);var m=0;1===l&&(m=1);c='<iframe src="'+zVideoJSDomain+"/z/misc/embed/video/"+c.video_id+"-"+c.video_hash+"-"+d+"-"+h+"-"+m+'-0-0-0-0"  style="margin:0px; border:none; overflow:auto;" seamless="seamless" width="'+d+'" height="'+h+'"></iframe>';b.value=c;document.getElementById("embedVideoDiv").innerHTML=c}
function zOS_mode_check(){document.zOS_mode_form.zOS_modeVarDumpName&&0!==document.zOS_mode_form.zOS_modeVarDumpName.value.length&&(document.zOS_mode_form.zOS_mode.value="varDump",document.zOS_mode_form.zOS_modeValue.value="true");return!0}function zURLAppend(b,c){return-1!==b.indexOf("?")?b+"&"+c:b+"?"+c}
function zOS_mode_submit(b,c,d,h){var l=document.getElementById("zOS_mode_form"),m=l.getAttribute("action");"viewMeta"===b&&(document.getElementById("zOS_modeVarDumpName").value="request.zos.templateData.tagContent",b="varDump");"undefined"===typeof h&&(h="");document.getElementById("zOS_mode").setAttribute("value",b);document.getElementById("zOS_modeValue").setAttribute("value",c);"viewAsXML"===b&&(m=zURLAppend(m,"zOS_viewAsXML=1"+h));"validateXHTML"===b&&"undefined"!==d&&(m=zURLAppend(m,"zOS_viewXHTMLError=1"+
h));"reset"===b&&(m=zURLAppend(m,"zReset="+d+h));l.setAttribute("action",m);l.submit()}function zOS_mode_status(){window.status="Warning: All variables will be reposted."}function zOS_mode_status_off(){window.status=""}function zOS_mode_hide(){document.getElementById("zOS_mode_table_tag").style.display="none"}function zOS_mode_show(){document.getElementById("zOS_mode_table_tag").style.display="block"}
function rentalForceReserve(b){"0"===b.value&&b.checked&&(document.getElementById("rental_config_reserve_online_name2").checked=!0)}function rentalForceCalendar(b){"1"===b.value&&b.checked&&(document.getElementById("rental_config_availability_calendar_name1").checked=!0)}var zArrURLParam=[];
function zParseURLParam(){var b,c=/\+/g,d=/([^&=]+)=?([^&]*)/g,h=window.location.search.substring(1);for(zArrURLParam={};;)if(b=d.exec(h))zArrURLParam[decodeURIComponent(b[1].replace(c," "))]=decodeURIComponent(b[2].replace(c," "));else break}zArrDeferredFunctions.push(function(){$(window).bind("popstate",zParseURLParam);zParseURLParam()});var searchCriteriaTrackSubGroup=[];
function clickSearchCriteriaSubGroup(b){groupId=parseInt(b.target.getAttribute("data-group-id"));$(".zSearchCriteriaSubGroup").each(function(){var b=parseInt(this.getAttribute("data-group-id"));"undefined"===typeof searchCriteriaTrackSubGroup[b]&&(searchCriteriaTrackSubGroup[b]={},searchCriteriaTrackSubGroup[b].open="block"===document.getElementById("zSearchCriteriaSubGroupContainer"+b).style.display?!0:!1);b===groupId&&(b!==groupId||searchCriteriaTrackSubGroup[b].open?($("#zSearchCriteriaSubGroupContainer"+
b).slideUp("fast"),searchCriteriaTrackSubGroup[b].open=!1,$("#zSearchCriteriaSubGroupToggle"+b).html("+")):($("#zSearchCriteriaSubGroupContainer"+b).slideDown("fast"),searchCriteriaTrackSubGroup[b].open=!0,$("#zSearchCriteriaSubGroupToggle"+b).html("-")))});return!1}var searchResultsTimeoutID=0,searchCriteriaTimeoutID=0,searchDisableJump=!1;
function ajaxSearchResultsCallback(b){clearTimeout(searchResultsTimeoutID);var c=$("#zSearchResultsDiv");c.fadeIn("fast");b=eval("("+b+")");b.success?c.html(b.html):c.html(b.errorMessage);searchDisableJump||zJumpToId("zSearchTitleDiv",-20);searchDisableJump=!1}var delayedSearchResultsTimeoutId=0;function getDelayedSearchResults(){$("#zSearchTrackerzIndex").val(1);clearTimeout(delayedSearchResultsTimeoutId);searchDisableJump=!0;delayedSearchResultsTimeoutId=setTimeout(getSearchResults,500)}
function getSearchResults(b,c){"undefined"===typeof b&&(b=$("#zSearchTrackerGroupId").val());"undefined"===typeof c&&(c=$("#zSearchTrackerzIndex").val());var d={};$("#zSearchTrackerGroupId").val(b);$("#zSearchTrackerzIndex").val(c);d.id="ajaxGetSearchResults";d.postObj=zGetFormDataByFormId("searchForm"+b);d.postObj.groupId=b;d.postObj.zIndex=c;d.postObj.disableSidebar=$("#zSearchFormDiv").attr("data-disable-sidebar");searchResultsTimeoutID=setTimeout(function(){$("#zSearchResultsDiv").html("One moment while we load your search results.")},
500);0===b&&$("#zSearchTextInput").length&&(d.postObj.searchtext=$("#zSearchTextInput").val());d.method="post";d.url="/z/misc/search-site/ajaxGetPublicSearchResults";d.cache=!1;d.callback=ajaxSearchResultsCallback;d.ignoreOldRequests=!0;zAjax(d);document.getElementById("contenttop")?window.location.href="#contenttop":(d=$("h1").first(),d.length?(""===d[0].id&&(d[0].id="zHeadingSearchTopLinkId"),window.location.href="#"+d[0].id):window.scrollTo(0,0))}
function zSearchCriteriaSetupSubGroupButtons(){$(".zSearchCriteriaSubGroup").bind("click",clickSearchCriteriaSubGroup);$(".zSearchCriteriaSubGroupToggle").bind("click",clickSearchCriteriaSubGroup);$(".zSearchCriteriaSubGroupLabel").bind("click",clickSearchCriteriaSubGroup)}
function ajaxSearchCriteriaCallback(b){clearTimeout(searchCriteriaTimeoutID);var b=eval("("+b+")"),c=$("#zSearchFormDiv"),d=$("#zSearchTitleDiv");b.success?(d.html(b.title),c.html(b.html),zSearchCriteriaSetupSubGroupButtons(),"0"===b.groupId&&""===$("#zSearchTextInput").val()||getSearchResults(b.groupId,b.zIndex)):c.html(b.errorMessage)}
function getSearchCriteria(b,c){"undefined"===typeof c&&(c=!1);$("#zSearchTrackerzIndex").val(1);$("#zSearchTabDiv a").each(function(){currentGroupId=parseInt(this.getAttribute("data-groupId"));b===currentGroupId?$(this).addClass("zSearchTabDivSelected"):$(this).removeClass("zSearchTabDivSelected")});searchCriteriaTimeoutID=setTimeout(function(){$("#zSearchFormDiv").html("One moment while we load the search form.")},500);var d={id:"ajaxGetSearchCriteria"};d.url="/z/misc/search-site/ajaxGetPublicSearchCriteria?groupId="+
encodeURIComponent(b)+"&clearCache="+encodeURIComponent(c);d.cache=!1;d.callback=ajaxSearchCriteriaCallback;d.ignoreOldRequests=!0;zAjax(d)}function reloadResultsIfBackDetected(){var b=$("#zSearchTrackerGroupId").val();""!==b&&getSearchCriteria(b)}function zFormatDollar(b){b=b.toFixed(2).split(".");return["$",b[0].split("").reverse().reduce(function(b,d,h){return d+(h&&!(h%3)?",":"")+b},"."),b[1]].join("")}
function zGetPMIRate(b,c){return 0.8>c?100:30===b?0.8<c&&0.85>=c?0.32:0.85<c&&0.9>=c?0.52:0.9<c&&0.95>=c?0.78:0.95<c&&0.97>=c?0.9:0:0.8<c&&0.85>=c?0.19:0.85<c&&0.9>=c?0.23:0.9<c&&0.95>=c?0.26:0.95<c&&0.97>=c?0.79:0}
function zCalculateMonthlyPayment(){var b=parseFloat(document.getElementById("homeprice").value),c=parseFloat(document.getElementById("percentdown").value),d=document.getElementById("loantype"),d=parseFloat(d.options[d.selectedIndex].value),h=parseFloat(document.getElementById("currentrate").value),l=parseFloat(document.getElementById("homeinsurance").value),m=parseFloat(document.getElementById("hometax").value),n=parseFloat(document.getElementById("homehoa").value);30.5===d&&(d=30);var l=l/12,m=
m/12,r=document.getElementById("zMortgagePaymentResults");arrT=[];var q=12*d,c=b-b*(c/100),s=h/100/12,h=s*c*Math.pow(1+s,q)/(Math.pow(1+s,q)-1),q=c*s;zFormatDollar(Math.round(100*q)/100);zFormatDollar(Math.round(100*(h-q))/100);var q=zFormatDollar(Math.round(100*h)/100),n=n/12,s=zFormatDollar(Math.round(100*n)/100),u=zFormatDollar(Math.round(100*l)/100),v=zFormatDollar(Math.round(100*m)/100),b=c/b,B=0;if(0.8<b){var x=zGetPMIRate(d,b);if(0===x){alert("Loan to value must be 97% or less");r.value="";
return}100===x?(B=0,x="$0.00"):(B=c*(x/100)/12,x=zFormatDollar(Math.round(100*B)/100))}arrHTML=['<span class="zMorgagePaymentTextTotal">'+zFormatDollar(Math.round(100*(n+B+l+m+h))/100)+"/month</span> (Principal+Interest+Tax+Insurance+PMI)<hr />"+q+" principal & interest<br />"+u+" Insurance<br />"+v+" Taxes<br />"+s+" HOA dues<br />"];0.8<b&&arrHTML.push(x+" PMI");r.innerHTML=arrHTML.join("")};"undefined"===typeof window.console&&(window.console={log:function(){}});function zKeyExists(b,c){return c in b}function zHtmlEditFormat(b,c){c=c?"&#13;":"\n";return(""+b).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,c).replace(/[\r\n]/g,c)}
var zDisableSearchFilter=0,zValues=[],zFormData={},zPositionObjSubtractId=!1,zPositionObjSubtractPos=[0,0],zArrMapFunctions=[],zArrScrollFunctions=[],zArrResizeFunctions=[],zWindowSize=!1;function zInitZValues(b){for(var c=0;c<b;c++)zValues[c]=[]}var zModernizrLoadedRan=!1;
zArrDeferredFunctions.unshift(function(){(function(b){b.unserialize=function(b){for(var b=decodeURI(b).split("&"),d={},h,l,m=0,n=b.length;m<n;m++){h=b[m].split("=");l=h[0];if(typeof d[l]==="undefined")d[l]=decodeURIComponent(h[1]);else{typeof d[l]==="string"&&(d[l]=[d[l]]);d[l].push(decodeURIComponent(h[1]))}}return d}})($)});var zPageHelpId="";
function zGetHelpForThisPage(b){b.id="getHelpForThisPageLinkId";if(zPageHelpId==""){alert("No help resources exist for this page yet.\n\nFeel free to browse the documentation or contact the web developer for further assistance.");return false}b.href=zPageHelpId;return true}var zCookieTrackingObj={},zCookieTrackingCount=0,zCookieTrackingEnabled=!1;function zTrackCookieChanges(){for(var b in zCookieTrackingObj){var c=zCookieTrackingObj[b],d=zGetCookie(b);if(d!==c.value){c.value=d;c.callback(d)}}}
function zWatchCookie(b,c){zCookieTrackingObj[b]={callback:c,value:zGetCookie(b)};zCookieTrackingCount++;zCookieTrackingEnabled||(zCookieTrackingEnabled=setInterval(zTrackCookieChanges,1E3))}function zDeleteWatchCookie(b){delete zCookieTrackingObj[b];zCookieTrackingCount--;if(zCookieTrackingCount===0){clearInterval(zCookieTrackingEnabled);zCookieTrackingEnabled=false}}
function zIsLoggedIn(){var b=zGetCookie("ZLOGGEDIN"),c=zGetCookie("ZSESSIONEXPIREDATE");if(b==="1"&&c!==""){if(new Date(c.toLocaleString())<new Date){zDeleteCookie("ZSESSIONEXPIREDATE");return false}return true}return false}zLoggedInTimeoutID=!1;zArrDeferredFunctions.push(function(){zLoggedInTimeoutID=setInterval(function(){zLoggedIn=zIsLoggedIn()},1E3)});
function zCloseThisWindow(b){typeof b==="undefined"&&(b=false);if(window.parent.zCloseModal)if(b){b=window.parent.location.href;window.parent.location.href=b}else window.parent.zCloseModal();else if(b){b=window.parent.location.href;window.parent.location.href=b}else window.close()}function zModernizrLoaded(){if(!zModernizrLoadedRan){zModernizrLoadedRan=true;zWindowIsLoaded||zWindowOnLoad();if(typeof zArrDeferredFunctions!=="undefined")for(var b=zArrDeferredFunctions,c=0;c<b.length;c++)b[c]()}}
var zArrMapFunctionsLoaded=!1;function zLoadMapFunctions(){if(!zArrMapFunctionsLoaded){zArrMapFunctionsLoaded=true;if(typeof zArrMapFunctions!=="undefined")for(var b=0;b<zArrMapFunctions.length;b++)zArrMapFunctions[b]()}}
function zSetScrollPosition(){var b=document.body.scrollTop;b===0&&(b=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0);zScrollPosition.top=b;b=document.body.scrollLeft;b===0&&(b=window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0);zScrollPosition.left=b}
function zCreateMap(b,c){var d={mapTypeId:google.maps.MapTypeId.ROADMAP},h;for(h in c)d[h]=c[h];var l={};if(typeof d.bindEvents!=="undefined"){l=d.bindEvents;delete d.bindEvents}document.getElementById(b).style.display="block";d=new google.maps.Map(document.getElementById(b),d);for(h in l)google.maps.event.addListener(d,h,l[h]);return d}var globalInfoWindow=null;
function zCreateMapMarker(b){typeof b==="undefined"&&(b={});var c={},d="";if(typeof b.infoWindowHTML!=="undefined"){d=b.infoWindowHTML;delete b.infoWindowHTML}if(typeof b.bindEvents!=="undefined"){c=b.bindEvents;delete b.bindEvents}var h=new google.maps.Marker(b),l;for(l in c)google.maps.event.addListener(h,l,c[l]);globalInfoWindow||(globalInfoWindow=new google.maps.InfoWindow({content:""}));if(d!==""){h.infoWindowHTML=d;google.maps.event.addListener(h,"click",function(){globalInfoWindow.close();
globalInfoWindow.setPosition(h.getPosition());globalInfoWindow.setContent(h.infoWindowHTML);globalInfoWindow.open(h.getMap(),h)})}return h}
function zGetFormDataByFormId(b){var c={};$("input, textarea, select",$("#"+b)).each(function(){typeof c[this.name]==="undefined"&&(c[this.name]=this.type==="checkbox"||this.type==="radio"?$("input[name="+this.name+"]:checked",$("#"+b)).map(function(){return this.value}).get().join(","):this.type.substr(0,6)==="select"?$("select[name="+this.name+"]",$("#"+b)).map(function(){return this.value}).get().join(","):this.type==="textarea"?$("textarea[name="+this.name+"]",$("#"+b)).map(function(){return this.value}).get().join(","):
$("input[name="+this.name+"]",$("#"+b)).map(function(){return this.value}).get().join(","))});return c}function zAddMapMarkerByLatLng(b,c,d,h){c.position=new google.maps.LatLng(d,h);zCreateMapMarker(c).setMap(b)}
function zMapFitMarkers(b,c){if(c.length!==0)if(c.length===1){if(c[0].getPosition().lat()!==0){b.setCenter(c[0].getPosition());b.setZoom(10)}}else{for(var d=new google.maps.LatLngBounds,h=false,l=0,m=c.length;l<m;l++)if(typeof c[l].getPosition()!=="undefined"&&c[l].getPosition().lat()!==0){d.extend(c[l].getPosition());h=true}h&&b.fitBounds(d)}}
function zAddMapMarkerByLatLng(b,c,d,h,l){var m=zCreateMapMarker(c),n=new google.maps.LatLng(d,h);m.setPosition(n);m.setMap(b);typeof l!=="undefined"&&setTimeout(function(){l(m,n)},10);return m}
function zGetLatLongByAddress(b,c,d){var h=new google.maps.Geocoder;typeof d==="undefined"&&(d=0);setTimeout(function(){h.geocode({address:b},function(d,h){h===google.maps.GeocoderStatus.OK?c(d[0].geometry.location):console.log('Geocode was not successful for address, "'+b+'", for the following reason: '+h)})},d)}
function zAddMapMarkerByAddress(b,c,d,h,l){var m=zCreateMapMarker(c),n=new google.maps.Geocoder;typeof l==="undefined"&&(l=0);setTimeout(function(){n.geocode({address:d},function(c,l){if(l===google.maps.GeocoderStatus.OK){m.setPosition(c[0].geometry.location);m.setMap(b);typeof h!=="undefined"&&h(m,c[0].geometry.location)}else console.log('Geocode was not successful for address, "'+d+'", for the following reason: '+l)})},l);return m}
function zCreateMapWithAddress(b,c,d,h,l){var m=zCreateMapMarker(l),l=new google.maps.Geocoder;if(c.length==="")if(typeof d.defaultAddress!=="undefined")c=d.defaultAddress;else return;var n={zoom:8,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP},r;for(r in d)n[r]=d[r];var q=zCreateMap(b,n);l.geocode({address:c},function(b,c){if(c===google.maps.GeocoderStatus.OK){setTimeout(function(){google.maps.event.trigger(q,"resize");q.setCenter(b[0].geometry.location)},1);m.setPosition(b[0].geometry.location);
m.setMap(q);if(typeof n.triggerEvents!=="undefined")for(var d in n.triggerEvents)google.maps.event.trigger(q,d);h(m)}else alert("Geocode was not successful for the following reason: "+c)});return{map:q,marker:m}}
function zCreateMapWithLatLng(b,c,d,h,l,m){var c={zoom:8,center:new google.maps.LatLng(c,d),mapTypeId:google.maps.MapTypeId.ROADMAP},n;for(n in h)c[n]=h[n];b=zCreateMap(b,c);typeof m==="undefined"&&(m={});m.position=c.center;m.map=b;m=zCreateMapMarker(m);if(typeof c.triggerEvents!=="undefined")for(n in c.triggerEvents)google.maps.event.trigger(b,n);l(m);return{map:b,marker:m}}var zLoadAndCropImagesIndex=0;
function zLoadAndCropImages(){var b=zGetElementsByClassName("zLoadAndCropImage");(new Date).getTime();for(var c=0;c<b.length;c++)if(b[c].getAttribute("data-imageloaded")!=="1"){b[c].setAttribute("data-imageloaded","1");var d=b[c].getAttribute("data-imageurl"),h=b[c].getAttribute("data-imagestyle"),l=parseInt(b[c].getAttribute("data-imagewidth")),m=parseInt(b[c].getAttribute("data-imageheight")),n=false;b[c].getAttribute("data-imagecrop")==="1"&&(n=true);if(typeof b[c].style.maxWidth!=="undefined"&&
b[c].style.maxWidth!==""){var r=parseInt(b[c].style.maxWidth);if(r<l)m=l=r}zLoadAndCropImage(b[c],d,false,l,m,n,h)}}function zLoadAndCropImagesDefer(){setTimeout(zLoadAndCropImages,1)}zArrLoadFunctions.push({functionName:zLoadAndCropImagesDefer});
function zLoadAndCropImage(b,c,d,h,l,m,n){if(zMSIEBrowser!==-1&&zMSIEVersion<=9)b.innerHTML=l===1E4?'<img src="'+c+'" />':'<img src="'+c+'" width="'+h+'" height="'+l+'" />';else{var r=window.location.href.indexOf("/",8),q="a";r!=-1&&(q=window.location.href.substr(0,r));var r=c.indexOf("/",8),s="b";s!=-1&&(s=c.substr(0,r));c.substr(0,4)=="http"&&(q!=s&&c.substr(0,13)!="/zimageproxy/")&&(c="/zimageproxy/"+c.replace("http://","").replace("https://",""));var u=document.createElement("canvas");zLoadAndCropImagesIndex++;
u.id="zCropImageID"+zLoadAndCropImagesIndex+"_canvas";u.width=h;u.height=l;u.style.cssText=n;var v=u.getContext("2d"),B=new Image;B.startTime=(new Date).getTime();B.onerror=function(){this.src="/z/a/listing/images/image-not-available.gif"};B.onload=function(){var c=(new Date).getTime(),n=c-this.startTime;d&&console.log(n/1E3+" seconds to load image");n=(new Date).getTime();if(this.width<=10||this.width>=1E3||this.height<=10||this.height>=1E3)d&&console.log("Failed to draw canvas because computed width x height was invalid: "+
this.width+"x"+this.height);else if(this.src.indexOf("/z/a/listing/images/image-not-available.gif")!==-1){u.width=this.width;u.height=this.height;v.drawImage(this,0,0);b.appendChild(u)}else{d&&console.log("image loaded:"+this.src);var r=new Date;u.width=this.width;u.height=this.height;v.drawImage(this,0,0);var q=v.getImageData(0,0,this.width,this.height),c=(new Date).getTime();d&&console.log((c-n)/1E3+" seconds to getimagedata");var n=(new Date).getTime(),s=Math.round(this.width/5),w=Math.round(this.height/
5),A=Math.round(this.width/2),y=Math.round(this.height/2),D=0,E=0,F=0,C=0;d&&console.log("top side");for(var z=0;z<this.height;z++){var t=A*4+z*4*this.width;rgb1=q.data[t]*q.data[t+1]*q.data[t+2];t=Math.max(1,A-s);t=t*4+z*4*this.width;rgb2=q.data[t]*q.data[t+1]*q.data[t+2];t=Math.min(this.width,A+s);t=t*4+z*4*this.width;rgb3=q.data[t]*q.data[t+1]*q.data[t+2];if((rgb1+rgb2+rgb3)/3<164E5){F=z+6;newy=z;for(z=Math.max(0,z-9);z<=newy;z++){t=A*4+z*4*this.width;rgb1=q.data[t]*q.data[t+1]*q.data[t+2];d&&
console.log(z+" | refining y: "+rgb1+" | red: "+q.data[t]+" | green: "+q.data[t+1]+" | blue: "+q.data[t+2]);if(rgb1<164E5){d&&console.log("final y:"+z);F=z+6;break}}break}}d&&console.log("bottom side");for(z=0;z<this.height;z++){c=(this.height-1)*4*this.width-z*4*this.width;t=A*4+c;rgb1=q.data[t]*q.data[t+1]*q.data[t+2];t=Math.max(1,A-s);t=t*4+c;rgb2=q.data[t]*q.data[t+1]*q.data[t+2];t=Math.min(this.width,A+s);t=t*4+c;rgb3=q.data[t]*q.data[t+1]*q.data[t+2];if((rgb1+rgb2+rgb3)/3<164E5){C=z+6;newy=
z;for(z=Math.max(0,z-9);z<=newy;z++){t=A*4+z*4*this.width;rgb1=q.data[t]*q.data[t+1]*q.data[t+2];d&&console.log(z+" | refining y: "+rgb1+" | red: "+q.data[t]+" | green: "+q.data[t+1]+" | blue: "+q.data[t+2]);if(rgb1<164E5){d&&console.log("final y:"+z);C=z+6;break}}break}}d&&console.log("left side");for(s=0;s<this.width;s++){t=s*4+y*4*this.width;rgb1=q.data[t]*q.data[t+1]*q.data[t+2];c=Math.max(1,y-w);t=s*4+c*4*this.width;rgb2=q.data[t]*q.data[t+1]*q.data[t+2];c=Math.min(this.height,y+w);t=s*4+c*4*
this.width;rgb3=q.data[t]*q.data[t+1]*q.data[t+2];if((rgb1+rgb2+rgb3)/3<164E5){D=s+6;newx=s;for(s=Math.max(0,s-9);s<=newx;s++){t=s*4+y*4*this.width;rgb1=q.data[t]*q.data[t+1]*q.data[t+2];d&&console.log(s+" | refining x: "+rgb1+" | red: "+q.data[t]+" | green: "+q.data[t+1]+" | blue: "+q.data[t+2]);if(rgb1<164E5){d&&console.log("final x:"+s);D=s+6;break}}break}}d&&console.log("right side");for(s=0;s<this.width;s++){z=(this.width-1-s)*4;t=(this.width-1-s)*4+y*4*this.width;t=s*4+t;rgb1=q.data[t]*q.data[t+
1]*q.data[t+2];c=Math.max(1,y-w);t=z+c*4*this.width;rgb2=q.data[t]*q.data[t+1]*q.data[t+2];c=Math.min(this.height,y+w);t=z+c*4*this.width;rgb3=q.data[t]*q.data[t+1]*q.data[t+2];if((rgb1+rgb2+rgb3)/3<164E5){E=s+6;newx=s;for(s=Math.max(0,s-9);s<=newx;s++){t=A*4+c;rgb1=q.data[t]*q.data[t+1]*q.data[t+2];d&&console.log(s+" | refining y: "+rgb1+" | red: "+q.data[t]+" | green: "+q.data[t+1]+" | blue: "+q.data[t+2]);if(rgb1<164E5){d&&console.log("final x:"+s);E=s+6;break}}break}}d&&console.log("left:"+D+
" | top:"+F+" | right:"+E+" | bottom:"+C);A=this.width;y=this.height;d&&console.log("original size:"+this.width+"x"+this.height);q=this.width-(D+E);w=this.height-(F+C);if(w<10||q<10){D=Math.abs(D-E)>50?Math.min(D,E):Math.max(D,E);F=Math.abs(F-C)>50?Math.min(F,C):Math.max(F,C);q=A-D*2;w=y-F*2;if(w<10||q<10){q=A;w=y}m=false}if(q<this.width/2||w<this.height/2){q=this.width;w=this.height}d&&console.log("size without whitespace:"+q+"x"+w);t=C=c=E=0;if(h===1E4&&l===1E4){A=q;y=w;h=q;l=w}else if(m){s=h/q;
A=h;y=w*s;if(y<l){s=l/w;A=q*s;y=l}if(A>h){E=(A-h)/2;c=(A-h)/2}if(y>l){C=(y-l)/2;t=(y-l)/2}D=D+E/2/s;F=F+C/2/s;d&&console.log("crop | left:"+E+" | top:"+C+" | right:"+c+" | bottom:"+t)}else{s=h/q;A=h;y=Math.ceil(w*s);if(y>l){s=l/w;A=Math.ceil(q*s);y=l}}if(this.width<A){d&&console.log("width exceeded original");A=h=this.width;l=y=this.height;C=E=F=D=0}if(this.height<y){d&&console.log("height exceeded original");y=l=this.height;A=this.width;C=E=F=D=0}d&&console.log("final size:"+A+"x"+y);d&&console.log("sizes:"+
h+"x"+l+":"+this.width+"x"+this.height);c=(new Date).getTime();d&&console.log((c-n)/1E3+" seconds to detect crop");(new Date).getTime();d&&console.log(Math.ceil(D)+" | "+Math.ceil(F)+" | "+Math.floor(q-E)+" | "+Math.floor(w-C)+" | "+-Math.ceil(E/2)+" | "+-Math.ceil(C/2)+" | "+Math.ceil(A)+" | "+Math.ceil(y));if(h<=10||h>=1E3||l<=10||l>=1E3)d&&console.log("Failed to draw canvas because computed width x height was invalid: "+h+"x"+l);else{u.width=h;u.height=l;d&&console.log(q+":"+w+":"+u.height+":"+
Math.ceil(y)+":"+Math.ceil(C));v.drawImage(B,Math.ceil(D),Math.ceil(F),Math.floor(q-D*2),Math.floor(w-F*2),-Math.ceil(E/2),-Math.ceil(C/2),Math.ceil(A),Math.ceil(y));b.appendChild(u);c=(new Date).getTime();d&&console.log((c-r)/1E3+" seconds to crop image")}}};B.src=c}}
function zIsMobilePhone(){var b=navigator.userAgent||navigator.vendor||window.opera;return/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4))?true:false}var zScrollTopComplete=!0;function zScrollTop(b,c,d){if(typeof b==="undefined"||typeof b==="boolean")b="html, body";if(zScrollTopComplete)if(typeof d!=="undefined"&&d){$(b).animate({scrollTop:c},{duration:200,complete:function(){zScrollTopComplete=true}});zScrollTopComplete=false}else{$(window).scrollTop(c);zScrollTopComplete=true}}var zIsTouchscreenCache=3;
function zIsTouchscreen(){if(zIsTouchscreenCache!==3)return zIsTouchscreenCache;var b=navigator.userAgent.toLowerCase();if(b.replace(/(android|iphone|ipad|viewpad|tablet|bolt|xoom|touchpad|playbook|kindle|gt-p|gt-i|sch-i|sch-t|mz609|mz617|mid7015|tf101|g-v|ct1002|transformer|silk| tab)/g,"anything")!==b)return zIsTouchscreenCache=true;if(b.indexOf("MSIE 10")!==-1&&window.navigator&&typeof window.navigator.msPointerEnabled!=="undefined"&&window.navigator.msPointerEnabled===false)return zIsTouchscreenCache=
true;return zIsTouchscreenCache=false}function zGetChildElementCount(b){for(var c=0,d=0;d<document.getElementById(b).childNodes.length;d++)document.getElementById(b).childNodes[d].nodeName!=="#text"&&c++;return c}
function zLoadHomeSlides(b){for(var c=0,d=0;d<zArrSlideshowIds.length;d++)if(zArrSlideshowIds[d].id===b){zArrSlideshowIds[d].rotateIndex=0;zArrSlideshowIds[d].rotateGroupIndex=0;zArrSlideshowIds[d].ignoreNextRotate=true;c=zArrSlideshowIds[d];break}zSlideshowSetupSliderButtons(c);(c.layout===2||c.layout===0)&&$("#zUniqueSlideshowLargeId"+c.id).cycle({before:zImageLazyLoadUpdate,fx:"fade",startingSlide:0,timeout:c.slideDelay});if(c.layout===1||c.layout===0){b=c.slideDelay;d="slide";c.slideDirection===
"y"&&(d="verticalslide");c.layout===0&&(b=false);$("#zUniqueSlideshowId"+c.id).slides({newClassNames:true,newId:c.id,play:b,pause:b,effect:d,next:"zlistingslidernext"+c.id,prev:"zlistingsliderprev"+c.id,hoverPause:false})}zLoadAndCropImages()}var zArrSlideshowIds=[];function zGetSlideShowId(b){for(var c=0;c<zArrSlideshowIds.length;c++)if(zArrSlideshowIds[c].id===b)return c;return false}
function zUpdateListingSlides(b,c){for(var d=0,h=0;h<zArrSlideshowIds.length;h++)if(zArrSlideshowIds[h].id===b){d=zArrSlideshowIds[h];break}$.ajax({url:c,context:document.body,success:function(c){if(zArrSlideshowIds[h].layout===0){c=c.split("~~~");$("#zUniqueSlideshowLargeId"+zArrSlideshowIds[h].id).html(c[0]);var m="";zArrSlideshowIds[h].slideDirection==="x"&&(m=m+('<div id="zslideshowhomeslidenav'+zArrSlideshowIds[h].id+'">'+document.getElementById("zslideshowhomeslidenav"+zArrSlideshowIds[h].id).innerHTML+
"</div>"));m=m+('<div class="zslideshow'+zArrSlideshowIds[h].id+'-38-2">\t\t<a href="#" class="zlistingsliderprev'+zArrSlideshowIds[h].id+'"><span class="zlistingsliderprevimg'+zArrSlideshowIds[h].id+'">&nbsp;</span></a><div id="zslideshowslides'+zArrSlideshowIds[h].id+'"><div id="zlistingcontainer'+zArrSlideshowIds[h].id+'" class="zslideshowslides_container'+zArrSlideshowIds[h].id+'"><div class="zslideshowslide'+zArrSlideshowIds[h].id+'">'+c[1]+'</div></div></div>\t\t<a href="#" class="zlistingslidernext'+
zArrSlideshowIds[h].id+'"><span class="zlistingslidernextimg'+zArrSlideshowIds[h].id+'">&nbsp;</span></a></div>');$("#zUniqueSlideshowId"+zArrSlideshowIds[h].id).html(m)}else d.layout===2?$("#zUniqueSlideshowLargeId"+zArrSlideshowIds[h].id).html(c):$("#zUniqueSlideshowId"+zArrSlideshowIds[h].id).html('<div id="zslideshowhomeslidenav'+zArrSlideshowIds[h].id+'">'+document.getElementById("zslideshowhomeslidenav"+zArrSlideshowIds[h].id).innerHTML+'</div><div class="zslideshow'+zArrSlideshowIds[h].id+
'-38-2">\t\t<a href="#" class="zlistingsliderprev'+zArrSlideshowIds[h].id+'"><span class="zlistingsliderprevimg'+zArrSlideshowIds[h].id+'">&nbsp;</span></a><div id="zslideshowslides'+zArrSlideshowIds[h].id+'"><div id="zlistingcontainer'+zArrSlideshowIds[h].id+'" class="zslideshowslides_container'+zArrSlideshowIds[h].id+'"><div class="zslideshowslide'+zArrSlideshowIds[h].id+'">'+c+'</div></div></div>\t\t<a href="#" class="zlistingslidernext'+zArrSlideshowIds[h].id+'"><span class="zlistingslidernextimg'+
zArrSlideshowIds[h].id+'">&nbsp;</span></a></div>');window.location.href.indexOf("/z/misc/slideshow/embed")!==-1&&$("a").attr("target","_parent");zLoadHomeSlides(b)}})}
function zImageLazyLoadUpdate(b,c){var d=parseInt(c.parentNode.id.substr(23,c.parentNode.id.length-23)),d=zGetSlideShowId(d);if(zArrSlideshowIds[d].moveSliderId!==false){if(zArrSlideshowIds[d].ignoreNextRotate===false&&zArrSlideshowIds[d].rotateIndex%zArrSlideshowIds[d].movedTileCount===0){zArrSlideshowIds[d].ignoreNextRotate=true;$(".zlistingslidernext"+zArrSlideshowIds[d].id).trigger("click");zArrSlideshowIds[d].rotateGroupIndex+1===3?zArrSlideshowIds[d].rotateGroupIndex=0:zArrSlideshowIds[d].rotateGroupIndex++}zArrSlideshowIds[d].ignoreNextRotate=
false;zArrSlideshowIds[d].rotateIndex+1===zArrSlideshowIds[d].movedTileCount*3?zArrSlideshowIds[d].rotateIndex=0:zArrSlideshowIds[d].rotateIndex++}var d=document.getElementById(c.id+"_img"),h=document.getElementById(b.id+"_img");if(d&&d.src!==c.title)d.src=c.title;if(h&&h.src!==c.title)h.src=b.title}
function zSlideshowSetupSliderButtons(b){$(".zlistingsliderprev"+b.id).bind("click",function(){var b=parseInt(this.className.substr(18,this.className.length-18)),b=zGetSlideShowId(b);zArrSlideshowIds[b].rotateGroupIndex===0?zArrSlideshowIds[b].rotateGroupIndex=2:zArrSlideshowIds[b].rotateGroupIndex--;if(zArrSlideshowIds[b].layout===0&&zArrSlideshowIds[b].rotateIndex!==zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount){$("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle("destroy");
zArrSlideshowIds[b].rotateIndex=zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount;zArrSlideshowIds[b].ignoreNextRotate=true;$("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle({before:zImageLazyLoadUpdate,fx:"fade",startingSlide:zArrSlideshowIds[b].rotateIndex,timeout:zArrSlideshowIds[b].slideDelay})}});$(".zlistingslidernext"+b.id).bind("click",function(){var b=parseInt(this.className.substr(18,this.className.length-18)),b=zGetSlideShowId(b);if(!zArrSlideshowIds[b].ignoreNextRotate){zArrSlideshowIds[b].rotateGroupIndex===
2?zArrSlideshowIds[b].rotateGroupIndex=0:zArrSlideshowIds[b].rotateGroupIndex++;if(zArrSlideshowIds[b].layout===0&&zArrSlideshowIds[b].rotateIndex!==zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount){$("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle("destroy");zArrSlideshowIds[b].rotateIndex=zArrSlideshowIds[b].rotateGroupIndex*zArrSlideshowIds[b].movedTileCount;zArrSlideshowIds[b].ignoreNextRotate=true;$("#zUniqueSlideshowLargeId"+zArrSlideshowIds[b].id).cycle({before:zImageLazyLoadUpdate,
fx:"fade",startingSlide:zArrSlideshowIds[b].rotateIndex,timeout:zArrSlideshowIds[b].slideDelay})}}})}
function zSlideshowInit(){for(var b=0;b<zArrSlideshowIds.length;b++){$(".zslideshowslides_container"+zArrSlideshowIds[b].id).css("display","block");var c=zArrSlideshowIds[b];zSlideshowSetupSliderButtons(c);zArrSlideshowIds[b].ignoreNextRotate=true;zArrSlideshowIds[b].moveSliderId=c.layout===0?"#zUniqueSlideshowId"+c.id:false;if(c.layout===2){var d=zGetChildElementCount("zUniqueSlideshowLargeId"+c.id);if(d===0)document.getElementById("zUniqueSlideshowContainerId"+c.id).style.display="none";else if(d===
1){var d=document.getElementById("zUniqueSlideshowLargeId"+c.id),h=0;d.childNodes[0].nodeName==="#text"&&(h=1);var l=document.getElementById(d.childNodes[h].id+"_img");if(l&&l.src!==d.childNodes[h].title)l.src=d.childNodes[h].title}}if(c.layout===2||c.layout===0){if(c.slideDelay===0){c.slideDelay=4E3;zArrSlideshowIds[b].slideDelay=4E3}$("#zUniqueSlideshowLargeId"+c.id).cycle({before:zImageLazyLoadUpdate,fx:"fade",timeout:c.slideDelay})}if(c.layout===1||c.layout===0){d=c.slideDelay;h="slide";c.slideDirection===
"y"&&(h="verticalslide");c.layout===0&&(d=false);$("#zUniqueSlideshowId"+c.id).slides({newClassNames:true,newId:c.id,play:d,pause:d,effect:h,next:"zlistingslidernext"+c.id,prev:"zlistingsliderprev"+c.id,hoverPause:false})}window.location.href.indexOf("/z/misc/slideshow/embed")!==-1&&$("a",document.body).attr("target","_parent")}}function zSlideshowClickLink(b){window.location.href.indexOf("/z/misc/slideshow/embed")!==-1?top.location.href=b:window.location.href=b}
var zPopUnderURL="",zPopUnderFeatures="",zPopUnderLoaded=!1;function zLoadPopUnder(b,c){zPopUnderURL=b;zPopUnderFeatures=c;if(zPopUnderLoaded===false&&zGetCookie("zpopunder")===""){zPopUnderLoaded=true;document.body.onclick=function(){zSetCookie({key:"zpopunder",value:"yes",futureSeconds:43200,enableSubdomains:false});win2=window.open(zPopUnderURL,"zpopunderwindow",zPopUnderFeatures);win2.blur();window.focus()}}}
function zURLEscape(b){var b=encodeURIComponent(b.toString().trim()),c=RegExp("/+/","g"),b=b.replace(c,"+"),c=RegExp("/@/","g"),b=b.replace(c,"@"),c=RegExp("///","g"),b=b.replace(c,"/"),c=RegExp("/*/","g");return b=b.replace(c,"*")}function zLoadVideoJSID(b,c){VideoJS.setup(b);c&&document.getElementById(b).player.play()}
function zGetCookie(b){var c=document.cookie;if(c.length>0){var d=c.indexOf(b+"=");if(d!==-1){d=d+b.length+1;b=c.indexOf(";",d);if(b===-1)b=c.length;return unescape(c.substring(d,b))}}return""}function zDeleteCookie(b){zSetCookie({key:b,value:"",futureSeconds:-1,enableSubdomains:true})}
function zSetCookie(b){if(typeof b!=="object")throw"zSetCookie requires an obj like {key:'cookie'',value:'value',futureSeconds:60,enableSubdomains:false}.";var c={futureSeconds:0,enableSubdomains:false},d;for(d in b)c[d]=b[d];b=c.key+"="+escape(c.value);if(c.futureSeconds!==0){d=new Date;d=new Date(d.getTime()+c.futureSeconds*1E3);b=b+(";expires="+d.toGMTString())}c.enableSubdomains&&(b=b+(";domain=."+window.location.hostname.replace("www.","").replace("secure.","")));document.cookie=b}
function walkTheDOM(b,c){c(b);for(b=b.firstChild;b;){walkTheDOM(b,c);b=b.nextSibling}}function zGetElementsByClassName(b){if(typeof document.getElementsByClassName!=="undefined")return document.getElementsByClassName(b);var c=[];walkTheDOM(document.body,function(d){var h;h=d.className;var l;if(h){h=h.split(" ");for(l=0;l<h.length;l++)if(h[l]===b){c.push(d);break}}});return c}var is_webkit=-1<navigator.userAgent.toLowerCase().indexOf("webkit");
function zswfr(b,c,d){var h=b.indexOf(c);if(h!==-1){var l=b.substr(0,h),b=b.substr(h+c.length,b.length-(h+c.length));return l+d+b}return b}function zswf(b){b=zswfr(b,'zswf="off"','zswf="off" style="display:block;"');document.write(b)}var ie=document.defaultCharset&&document.getElementById&&!window.home;ie&&!is_webkit&&document.write('<style type="text/css" id="hideObject">object{display:none;}</style>');
function zswf2(){if(document.getElementsByTagName){for(var b=[],c=document.getElementsByTagName("object"),d=0;d<c.length;d++){var h=c[d],l=h.outerHTML;if(!(l&&l.indexOf('zswf="off"')!==-1)){for(var m="",n=true,r=0;r<h.childNodes.length;r++){var q=h.childNodes[r];if(q.tagName==="PARAM"){if(q.name==="flashVersion"){n=zswfd(q.value);if(!n){h.id=h.id===""?"stripFlash"+d:h.id;b.push(h.id);break}}m=m+q.outerHTML}}if(n&&ie&&h.className.toLowerCase().indexOf("noswap")===-1){r=l.split(">")[0]+">"+m+h.innerHTML+
"</OBJECT>";h.outerHTML=r}}}b.length&&stripFlash(b);if(ie&&!is_webkit)var s=document.getElementById("hideObject");if(s)s.disabled=true}}function zswfd(b){if(navigator.plugins&&navigator.plugins.length){if(navigator.plugins["Shockwave Flash"]==="undefined")return false;var c=navigator.plugins["Shockwave Flash"].description.split(" ")[2];return Number(c)>=Number(b)}if(ie&&typeof ActiveXObject==="function")try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b)}catch(d){return false}return true}
function zswfs(b){if(document.createElement)for(var c=0;c<b.length;c++){var d=document.getElementById(b[c]),h=d.innerHTML,h=h.replace(/<\!--\s/g,""),h=h.replace(/\s--\>/g,""),h=h.replace(/<embed/gi,"<span"),l=document.createElement("div");l.innerHTML=h;l.className=d.className;l.id=d.id;d.parentNode.replaceChild(l,d)}}zswf2();function zToggleDisplay(b){b=document.getElementById(b);b.style.display=b.style.display==="none"?"block":"none"}var zArrBlink=[];
function zBlinkId(b,c){var d=document.getElementById(b);typeof zArrBlink[b]==="undefined"&&(zArrBlink[b]=0);d.style.visibility=zArrBlink[b]%2===0?"visible":"hidden";zArrBlink[b]=zArrBlink[b]<1?1:0;setTimeout("zBlinkId('"+b+"',"+c+")",c)}
function zFindPosition(b){var c=curtop=curwidth=curheight=0;if(b.offsetParent){c=b.offsetLeft;curtop=b.offsetTop;curwidth=b.offsetWidth;for(curheight=b.offsetHeight;;){b=b.offsetParent;if(typeof b==="undefined"||b===null)break;else{c=c+b.offsetLeft;curtop=curtop+b.offsetTop}}}return[c,curtop,curwidth,curheight]}
function zGetAbsPosition(b){var c={x:0,y:0,cx:0,cy:0};if(b){c.x=b.offsetLeft;c.y=b.offsetTop;if(b.offsetParent){var d=zGetAbsPosition(b.offsetParent);c.x=c.x+d.x;c.y=c.y+d.y}c.cx=b.offsetWidth;c.cy=b.offsetHeight}c.width=c.cx;c.height=c.cy;return c}var zIgnoreClickBackup=!1;function zRenable(){zIgnoreClickBackup?zIgnoreClickBackup=false:zInputHideDiv();return true}var zDocumentClickBackup="function"===typeof document.onclick?document.onclick:function(){};
$(document).bind("click",function(b){zDocumentClickBackup(b);zRenable(b)});function zFixText(b){b=zMakeEnglish(b);b=zIsAlphabet(b);return b=b.toLowerCase()}function zFormatTheArray(b){var c=[];for(i=0;i<b.length;i++)c[i]=zFixText(b[i]);return c}function zDisableEnter(b){b=window.event?window.event.keyCode:b.which;return b===13||b===40||b===38?false:true}var selIndex=0;
function zKeyboardEvent(b,c,d,h){if(b!==null){selIndex||(selIndex=0);b=window.event?b.keyCode:b.which;if(c.value.length>2){var l=document.getElementById("zTOB");if(b===13||h===true){if(c.value==="")return;if(l.style.display==="block"){l=b=document.getElementById("lid"+arrNewLink[selIndex]).innerHTML;for(h=0;h<zArrCityLookup.length;h++){var m=zArrCityLookup[h].split("\t");if(m[0]===b){l=m[1];break}}c.value=b;d.value=l;zInputHideDiv(formName)}else d.value=c.value;selIndex=-1}else if(b===40){selIndex++;
selIndex=Math.min(selIndex,arrNewLink.length-1)}else if(b===38){selIndex--;selIndex=Math.max(0,selIndex)}else{if(l.style.display!=="block"){d.value=c.value;selIndex=-1}return}for(h=0;h<arrNewLink.length;h++){b=document.getElementById("lid"+arrNewLink[h]);if(h===selIndex){b.className="zTOB-selected";for(var l=b=b.innerHTML,n=0;n<zArrCityLookup.length;n++){m=zArrCityLookup[n].split("\t");if(m[0]===b){l=m[1];break}}c.value=b;d.value=l}else b.className="zTOB-link"}}}}
function zInputHideDiv(){var b=document.getElementById("zTOB");if(b!==null)b.style.display="none"}function zIsAlphabet(b){b.match(/^[a-zA-Z0-9 ]+$/);return b}var daysToOffset=0;
function zMakeEnglish(b){var c=b,d=/^[a-zA-Z ]+$/;if(b.match(d))return b;var h=["A","A","A","A","A","A","AE","C","E","E","E","E","I","I","I","I","ETH","N","O","O","O","O","O","O","U","U","U","U","Y","THORN","s","a","a","a","a","a","a","ae","c","e","e","e","e","i","i","i","i","eth","n","o","o","o","o","o","o","u","u","u","u","y","thorn","y","OE","oe","S","s","Y","f"],l=["\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd",
"\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd","\ufffd"];for(e=0;e<b.length;e++)for(f=
0;f<l.length;f++)if(c.charAt(e)===l[f]){myChar=c.charAt(e);if(!myChar.match(d)){pattern=RegExp(l[f]);c=c.replace(pattern,h[f])}}return c}function zStringReplaceAll(b,c,d){return b.replace(RegExp(c,"g"),d)}function zFormOnKeyUp(b,c){document.getElementById(zFormData[b].arrFields[c].id);zFormData[b].error&&zFormSubmit(b,true,false)}
function zFormOnChange(b,c){document.getElementById(zFormData[b].arrFields[c].id);zFormData[b].error&&zFormSubmit(b,true,false);if(typeof zFormData[b].onChangeCallback!=="undefined")zFormData[b].onChangeCallback(b)}function zFormSetError(b,c){var d=document.getElementById(b+"_container");if(d!==null)d.className=c?"tr_error":""}var zAjaxData=[],zAjaxCounter=0;
function zAjax(b){var c=null;window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLHTTP"));if(typeof zAjaxData[b.id]==="undefined"){zAjaxData[b.id]={};zAjaxData[b.id].requestCount=0;zAjaxData[b.id].requestEndCount=0;zAjaxData[b.id].cacheData=[]}if(typeof b.postObj==="undefined")b.postObj={};var d="",h;for(h in b.postObj)d=d+(h+"="+encodeURIComponent(b.postObj[h])+"&");if(typeof b.cache==="undefined")b.cache=false;if(typeof b.method==="undefined")b.method=
"get";if(typeof b.debug==="undefined")b.debug=false;if(typeof b.errorCallback==="undefined")b.errorCallback=function(){};if(typeof b.ignoreOldRequests==="undefined")b.ignoreOldRequests=false;(typeof b.url==="undefined"||typeof b.callback==="undefined")&&alert("zAjax() Error: obj.url and obj.callback are required");zAjaxData[b.id].requestCount++;zAjaxData[b.id].cache=b.cache;zAjaxData[b.id].debug=b.debug;zAjaxData[b.id].method=b.method;zAjaxData[b.id].url=b.url;zAjaxData[b.id].ignoreOldRequests=b.ignoreOldRequests;
zAjaxData[b.id].callback=b.callback;zAjaxData[b.id].errorCallback=b.errorCallback;zAjaxData[b.id].cache&&(zAjaxData[b.id].cacheData[b.url]&&zAjaxData[b.id].cacheData[b.url].success)&&zAjaxData[b.id].callback(zAjaxData[b.id].cacheData[b.url].responseText);c.onreadystatechange=function(){if(c.readyState===4||c.readyState==="complete"||zMSIEBrowser!==-1&&zMSIEVersion<=7&&this.readyState==="loaded"){var b=c.getResponseHeader("x_ajax_id");typeof b!=="undefined"&&(new String(b)).indexOf(",")!==-1&&(b=b.split(",")[0]);
if(c.status!==200&&c.status!==301&&c.status!==302)if(b===null||b==="")if(zAjaxLastRequestId!==false){b=zAjaxLastRequestId;zAjaxData[b].errorCallback(c)}else alert("Sorry, but that page failed to load right now, please refresh your browser or come back later.");else zAjaxData[b].debug?document.write("AJAX SERVER ERROR - (Click back and refresh to continue):<br />"+c.responseText):zAjaxData[b].errorCallback(c);else if(b===null||b===""){alert("Invalid ajax response - missing id");return}if(typeof zAjaxData[b]!==
"undefined"){zAjaxData[b].requestEndCount++;if(!zAjaxData[b].ignoreOldRequests||zAjaxData[b].requestCount===zAjaxData[b].requestEndCount)if(c.status===200||c.status===301||c.status===302){if(zAjaxData[b].cache){zAjaxData[b].cacheData[zAjaxData[b].url]={};zAjaxData[b].cacheData[zAjaxData[b].url].responseText=c.responseText;zAjaxData[b].cacheData[zAjaxData[b].url].success=true}zAjaxData[b].callback(c.responseText)}}zAjaxLastRequestId=false}};h=Math.random()*1E3;var l="&zFPE=1";zAjaxData[b.id].debug&&
(l="");zAjaxLastRequestId=b.id;var m=zAjaxData[b.id].url,m=m.indexOf("?")===-1?m+("?"+l+"&ztmp="+h):m+("&"+l+"&ztmp="+h),m=m+("&x_ajax_id="+escape(b.id));if(zAjaxData[b.id].method.toLowerCase()==="get"){c.open(zAjaxData[b.id].method,m,true);c.send("")}else if(zAjaxData[b.id].method.toLowerCase()==="post"){c.open(zAjaxData[b.id].method,m,true);c.setRequestHeader("Content-type","application/x-www-form-urlencoded");c.send(d)}}
var zAjaxLastRequestId=!1,zAjaxLastFormName="",zAjaxOnLoadCallback=function(){},zAjaxOnErrorCallback=function(){};
function zFormSubmit(b,c,d,h,l){if(!(typeof zFormData[b]==="undefined"||typeof zFormData[b].arrFields==="undefined")){if((c===null||!c)&&d===false&&zFormData[b].submitContainer!==""){d=document.getElementById(zFormData[b].submitContainer);if(d!==null){zFormData[b].submitContainerBackup=d.innerHTML;d.innerHTML="Please wait..."}}for(var m=[],d=false,h=[],n={},r=0;r<zFormData[b].arrFields.length;r++){var q=zFormData[b].arrFields[r];if(typeof q!=="undefined"){var s="";if(q.type==="file"&&zFormData[b].ajax){alert("File upload doesn't work with AJAX. Must use iframe and server-side progress bar (php for non-breaking uploads)");
return false}if(q.type==="text"||q.type==="file"||q.type==="hidden")var u=document.getElementById(q.id),s=u.value;else if(q.type==="select"){u=document.getElementById(q.id);if(typeof u.multiple!=="undefined"&&u.multiple)for(var v=0;v<u.options.length;v++){if(u.options[v].selected){s.length!==0&&(s=s+",");s=s+u.options[v].value}}else{if(u.selectedIndex===-1)u.selectedIndex=0;if(u.options[u.selectedIndex].value!=="")s=u.options[u.selectedIndex].value}}else if(q.type==="radio"){u=document.getElementById(q.id);
u=document[b][q.id];for(v=0;v<u.length;v++)if(u[v].checked)s=u[v].value}else if(q.type==="checkbox"){u=document.getElementById(q.id);if(u.checked)s=u.value}else if(q.type==="zExpandingBox"){arrV=[];for(v=0;v<zExpArrMenuBox.length;v++)if(zExpArrMenuBox[v]===q.id){s=document.getElementById("zExpMenuBoxCount"+v).value;for(u=0;u<s;u++){var B=document.getElementById("zExpMenuOption"+v+"_"+u);B.checked&&arrV.push(B.value)}}s=arrV.join(",")}s=s.replace(/^\s+|\s+$/g,"");n[q.id]=escape(s);m.push(q.id+"="+
escape(s));if(s==="")if(q.allowNull!==null&q.allowNull)continue;else if(q.required!==null&&q.required){h.push(q.friendlyName+" is required.");zFormSetError(q.id,true);d=true;continue}if(q.number!==null&q.number){value2=parseFloat(s);if(s!==value2){h.push(q.friendlyName+" must be a number.");zFormSetError(q.id,true);d=true;continue}}if(q.email!==null&q.email&&!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(s)){h.push(q.friendlyName+" must be a well formatted email address, (ex. johndoe@domain.com).");
zFormSetError(q.id,true);d=true}else zFormSetError(q.id,false)}}if(typeof l!=="undefined"&&l)return n;l=m.join("&");m=document.getElementById("zFormMessage_"+b);if(d){m.innerHTML='<table style="width:100%;border-spacing:5px;"><tr><th>Please correct your entry and try again.</th></tr><tr><td>'+h.join("</td></tr><tr><td>")+"</td></tr></table>";m.style.display="block";zFormData[b].error=true}else{zFormData[b].error=false;m.style.display="none"}if(c!==null&&c)return false;if(d){window.location.href="#anchor_"+
b;if(zFormData[b].submitContainer!==""){d=document.getElementById(zFormData[b].submitContainer);if(d!==null)d.innerHTML=zFormData[b].submitContainerBackup}return false}if(zFormData[b].ajax){if(!(zFormData[b].ignoreOldRequests&&zFormData[b].ajaxStartCount!==zFormData[b].ajaxEndCount)){var x=null;window.XMLHttpRequest?x=new XMLHttpRequest:window.ActiveXObject&&(x=new ActiveXObject("Microsoft.XMLHTTP"));zAjaxLastFormName=b;zAjaxLastOnLoadCallback=zFormData[b].onLoadCallback;zAjaxLastOnErrorCallback=
zFormData[b].onErrorCallback;x.onreadystatechange=function(){if((x.readyState===4||x.readyState==="complete"||zMSIEBrowser!==-1&&zMSIEVersion<=7&&this.readyState==="loaded")&&typeof zFormData[zAjaxLastFormName]!=="undefined"){zFormData[zAjaxLastFormName].ajaxEndCount++;if(x.status===200){zAjaxLastOnLoadCallback(x.responseText);zFormData[zAjaxLastFormName].ajaxSuccess=true;if(zFormData[zAjaxLastFormName].successMessage!==false){var b=document.getElementById("zFormMessage_"+zAjaxLastFormName);b.style.display=
"block";b.innerHTML='<div class="successBox">Form submitted successfully.<br />'+x.responseText+"</div>"}}else{zFormData[zAjaxLastFormName].ajaxStartCount=0;zFormData[zAjaxLastFormName].ajaxEndCount=0;zFormData[zAjaxLastFormName].ajaxSuccess=false;zFormData[zAjaxLastFormName].debug?document.write("AJAX SERVER ERROR - (Click back and refresh to continue):<br />"+x.responseText):zAjaxLastOnErrorCallback(x.status+": The server failed to process your request.\nPlease try again later.")}if(zFormData[zAjaxLastFormName].submitContainerBackup!==
null&&zFormData[zAjaxLastFormName].submitContainer!==""){b=document.getElementById(zFormData[zAjaxLastFormName].submitContainer);if(b!==null)b.innerHTML=zFormData[zAjaxLastFormName].submitContainerBackup}}};zFormData[b].ajaxSuccess=false;zFormData[b].ajaxStartCount++;c=Math.random()*1E3;d=zFormData[b].action;h="&zFPE=1";zFormData[b].debug&&(h="");if(zFormData[b].method.toLowerCase()==="get"){d=d.indexOf("?")===-1?d+("?"+l+h+"&ztmp="+c):d+("&"+l+h+"&ztmp="+c);x.open(zFormData[b].method,d,true);x.send("")}else if(zFormData[b].method.toLowerCase()===
"post"){d.indexOf("?");d=d+(h+"&ztmp="+c);l=encodeURI(l);x.open(zFormData[b].method,d,true);x.setRequestHeader("Content-type",zFormData[b].contentType);x.send(l)}}return false}return true}}function setPos(b,c,d){b.style.left=c+"px";b.style.top=d+"px"}var zMousePosition={x:0,y:0};
function zDrag_mouseCoords(b){var c=document.documentElement.scrollLeft,d=document.documentElement.scrollTop;if(typeof c==="undefined")c=document.body.scrollLeft;if(typeof d==="undefined")d=document.body.scrollTop;if(document.layers)var h=window.innerWidth+window.pageXOffset,l=window.innerHeight+window.pageYOffset;else if(document.all){l=document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;h=(document.documentElement.clientWidth?document.documentElement.clientWidth:
document.body.clientWidth)+c;l=l+d}else if(document.getElementById){h=window.innerWidth+window.pageXOffset;l=window.innerHeight+window.pageYOffset}var m=0,n=0;b.pageX?m=b.pageX:b.clientX&&(m=b.clientX+c);b.pageY?n=b.pageY:b.clientY&&(n=b.clientY+d);return{x:m,y:n,pageWidth:h,pageHeight:l}}function zDrag_makeClickable(b){b.onmousedown=function(){zDrag_dragObject=this}}function zDragTableOnMouseUp(){}
function zDrag_mouseUp(b){b=b||window.event;zDragTableOnMouseUp(b);zDrag_mouseCoords(b);for(b=0;b<zDrag_dropTargets.length;b++){var c=zDrag_dropTargets[b];zDrag_getPosition(c);parseInt(c.offsetWidth);parseInt(c.offsetHeight)}if(zDrag_dragObject!==null){b=zDrag_arrParam[zDrag_dragObject.id];typeof b!=="undefined"&&b.callbackFunction(zDrag_dragObject,b,true)}zDrag_dragObject=null}
function zDrag_getMouseOffset(b,c){var c=c||window.event,d=zDrag_getPosition(b),h=zDrag_mouseCoords(c);return{x:h.x-d.x,y:h.y-d.y}}function zDrag_getPosition(b){for(var c=0,d=0;b.offsetParent;){c=c+b.offsetLeft;d=d+b.offsetTop;b=b.offsetParent}c=c+b.offsetLeft;d=d+b.offsetTop;return{x:c,y:d}}var zDragTableOnMouseMove=function(){},zMapMarkerRollOutV3=function(){},humanMovement=!1;
function zDrag_mouseMove(b){zDragTableOnMouseMove(b);zOutEditDiv(b);zMapMarkerRollOutV3(false);b=b||window.event;zMousePosition=b=zDrag_mouseCoords(b);zMousePosition.x+zMousePosition.y>0&&(humanMovement=true);if(zDrag_dragObject){var c=zDrag_arrParam[zDrag_dragObject.id];if(!(typeof c==="undefined"||typeof c.boxObj==="undefined")){c=document.getElementById(c.boxObj);c=zGetAbsPosition(c);navigator.userAgent.indexOf("MSIE 6.0")!==-1?zDrag_arrParam[zDrag_dragObject.id].zValue+3===zDrag_arrParam[zDrag_dragObject.id].zValueValue?
zDrag_dragObject.style.marginRight=(parseInt(c.width)-(b.x-zDrag_mouseOffset.x-c.x)-parseInt(zDrag_dragObject.style.width))/2+"px":zDrag_dragObject.style.marginLeft=(b.x-zDrag_mouseOffset.x-c.x)/2+"px":zDrag_arrParam[zDrag_dragObject.id].zValue+3===zDrag_arrParam[zDrag_dragObject.id].zValueValue?zDrag_dragObject.style.marginRight=parseInt(c.width)-(b.x-zDrag_mouseOffset.x-c.x)-parseInt(zDrag_dragObject.style.width)+"px":zDrag_dragObject.style.marginLeft=Math.min(c.width,Math.max(0,b.x-zDrag_mouseOffset.x-
c.x))+"px";zDrag_arrParam[zDrag_dragObject.id].callbackFunction(zDrag_dragObject,zDrag_arrParam[zDrag_dragObject.id]);return false}}}function zDrag_makeDraggable(b,c){if(b){zDrag_arrParam[b.id]=c;b.ondragstart=function(){return false};b.onmousedown=function(b){zDrag_dragObject=this;zDrag_mouseOffset=zDrag_getMouseOffset(this,b);return false};c.callbackFunction(b,c)}}
function zGoToURL(b){var c=document.getElementById("zOverEditATag");c.setAttribute("href",b);c.click?c.click():window.top.location.href=b}var zCurOverEditLink="",zOverEditDisableMouseOut=!1,zCurOverEditObj=null;function zOverEditClick(){zCurOverEditLink!==""&&zGoToURL(zCurOverEditLink)}var zOverEditLastLink="",zOverEditLastPos={x:0,y:0};
function zOverEditDiv(b,c){var d=document.getElementById("zOverEditDivTag");if(c!==zOverEditLastLink){zOverEditLastLink=c;zCurOverEditObj=document.getElementById(b);zCurOverEditLink=c;d.style.left=zMousePosition.x+10+"px";d.style.top=zMousePosition.y+10+"px";zOverEditLastPos={x:zMousePosition.x,y:zMousePosition.y};d.style.display="block"}else{d.style.display="block";var h=Math.abs(zMousePosition.x+10-zOverEditLastPos.x),l=Math.abs(zMousePosition.y+10-zOverEditLastPos.y);if(!(h<=70&&l<=70)){zCurOverEditObj=
document.getElementById(b);zCurOverEditLink=c;d.style.left=zMousePosition.x+10+"px";d.style.top=zMousePosition.y+10+"px";zOverEditLastPos={x:zMousePosition.x,y:zMousePosition.y}}}}function zOutEditDiv(){var b=document.getElementById("zOverEditDivTag");if(b!==null&&b.style.display==="block"){var c=Math.abs(zMousePosition.x+10-zOverEditLastPos.x),d=Math.abs(zMousePosition.y+10-zOverEditLastPos.y);if(c>300||d>300)b.style.display="none"}}function zDrag_addDropTarget(b){zDrag_dropTargets.push(b)}
var zDragOnMouseMoveBackup="function"===typeof document.onmousemove?document.onmousemove:function(){};$(document).bind("mousemove",function(b){zDragOnMouseMoveBackup(b);zDrag_mouseMove(b)});var zDragOnMouseUpBackup="function"===typeof document.onmouseup?document.onmouseup:function(){};$(document).bind("mouseup",function(b){zDragOnMouseUpBackup(b);zDrag_mouseUp(b)});var zDrag_arrParam=[],zDrag_dragObject=null,zDrag_mouseOffset=null,zDrag_dropTargets=[],zInputSlideOldValue="";
function zInputSlideOnChange(b,c,d,h){b=document.getElementById(b);c===""&&(c="min");d===""&&(d="max");c=c+"-"+d;if(c!==zInputSlideOldValue){zInputSlideOldValue=b.value=c;h!==null&&zExpOptionSetValue(h,c);b.onchange()}}var zArrSetSliderInputArray=[],zArrSetSliderInputUniqueArray=[];function zSetSliderInputArray(b){if(typeof zArrSetSliderInputUniqueArray[b]==="undefined"){zArrSetSliderInputUniqueArray[b]=true;d1=document.getElementById(b);zArrSetSliderInputArray.push(d1)}}
function zSliderInputResize(){for(var b=0;b<zArrSetSliderInputArray.length;b++){zArrSetSliderInputArray[b].onclick();zArrSetSliderInputArray[b].onblur()}}zArrResizeFunctions.push({functionName:zSliderInputResize});
function zInputSliderSetValue(b,c,d,h,l,m){var n=document.getElementById(b),r=document.getElementById(b+"_label"),h=h.split(",").join("").split("$").join("");if(h.match(/[^\+0-9\.]/)&&h!=="min"&&h!=="max"){h=c+3===d?zValues[c+5]:zValues[c+4];r.value=h;alert("You may type only numbers 0-9.")}if(!(h==="min"||h==="max")){for(var q=zValues[c],s=q[0],u=0,v=document.getElementById("zInputSliderBox"+c),B=zGetAbsPosition(v),v=document.getElementById("zInputDragBox"+m+"_"+c),x=r.value,x=parseFloat(x.split(",").join("").split("$").join("")),
J=false,G=0;G<q.length;G++){var I=parseFloat(q[G].split(",").join("").split("$").join(""));if(x<I){if(G>0){J=true;tempLastV=parseFloat(s.split(",").join("").split("$").join(""));u=G+(x-tempLastV)/(I-tempLastV)}break}s=q[G]}b.indexOf("search_Rate_low");if(!J)u=q.length;h=h.split(",").join("").split("$").join("");r.value=h;h=parseFloat(h);if(c+3===d){if(parseFloat(zValues[c+2])>parseFloat(h)){r.value=n.value===""?m===2?zValues[c+3]:zValues[c+2]:n.value;alert("The first value must be smaller than the second value. Your data has been reset.");
return}}else if(parseFloat(h)>parseFloat(zValues[c+3])){r.value=n.value===""?m===2?zValues[c+3]:zValues[c+2]:n.value;alert("The first value must be smaller than the second value. Your data has been reset.");return}b=B.width-20;q=Math.round(u/q.length*b);m===2?v.style.marginRight=b-q+"px":v.style.marginLeft=q+"px";n.value=h;zValues[d]=h;zInputSlideOnChange("zInputHiddenValues"+c,zValues[c+2],zValues[c+3],l)}}
function zInputSlideLimit(b,c,d){var h=document.getElementById(c.valueId),l=document.getElementById(c.labelId),m=false;if(zDrag_dragObject===null){m=true;if(l.value===""){l.value=c.constrainLeft?"max":"min";h.value=""}}if(!m){var n=false;c.zValue+3===c.zValueValue&&(n=true);zDrag_getPosition(b);var m=document.getElementById("zInputSliderBox"+c.zValue),r=zGetAbsPosition(m);zDrag_getPosition(m);var q=c.constrainObj?parseInt(r.width)-parseInt(b.style.width):parseInt(r.width),s=parseInt(b.style.width);
if(navigator.userAgent.indexOf("MSIE 6.0")!==-1){s=s/2;q=q/2}var u=n?parseInt(b.style.marginRight):parseInt(b.style.marginLeft),r=m=false;if(c.constrainObj){d4=document.getElementById(c.constrainObj);d4.style.zIndex=1;b.style.zIndex=3;n=n?q-(s+parseInt(d4.style.marginLeft)):q-(s+parseInt(d4.style.marginRight));d5=zDrag_getPosition(d4);if(c.constrainLeft)if(u>=n){u=n;u>=q-s&&(m=true)}else{if(u<=0){u=0;u<=0&&(r=true)}}else if(u<=0){u=0;m=true}else if(u>=n){u=n;u+s>=0+q&&(r=true)}}else if(u<=0){u=0;
m=true}else if(u+s>=0+q){u=0+q-s;r=true}if(c.zValue+3===c.zValueValue){b.style.marginRight=u+"px";percent=Math.max(0,(q-(u+s))/(q-s))}else{b.style.marginLeft=u+"px";percent=Math.min(1,Math.max(0,u/(q-s)))}b=zValues[c.zValue];n=zValues[c.zValue+1];offset=Math.min(b.length-1,Math.round(percent*(b.length-0.5)));if(m){h.value="";l.value="min"}else if(r){h.value="";l.value="max"}else{h.value=n[offset];l.value=b[offset]}zValues[c.zValueLabel]=l.value;zValues[c.zValueValue]=h.value}d!==null&&d&&zInputSlideOnChange("zInputHiddenValues"+
c.zValue,zValues[c.zValue+2],zValues[c.zValue+3],c.zExpOptionValue)}var zExpOptionLabelHTML=[];function zExpOptionSetValue(b,c,d){var h=document.getElementById("zExpOption"+b+"_button");d===null&&(d="none");if(h!==null)h.innerHTML=zExpOptionLabelHTML[b]+' <span id="zExpOption'+b+'_value" style="display:'+d+';">'+zStringReplaceAll(c,",",", ")+"</span>"}
function zCheckboxOnChange(b,c){for(var d=0,h=[],l=[];;){d++;var m=document.getElementById(b.name+"label"+d);if(m===null)break;var n=document.getElementById(b.name+d);if(n.checked){l.push(m.innerHTML);h.push(n.value)}}d=b.name.substr(0,b.name.length-5);n=document.getElementById(d);n.value=h.join(",");c!==-1&&zExpOptionSetValue(c,"<br />"+l.join("<br />"));if(n.onchange!=null)n.onchange()}
function zEnableTextSelection(b){b.onmousedown=function(){return true};b.onselectstart=function(){return true};b.style.MozUserSelect="text"}function zDisableTextSelection(b){if(typeof b.onselectstart!=="undefined")b.onselectstart=function(){return false};else if(typeof b.style.MozUserSelect!=="undefined")b.style.MozUserSelect="none";else if(b.onmousedown===null)b.onmousedown=function(){return false}}
var zMotiontimerlen=10,zMotionslideAniLen=150,zMotiontimerID=[],zMotionstartTime=[],zMotionobj=[],zMotionendHeight=[],zMotionmoving=[],zMotiondir=[],zMotionLabel=[],zMotionHOC=[],zMotionObjClicked="";function zMotionOnMouseDown(b){zMotionObjClicked=b;return false}
function zMotiontoggleSlide(b,c,d){zMotionLabel[b]=document.getElementById(c);zMotionHOC[b]=d!==""?document.getElementById(d):"";if(zMotionObjClicked===b)if(document.getElementById(b).style.display==="none"){zMotionHOC[b].style.display="none";zMotionslidedown(b)}else zMotionslideup(b)}function zMotionslidedown(b){if(!zMotionmoving[b]&&document.getElementById(b).style.display==="none"){zMotionmoving[b]=true;zMotiondir[b]="down";zMotionstartslide(b)}}
function zMotionslideup(b){if(!zMotionmoving[b]&&document.getElementById(b).style.display!=="none"){zMotionmoving[b]=true;zMotiondir[b]="up";zMotionstartslide(b)}}
function zMotionstartslide(b){zMotionobj[b]=document.getElementById(b);zMotionendHeight[b]=parseInt(zMotionobj[b].style.height);zMotionstartTime[b]=(new Date).getTime();if(zMotiondir[b]==="down")zMotionobj[b].style.height="1px";zMotionobj[b].style.overflow="hidden";zMotionobj[b].style.display="block";zMotiontimerID[b]=setInterval('zMotionslidetick("'+b+'");',zMotiontimerlen)}
function zMotionslidetick(b){var c=(new Date).getTime()-zMotionstartTime[b];if(c>zMotionslideAniLen)zMotionendSlide(b);else{c=Math.round(c/zMotionslideAniLen*zMotionendHeight[b]);zMotiondir[b]==="up"&&(c=zMotionendHeight[b]-c);zMotionobj[b].style.height=c+"px"}}
function zMotionendSlide(b){clearInterval(zMotiontimerID[b]);if(zMotiondir[b]==="up"){zMotionobj[b].style.display="none";zMotionHOC[b].style.display="inline"}else zMotionobj[b].style.overflow="auto";zMotionobj[b].style.height=zMotionendHeight[b]+"px";delete zMotionHOC[b];delete zMotionLabel[b];delete zMotionmoving[b];delete zMotiontimerID[b];delete zMotionstartTime[b];delete zMotionendHeight[b];delete zMotionobj[b];delete zMotiondir[b]}function zCLink(b){b.href="javascript:void(0);"}
function zSetInput(b,c){var d=document.getElementById(b);d.value=c;if(d.onchange!==null)d.onchange()}var zFormOnEnterValues=[];function zFormOnEnterAdd(b,c){zFormOnEnterValues[b]=c}function zFormOnEnter(b,c){zFormOnEnterValues[c.id]!==null&&(b===null?eval(zFormOnEnterValues[c.id]):(window.event?b.keyCode:b.which)===13&&eval(zFormOnEnterValues[c.id]))}
function zInputRemoveOption(b,c){for(var d=[],h=[],l=[],m=0;m<zValues[c].length;m++)if(b!==m){d.push(zValues[c+1][m]);h.push(zValues[c][m]);l.push(zValues[c+2][m])}else if(zValues[c+2][m]!==""&&zValues[c+6]===false)document.getElementById(zValues[c+2][m]).style.display="block";zValues[c+2]=l;zValues[c+1]=d;zValues[c]=h;d=document.getElementById(zValues[c+4]);h=document.getElementById(zValues[c+4]+"_zlabel");d.value=zValues[c+1].join(",");h.value=zValues[c].join(",");if(d.type!=="select-one"&&d.onchange!==
null)d.onchange();zInputSetSelectedOptions(false,c);if(d.type==="select-one")d.selectedIndex=0}function zHasInnerText(){return document.getElementsByTagName("body")[0].innerText!=="undefined"?true:false}var zInputBoxLinkValues=[];
function zInputSetSelectedOptions(b,c,d,h,l){if(b){var m=document.getElementById(d),n=document.getElementById(d+"_zlabel"),r=document.getElementById(d+"_zmanual"),q=document.getElementById(d+"_zmanualv"),s=q.value,u=r.value;zHasInnerText();if(zValues[c+6]===true&&zValues[c+1].length>0&&u!==""){alert("Only one value can be selected for this field");q.value="";r.value="";return}if(!(l&&u!=="")){if(s==="0"){alert("Please make a selection before clicking the add button.");return}if(u==="")return}for(d=
0;d<zValues[c].length;d++)if(zValues[c+1][d]===s){alert("The option, "+zValues[c][d]+", has already been selected.");return}for(d=0;d<zValues[c+3].length;d++)if(zValues[c+3][d]===s){h="zInputLinkBox"+c+"_link"+(d+1);b=document.getElementById(h);b.style.display="none";break}if(!l&&s===u){alert("Only valid entries are accepted. Please type an entry that appears in the suggestion box and than select it or press enter.");return}q.value="";r.value="";h===null&&(h="");zValues[c+2].push(h);zValues[c+1].push(s);
zValues[c].push(u);m.value=zValues[c+1].join(",");n.value=zValues[c].join(",");if(m.onchange!==null)m.onchange();b=[];for(d=0;d<zValues[c].length;d++)b[zValues[c][d]]=d;zValues[c].sort();h=[];l=[];for(d=0;d<zValues[c].length;d++){h[d]=zValues[c+1][b[zValues[c][d]]];l[d]=zValues[c+2][b[zValues[c][d]]]}zValues[c+1]=h;zValues[c+2]=l}zExpOptionSetValue(zValues[c+5],"<br />"+zValues[c].join("<br />"));h=document.getElementById("zInputOptionBlock"+c);l=[];if(zValues[c].length!==0){l.push('<div class="zInputLinkBoxSelected"><div class="zInputLinkBoxSelectedHead">SELECTED VALUES:<br /><span style="font-weight:normal">Click X to remove a value.</span></div>');
for(d=0;d<zValues[c].length;d++){m="zInputLinkBoxRow1";d%2===0&&(m="zInputLinkBoxRow2");if(zValues[c+2][d]!=="")if(b=document.getElementById(zValues[c+2][d]))b.style.display="none";l.push('<div style="float:left;width:100%;" class="'+m+'"><a href="javascript:zInputRemoveOption('+(l.length-1)+","+c+');" style="float:left;text-decoration:none;display:block;" class="zInputLinkBoxSItem '+m+'"><span title="Click the X to remove this option." class="zTOB-closeBox">X</span>'+zValues[c][d]+"</a></div>")}l.push('</div><br style="clear:both;" />')}h.innerHTML=
l.join("");h.style.display=l.length===0?"inline":"block"}function zLoadFile(b,c){if(c==="js"){var d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",b)}else if(c==="css"){d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",b)}typeof d!=="undefined"&&document.getElementsByTagName("head")[0].appendChild(d)}var zCacheSliderValues=[],zOpenMenuCache=[];
function zFixMenuOnTablets(){a=zGetElementsByClassName("trigger");for(var b=0;b<a.length;b++)a[b].onclick=function(){if(this.parentNode.childNodes.length>=3){if(this.parentNode.childNodes[2].style.display==="block"){for(var b=0;b<zOpenMenuCache.length;b++)zOpenMenuCache[b].style.display="none";return zContentTransition.doLinkOnClick(this)}for(b=0;b<zOpenMenuCache.length;b++)zOpenMenuCache[b].style.display="none";zOpenMenuCache=[];this.parentNode.childNodes[2].style.display="block";zOpenMenuCache.push(this.parentNode.childNodes[2]);
return false}};if(lg=document.getElementsByTagName("UL"))for(k=0;k<lg.length;k++)if(lg[k].id.indexOf("_mb_menu")!==-1)lg[k].onclick=function(){for(var b=0;b<zOpenMenuCache.length;b++)zOpenMenuCache[b].style.display="none";zOpenMenuCache=[]}}var zWindowIsLoaded=!1,zScrollPosition={left:0,top:0};
function zJumpToId(b,c){var d=document.getElementById(b);if(d!==null){var d=zFindPosition(d),h=navigator.userAgent.toLowerCase().indexOf("webkit")>-1;if(!c||c===null)c=0;h?document.body.scrollTop=d[1]+c:document.documentElement.scrollTop=d[1]+c}}
function getWindowSize(){var b=0,c=0;if(typeof window.innerWidth==="number"){b=window.innerWidth;c=window.innerHeight}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientWidth;c=document.documentElement.clientHeight}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientWidth;c=document.body.clientHeight}return{width:b,height:c}}
function zSet9(b){document.getElementById(b).value="9989";humanMovement=true}
function zWindowOnScroll(){humanMovement=true;r111=typeof updateCountPosition!=="undefined"?updateCountPosition():true;for(var b=0;b<zArrScrollFunctions.length;b++){var c=zArrScrollFunctions[b];typeof c==="object"?typeof c.arguments==="undefined"||c.arguments.length===0?c.functionName():c.arguments.length===1?c.functionName(c.arguments[0]):c.arguments.length===2?c.functionName(c.arguments[0],c.arguments[1]):c.arguments.length===3?c.functionName(c.arguments[0],c.arguments[1],c.arguments[2]):c.arguments.length===
4&&c.functionName(c.arguments[0],c.arguments[1],c.arguments[2],c.arguments[3]):c()}return r111}var zMLSonScrollBackup="function"===typeof window.onscroll?window.onscroll:function(){};$(window).bind("scroll",function(b){zMLSonScrollBackup(b);return zWindowOnScroll(b)});var zMLSonScrollBackup2="function"===typeof window.onmousewheel?window.onmousewheel:function(){};$(window).bind("mousewheel",function(b){zMLSonScrollBackup2(b);return zWindowOnScroll(b)});
function zWindowOnResize(){var b=zWindowSize;zGetClientWindowSize();if(!(typeof b==="function"&&b.width===zWindowSize.width&&b.height===zWindowSize.height)){typeof updateCountPosition!=="undefined"&&updateCountPosition();for(b=0;b<zArrResizeFunctions.length;b++){var c=zArrResizeFunctions[b];typeof c==="object"?typeof c.arguments==="undefined"||c.arguments.length===0?c.functionName():c.arguments.length===1?c.functionName(c.arguments[0]):c.arguments.length===2?c.functionName(c.arguments[0],c.arguments[1]):
c.arguments.length===3?c.functionName(c.arguments[0],c.arguments[1],c.arguments[2]):c.arguments.length===4&&c.functionName(c.arguments[0],c.arguments[1],c.arguments[2],c.arguments[3]):c()}}}var zMLSonResizeBackup="function"===typeof window.onresize?window.onresize:function(){};$(window).bind("resize",function(b){zMLSonResizeBackup(b);return zWindowOnResize(b)});$(window).bind("clientresize",function(b){zMLSonResizeBackup(b);return zWindowOnResize(b)});
"undefined"===typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var zFunctionLoadStarted=!1;
function zLoadAllLoadFunctions(){zFunctionLoadStarted=true;for(var b=0;b<zArrLoadFunctions.length;b++){var c=zArrLoadFunctions[b];typeof c==="object"?typeof c.arguments==="undefined"||c.arguments.length===0?c.functionName():c.arguments.length===1?c.functionName(c.arguments[0]):c.arguments.length===2?c.functionName(c.arguments[0],c.arguments[1]):c.arguments.length===3?c.functionName(c.arguments[0],c.arguments[1],c.arguments[2]):c.arguments.length===4&&c.functionName(c.arguments[0],c.arguments[1],c.arguments[2],
c.arguments[3]):c()}zFunctionLoadStarted=false}
function zWindowOnLoad(){if(!zWindowIsLoaded){zWindowIsLoaded=true;typeof zModernizr99==="undefined"&&zModernizrLoaded();if(typeof window.zCloseModal!=="undefined"||typeof window.parent.zCloseModal!=="undefined"){var b=document.getElementById("js3811");if(b)b.value="j219"}zLoadAllLoadFunctions();zWindowOnResize();if(zPositionObjSubtractId!==false){b=document.getElementById(zPositionObjSubtractId);zPositionObjSubtractPos=zFindPosition(b)}zWindowIsLoaded=true;(zo("zMenuClearUniqueId")||zo("zMenuAdminClearUniqueId"))&&
zMenuInit();typeof updateCountPosition!=="undefined"&&updateCountPosition()}}var zMLSonloadBackup="function"===typeof window.onload?window.onload:function(){};$(window).bind("onload",function(b){zMLSonloadBackup(b);zWindowOnLoad(b)});var zMSIEVersion=-1,zMSIEBrowser=window.navigator.userAgent.indexOf("MSIE");-1!==zMSIEBrowser&&(zMSIEVersion=window.navigator.userAgent.substring(zMSIEBrowser+5,window.navigator.userAgent.indexOf(".",zMSIEBrowser)));
var zMenuButtonCache=[],zMenuDivIndex=0,zTabletStylesheetLoaded=!1,zTouchPosition={x:[0],y:[0],curX:[0],curY:[0],count:0,curCount:0};
zArrDeferredFunctions.push(function(){$(document.body).bind("touchstart",function(b){zTouchPosition.x=[];zTouchPosition.y=[];if(typeof b.targetTouches!=="undefined"){zTouchPosition.count=b.targetTouches.length;for(var c=0;c<b.targetTouches.length;c++){zTouchPosition.x.push(b.targetTouches[c].pageX);zTouchPosition.y.push(b.targetTouches[c].pageY)}}});$(document.body).bind("touchmove",function(b){zTouchPosition.curX=[];zTouchPosition.curY=[];if(typeof b.targetTouches!=="undefined")for(var c=0;c<b.targetTouches.length;c++){zTouchPosition.curX.push(b.targetTouches[c].pageX);
zTouchPosition.curY.push(b.targetTouches[c].pageY)}});$(document.body).bind("touchend",function(b){zTouchPosition.x=[];zTouchPosition.y=[];zTouchPosition.curX=[];zTouchPosition.curY=[];if(typeof b.targetTouches!=="undefined"){zTouchPosition.count=b.targetTouches.length;for(var c=0;c<b.targetTouches.length;c++){zTouchPosition.curX.push(b.targetTouches[c].pageX);zTouchPosition.curY.push(b.targetTouches[c].pageY);zTouchPosition.x.push(b.targetTouches[c].pageX);zTouchPosition.y.push(b.targetTouches[c].pageY)}}})});
"undefined"===typeof zMenuDisablePopups&&(zMenuDisablePopups=!1);
function zMenuInit(){var b,c;c=document.getElementsByTagName("LI");$wrapper=$(".zMenuWrapper").show();$(".trigger",$wrapper).each(function(){this.href==window.location.href&&$(this).addClass("trigger-selected")});$(".zMenuWrapper").each(function(){if(this.className.indexOf("zMenuEqualDiv")!==-1){var b=$(".zMenuWrapper > ul > li > a"),c=$(".zMenuBarDiv",this).width();$(this).width(c);b.length&&($(b[0]).outerWidth(),$(b[0]).width());if(this.id===""){this.id="zMenuContainerDiv"+zMenuDivIndex;zMenuDivIndex++}b=
0;this.getAttribute("data-button-margin")!==""&&(b=parseInt(this.getAttribute("data-button-margin")));zSetEqualWidthMenuButtons(this.id,b)}});if(zMenuDisablePopups)$(".zMenuBarDiv .trigger").each(function(){$("ul",this.parentNode).detach()});else if(!zIsTouchscreen()&&c)for(b=0;b<c.length;b++)if(c[b].parentNode.id.indexOf("zMenuDiv")!==-1){zMenuButtonCache.push(c[b]);c[b].onmouseover=function(){var b=zGetAbsPosition(this),c=$(this).position(),l=document.getElementById(this.id+"_menu");zContentTransition.firstLoad===
false&&$(this).children("ul").css("display","block");if(l){l.style.position="absolute";if(zo(this.id.split("_")[0]+"Vertical")){l.style.top=c.top+"px";l.style.left=c.left+b.width+"px"}else{l.style.top=c.top+b.height+"px";l.style.left=c.left+"px"}l.style.zIndex=2E3}this.className=this.className.indexOf("zMenuEqualUL")===-1?"zMenuHvr":"zMenuEqualLI zMenuHvr"};c[b].onmouseout=function(){this.className=this.className.indexOf("zMenuEqualUL")===-1?"zMenuNoHvr":"zMenuEqualLI zMenuNoHvr";zContentTransition.firstLoad===
false&&$(this).children("ul").css("display","none")}}if(zTabletStylesheetLoaded===false&&zIsTouchscreen()){zTabletStylesheetLoaded=true;zLoadFile("/z/stylesheets/tablet.css","css");zFixMenuOnTablets()}}function zo(b){var c=document.getElementById(b);return c!==null?c:typeof window[b]==="undefined"?false:eval(b)}
function zso(b,c,d,h){typeof d==="undefined"&&(d=false);typeof h==="undefined"&&(h=false);var l="";if(d){if(zKeyExists(b,c)){l=b[c];return isNaN(l)?h!==""?h:0:l}return h!==""?h:0}return zKeyExists(b,c)?b[c]:h}var zModalObjectHidden=[],zModalScrollPosition=[];function zModalLockPosition(){var b=document.getElementById("zModalOverlayDiv");if(b&&b.style.display==="block"){var c=$(window).scrollTop();b.style.top=c+"px";return false}return true}zScrollBarWidthCached=-1;
function zGetScrollBarWidth(){if(zScrollBarWidthCached!==-1)return zScrollBarWidthCached;var b=document.createElement("p");b.style.width="100%";b.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(b);var d=document.documentElement||document.body;d.appendChild(c);var h=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;
if(h===b)b=c.clientWidth;d.removeChild(c);return zScrollBarWidthCached=h-b}zScrollbarWidth=0;
function zGetClientWindowSize(){var b=0,c=0;if(typeof window.innerWidth==="number"){b=window.innerWidth;c=window.innerHeight}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientWidth;c=document.documentElement.clientHeight}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientWidth;c=document.body.clientHeight}zScrollbarWidth===0&&(zScrollbarWidth=zGetScrollBarWidth());
return zWindowSize={width:b-zScrollbarWidth,height:c}}function zShowModalStandard(b,c,d){var h=zGetClientWindowSize(),b=b.indexOf("?")===-1?b+"?":b+"&";typeof c==="undefined"&&(c=3E3);typeof d==="undefined"&&(d=3E3);b='<iframe src="'+b+"ztv="+Math.random()+'" frameborder="0"  style=" margin:0px; border:none; overflow:auto;" seamless="seamless" width="100%" height="98%" />';zShowModal(b,{width:Math.min(c,h.width-50),height:Math.min(d,h.height-50),maxWidth:c,maxHeight:d})}
var zModalDisableResize=!1,zModalCancelFirst=!1,zModalPosIntervalId=!1,zModalMaxWidth=1E4,zModalMaxHeight=1E4,zModalWidth=1E4,zModalHeight=1E4;
function zFixModalPos(){var b=document.getElementById("zModalOverlayDiv"),c=document.getElementById("zModalOverlayDiv2");zModalScrollPosition=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];zGetClientWindowSize();var d=zWindowSize;b.style.top=zModalScrollPosition[1]+"px";b.style.left=zModalScrollPosition[0]+"px";var b=Math.min(zModalWidth,Math.min(d.width-100,zModalMaxWidth)),h=Math.min(zModalHeight,
Math.min(d.height-100,zModalMaxHeight)),l=Math.round(Math.max(0,d.width-b)/2),d=Math.round(Math.max(0,d.height-h)/2);c.style.left=l+"px";c.style.top=d+"px";c.style.width=b+"px";c.style.height=h+"px"}var zModalKeepOpen=!1;
function zShowModal(b,c){(document.body||document.documentElement).style.overflow="hidden";zGetClientWindowSize();if(typeof c.disableResize!=="undefined")zModalDisableResize=c.disableResize;var d=false;if(typeof c.disableClose!=="undefined")d=c.disableClose;var h=zWindowSize;zModalWidth=c.width;zModalHeight=c.height;c.width=Math.min(zModalMaxWidth,Math.min(c.width,h.width));c.height=Math.min(zModalMaxHeight,Math.min(c.height,h.height));if(typeof c.maxWidth!=="undefined")zModalMaxWidth=c.maxWidth;
if(typeof c.maxHeight!=="undefined")zModalMaxHeight=c.maxHeight;zModalScrollPosition=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];for(var l=document.getElementsByTagName("iframe"),m=0;m<l.length;m++)if(l[m].style.visibility===""||l[m].style.visibility==="visible"){l[m].style.visibility="hidden";zModalObjectHidden.push(l[m])}if(navigator.userAgent.indexOf("MSIE 6.0")!==-1){l=document.getElementsByTagName("select");
for(m=0;m<l.length;m++)if(l[m].style.visibility===""||l[m].style.visibility==="visible"){l[m].style.visibility="hidden";zModalObjectHidden.push(l[m])}l=document.getElementsByTagName("object");for(m=0;m<l.length;m++)if(l[m].style.visibility===""||l[m].style.visibility==="visible"){l[m].style.visibility="hidden";zModalObjectHidden.push(l[m])}document.getElementById("zModalOverlayDiv").style.backgroundImage="url(/z/a/images/bg-checker.gif)"}m=document.getElementById("zModalOverlayDiv");l=document.getElementById("zModalOverlayDiv2");
m.style.display="block";l.style.display="block";b.indexOf("<iframe ");l.onclick=function(){zModalKeepOpen=true;setTimeout(function(){zModalKeepOpen=false},100);return false};if(d){l.innerHTML=b;m.onclick=function(){}}else{m.onclick=function(){zModalKeepOpen||zCloseModal()};l.innerHTML='<div style="width:80px; text-align:right; font-weight:bold; float:right;"><a href="javascript:void(0);" onclick="zCloseModal();">X Close</a></div><br style="clear:both;" /> '+b+"<div>"}m.style.top=zModalScrollPosition[1]+
"px";m.style.left=zModalScrollPosition[0]+"px";m.style.height="100%";m.style.width="100%";d=Math.round(Math.max(0,h.width-c.width)/2);h=Math.round(Math.max(0,h.height-c.height)/2);l.style.left=d+"px";l.style.top=h+"px";l.style.width=c.width+"px";l.style.height=c.height+"px";zModalPosIntervalId=setInterval(zFixModalPos,500)}var zArrModalCloseFunctions=[];
function zCloseModal(){clearInterval(zModalPosIntervalId);for(var b=0;b<zArrModalCloseFunctions.length;b++)zArrModalCloseFunctions[b]();zArrModalCloseFunctions=[];zModalPosIntervalId=false;(document.body||document.documentElement).style.overflow="auto";document.getElementById("zModalOverlayDiv").style.display="none";document.getElementById("zModalOverlayDiv2").style.display="none";for(b=0;b<zModalObjectHidden.length;b++)zModalObjectHidden[b].style.visibility="visible"}
function forceCustomFontDesignModeOn(b){doc=tinyMCE.get(b).getDoc();doc.designMode="on";$("span",doc).each(function(){this.innerHTML==="BESbswy"&&$(this).remove()})}
function forceCustomFontLoading(b){doc=tinyMCE.get(b.editorId).getDoc();if(navigator.userAgent.indexOf("MSIE ")===-1)doc.designMode="off";if(typeof zFontsComURL!=="undefined"&&zFontsComURL!==""){if(zFontsComURL.substr(zFontsComURL.length-4)===".js"){head=doc.getElementsByTagName("head")[0];script=doc.createElement("script");script.src=zFontsComURL;script.type="text/javascript"}else{head=doc.getElementsByTagName("head")[0];script=doc.createElement("link");script.href=zFontsComURL;script.rel="stylesheet";
script.type="text/css"}head.appendChild(script)}if(typeof zTypeKitURL!=="undefined"&&zTypeKitURL!==""){head=doc.getElementsByTagName("head")[0];script=doc.createElement("script");script.src=zTypeKitURL;script.type="text/javascript";head.appendChild(script);script=doc.createElement("script");script.type="text/javascript";script.src="/z/javascript/zTypeKitOnLoad.js";head.appendChild(script)}navigator.userAgent.indexOf("MSIE ")===-1&&document.getElementById(b.editorId)&&setTimeout('forceCustomFontDesignModeOn("'+
b.editorId+'");',2E3)}function zIsAppleIOS(){return navigator.userAgent.indexOf("iPhone")!==-1||navigator.userAgent.indexOf("iPad")!==-1?true:false}var zSetFullScreenMobileAppLoaded=!1;function zSetFullScreenMobileApp(){console.log("zSetFullScreenMobileApp called")}
var zHelpTooltip={arrTrack:[],curId:!1,curTimeoutId:!1,helpDiv:!1,helpInnerDiv:!1,showTooltip:function(){clearTimeout(zHelpTooltip.curTimeoutId);zHelpTooltip.curTimeoutId=false;zHelpTooltip.arrTrack[this.id].hovering=false;var b=document.getElementById(this.id),b=zGetAbsPosition(b),c=getWindowSize();zHelpTooltip.helpDiv.style.display="block";zHelpTooltip.helpInnerDiv.innerHTML=zHelpTooltip.arrTrack[this.id].title;var d=zGetAbsPosition(zHelpTooltip.helpDiv);zHelpTooltip.helpDiv.style.left=Math.min(c.width-
d.width-10,b.x+b.width+5)+"px";zHelpTooltip.helpDiv.style.top=Math.max(10,b.y-d.height)+"px";return false},hoverOut:function(){clearTimeout(zHelpTooltip.curTimeoutId);zHelpTooltip.curTimeoutId=false;zHelpTooltip.curId=false;zHelpTooltip.arrTrack[this.id].hovering=false;zHelpTooltip.helpDiv.style.display="none"},hover:function(){clearTimeout(zHelpTooltip.curTimeoutId);zHelpTooltip.curTimeoutId=false;zHelpTooltip.curId=this.id;if(zHelpTooltip.arrTrack[this.id].hovering){zHelpTooltip.arrTrack[this.id].hovering=
false;document.getElementById(zHelpTooltip.curId).onclick()}else{zHelpTooltip.arrTrack[this.id].hovering=true;zHelpTooltip.curTimeoutId=setTimeout(function(){document.getElementById(zHelpTooltip.curId).onmouseover()},1E3)}},setupHelpTooltip:function(){zHelpTooltip.helpDiv=document.getElementById("zHelpToolTipDiv");zHelpTooltip.helpInnerDiv=document.getElementById("zHelpToolTipInnerDiv");for(var b=zGetElementsByClassName("zHelpToolTip"),c=0;c<b.length;c++)if(b[c].title==="")b[c].style.display="none";
else{zHelpTooltip.arrTrack[b[c].id]={hovering:false,title:b[c].title};b[c].title="";b[c].onmouseover=zHelpTooltip.hover;b[c].onmouseout=zHelpTooltip.hoverOut;b[c].ondragout=zHelpTooltip.hoverOut;b[c].onclick=zHelpTooltip.showTooltip}}},zContentTransition={transitionOverrideId:!1,processManually:!1,processManuallyResult:"{}",processManuallyRan:!1,manuallyProcessTransition:function(){zContentTransition.processManuallyRan=true;if(zContentTransition.processResultStored){zContentTransition.processResultStored=
false;zContentTransition.processAjaxPageTransition(zContentTransition.processManuallyResult)}},processAjaxPageTransition:function(b){if(zContentTransition.processManually&&zContentTransition.processManuallyRan===false){zContentTransition.processResultStored=true;zContentTransition.processManuallyResult=b}else{(document.body||document.documentElement).style.overflow="auto";try{eval("var d1="+b);window.location.href=zContentTransition.lastURL;$("#zContentTransitionContentDiv").html(void 0)}catch(c){window.location.href=
zContentTransition.lastURL}var b=zContentTransition.transitionOverrideId!==false?$("#"+zContentTransition.transitionOverrideId):$("#zContentTransitionTitleSpan"),d=$("#zContentTransitionPageNavSpan");$("#zpagenav").show();d.html(void 0);zContentTransition.load();if(!zContentTransition.disableNextAnimation)if(zContentTransition.lastJumpHash!==""){$("#zContentTransitionContentDiv").css("display","block");if((b=$("#"+zContentTransition.lastJumpHash))&&b.length){b=Math.max(0,Math.max(0,b.offset().top-
50));$(window).scrollTop(b)}zContentTransition.lastJumpHash=""}else{if(b.length){b=Math.max(0,Math.max(0,b.offset().top-50));$(window).scrollTop(b)}$("#zContentTransitionContentDiv").fadeIn(200,function(){})}zContentTransition.disableNextAnimation=false;if(b=document.getElementById("zContentTransitionTitleSpan"))b.innerHTML=void 0;if(zContentTransition.popNextStateChange)zContentTransition.popNextStateChange=false;else{History.pushState({rand:Math.random()},void 0,zContentTransition.lastURL,false);
History.Adapter.trigger(window,"statechange");History.busy(false)}if(!(zMSIEBrowser!==-1&&zMSIEVersion<=9))zContentTransition.skipNextStateChange=false;zLoadAllLoadFunctions()}},processFailedAjaxPageTransition:function(){zContentTransition.processManuallyRan=true;zContentTransition.skipNextStateChange=false;zContentTransition.processResultStored=true;window.location.href=zContentTransition.lastURL},urlHistory:[],lastURL:"",skipNextStateChange:!0,requestAjaxPageTransition:function(b,c){zContentTransition.skipNextStateChange=
true;if(b.substr(0,4)==="http")for(var d=0;d<zLocalDomains.length;d++)if(b.substr(0,zLocalDomains[d].length)===zLocalDomains[d]){b=b.replace(zLocalDomains[d],"");break}d=b.indexOf("#");if(d!==-1){var h=b.indexOf("&_suid=");if(h!==-1){d=b.substr(d+1,h-(d+1));d.length>0&&(b=d)}}zContentTransition.processManuallyRan=false;zContentTransition.processResultStored=false;zContentTransition.onPageChange(b);c===false&&zContentTransition.urlHistory.push(b);zContentTransition.lastURL=b;b=b.indexOf("?")!==-1?
b+"&":b+"?";d={id:"zAjaxPageTransition"};d.url=b+"zajaxdownloadcontent=1";d.callback=zContentTransition.processAjaxPageTransition;d.errorCallback=zContentTransition.processFailedAjaxPageTransition;d.cache=false;d.ignoreOldRequests=true;zAjax(d)},checkHashChange:function(){if(!zContentTransition.skipNextStateChange){var b="";if(zContentTransition.urlHistory.length>1){zContentTransition.urlHistory.pop();var b=zContentTransition.urlHistory[zContentTransition.urlHistory.length-1],c=b.indexOf("#");if(c!==
-1){var d=b.indexOf("&_suid=");if(d!==-1){c=b.substr(c+1,d-(c+1));c.length>0&&(b=c)}}zContentTransition.popNextStateChange=true;zContentTransition.requestAjaxPageTransition(b,true)}}zContentTransition.skipNextStateChange=false},stateChange:function(){if(!zContentTransition.skipNextStateChange&&zContentTransition.urlHistory.length>1){zMSIEBrowser!==-1&&zMSIEVersion<=9||zContentTransition.urlHistory.pop();var b=zContentTransition.urlHistory[zContentTransition.urlHistory.length-1];zContentTransition.popNextStateChange=
true;zContentTransition.requestAjaxPageTransition(b,true)}},arrIgnoreURLs:["/z/listing/search-form/index"],arrIgnoreURLContains:"mailto: /z/misc/system/redirect /z/listing/sl/index /z/_a/member/ /z/listing/search-js/index /z/user/preference/ .xml".split(" ")};function zHideMenuPopups(){for(var b=0;b<zMenuButtonCache.length;b++)$(zMenuButtonCache[b]).children("ul").css("display","none");$(".zdc-sub").css("display","none")}zContentTransition.disable=function(){zContentTransition.enabled=false};
zContentTransition.gotoURL=function(b){var c=document.createElement("a");c.href=b;zContentTransition.linkOnClick(false,c)};zContentTransition.doLinkOnClick=function(b){if(zContentTransition.enabled){zContentTransition.linkOnClick(false,b);return false}return true};
zContentTransition.linkOnClick=function(b,c){var d=false,d=typeof c!=="undefined"?c:this;if(d.target==="_parent"){parent.zContentTransition.gotoURL(d.href);return false}if(d.target==="_top"){top.zContentTransition.gotoURL(d.href);return false}zHideMenuPopups();for(var h=false,l=d.href,m=0;m<zLocalDomains.length;m++)if(d.href.substr(0,zLocalDomains[m].length)===zLocalDomains[m]){var h=true,l=d.href.replace(zLocalDomains[m],""),n=l.split("#");n.length>1&&(l=n[0]);for(n=0;n<zContentTransition.arrIgnoreURLs.length;n++)if(l===
zContentTransition.arrIgnoreURLs[n]){window.location.href=d.href;return false}for(n=0;n<zContentTransition.arrIgnoreURLContains.length;n++)if(l.indexOf(zContentTransition.arrIgnoreURLContains[n])!==-1){window.location.href=d.href;return false}}if(!h){window.location.href=d.href;return false}h=d.href.split("#");if(h.length>1){if(window.location.href.split("#")[0]===h[0]){if(h.length>1){if((d=$("#"+h[1]))&&d.length){d=Math.max(0,Math.max(0,d.offset().top-50));zIsTouchscreen()?$(window).scrollTop(d):
$("html,body").animate({scrollTop:d},200)}zContentTransition.lastJumpHash="";return false}return true}zContentTransition.lastJumpHash=h[1];d.href=h[0]}else zContentTransition.lastJumpHash="";zContentTransition.skipNextStateChange=true;typeof _gaq!=="undefined"?_gaq.push(["_trackPageview",l]):typeof pageTracker!=="undefined"&&pageTracker._trackPageview(l);zContentTransition.requestAjaxPageTransition(d.href,false);return false};zContentTransition.disableNextAnimation=!1;zContentTransition.enabled=!0;
zContentTransition.firstLoad=!0;zContentTransition.popNextStateChange=!1;zContentTransition.lastJumpHash="";
zContentTransition.load=function(){if(zContentTransition.enabled!==false){if(zContentTransition.firstLoad){zContentTransition.firstLoad=false;if(zMSIEBrowser!==-1&&zMSIEVersion<=9){History!=="undefined"&&History.Adapter!=="undefined"&&History.Adapter.bind(window,"hashchange",zContentTransition.checkHashChange);var b=window.location.href.indexOf("#");if(b!==-1){var c=window.location.href.indexOf("&_suid=");if(c!==-1){var c=window.location.href.substr(b+1,c-(b+1)),d=window.location.href.indexOf("/",
8);window.location.href.substr(d,b-d)!==c&&zContentTransition.requestAjaxPageTransition(c,false)}}}else{History.Adapter.bind(window,"statechange",zContentTransition.stateChange);if(History.storedStates.length>1){b=History.getState();zContentTransition.requestAjaxPageTransition(b.url,false)}}b=window.location.href;if(b.substr(0,4)==="http")for(c=0;c<zLocalDomains.length;c++)if(b.substr(0,zLocalDomains[c].length)===zLocalDomains[c]){b=b.replace(zLocalDomains[c],"");break}zContentTransition.urlHistory.push(b)}b=
document.getElementsByTagName("a");c=[];for(d=0;d<b.length;d++){var h=false;if(window.location.href+"#"!==b[d].href){b[d].target!==""&&(b[d].target==="_parent"?typeof parent.zContentTransition==="undefined"&&(h=true):b[d].target==="_top"?typeof top.zContentTransition==="undefined"&&(h=true):h=true);try{if(typeof b[d].onclick!=="function"&&!h){if(b[d].id===""&&b[d].name!=="")b[d].id=b[d].name;b[d].className.indexOf("zNoContentTransition")===-1&&c.push(b[d])}}catch(l){throw"The onclick code was invalid for a link on this page.  Onclick code:"+
b[d].getAttribute("onclick");}}}for(d=0;d<c.length;d++)c[d].onclick=zContentTransition.linkOnClick;zLoadAndCropImagesDefer()}};function zGetCurrentRootRelativeURL(b){for(var b=b.split("/"),c="",d=3;d<b.length;d++)c=c+("/"+b[d]);c=c.split("#");return c[0]}function zIsTestServer(){return typeof zThisIsTestServer!=="undefined"&&zThisIsTestServer?true:false}function zIsDeveloper(){return typeof zThisIsDeveloper!=="undefined"&&zThisIsDeveloper?true:false}var zAddThisLoaded=!1;
function zLoadAddThisJs(){if(!zIsTestServer())for(var b=[],c=1;c<=5;c++)if(d1=document.getElementById("zaddthisbox"+c)){d1.innerHTML='<div style="float:left; padding-right:5px; padding-bottom:5px;"><iframe style="overflow: hidden; border: 0px none; width: 90px; height: 25px; " src="//www.facebook.com/plugins/like.php?href='+escape(window.location.href)+'&amp;layout=button_count&amp;show_faces=false&amp;width=90&amp;action=like&amp;font=arial&amp;layout=button_count"></iframe></div><div style="float:left; padding-right:5px;padding-bottom:5px;"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="//platform.twitter.com/widgets/tweet_button.1347008535.html#_=1347061585575&amp;count=horizontal&amp;counturl='+
escape(window.location.href)+"&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer="+escape(window.location.href)+"&amp;url="+escape(window.location.href)+'" class="twitter-share-button twitter-count-horizontal" style="width: 110px; height: 20px; " title="Twitter Tweet Button" data-twttr-rendered="true"></iframe></div><div style="float:left; padding-right:5px;padding-bottom:5px;"><a href="https://plus.google.com/share?url='+escape(window.location.href)+'" target="_blank"><img src="/z/images/icons/google-plusone.png" width="33" height="20" alt="Share this on Google Plus" /></a></div>';
d1.id="zaddthisbox"+c+"_loaded";b.push(d1)}}zArrLoadFunctions.push({functionName:zLoadAddThisJs});function loadDetailGallery(){for(var b=zGetElementsByClassName("zGalleryViewSlideshow"),c=0;c<b.length;c++)if($("li",b[c]).length){var d=document.getElementById(b[c].id+"_data").value;eval("var myObj="+d);$(b[c]).show().galleryView(myObj)}}zArrLoadFunctions.push({functionName:loadDetailGallery});if("undefined"===typeof zLocalDomains)var zLocalDomains=[];
zContentTransition.bind=function(b,c){if(typeof c!=="undefined"){zContentTransition.arrPageChangeObjs.push(b);zContentTransition.arrPageChangeFunctions.push(c)}else{zContentTransition.arrPageChangeObjs.push(false);zContentTransition.arrPageChangeFunctions.push(b)}};zContentTransition.arrPageChangeObjs=[];zContentTransition.arrPageChangeFunctions=[];zContentTransition.pageChangeUrl="";
zContentTransition.onPageChange=function(b){if(b!==zContentTransition.pageChangeUrl){zContentTransition.pageChangeUrl=b;for(var c=0;c<zContentTransition.arrPageChangeObjs.length;c++)if(typeof zContentTransition.arrPageChangeObjs[c]==="boolean")zContentTransition.arrPageChangeFunctions[c](b);else zContentTransition.arrPageChangeObjs[c][zContentTransition.arrPageChangeFunctions[c]](b)}};
zContentTransition.checkLoad=function(){typeof zContentTransitionEnabled!=="undefined"&&(zContentTransitionEnabled&&typeof zContentTransitionDisabled==="undefined")&&(zWindowIsLoaded?zContentTransition.load():zArrLoadFunctions.push({functionName:zContentTransition.load}))};window.zContentTransition=zContentTransition;
function zeeo(b,c,d,h,l,m,n,r,q,s,u){if(s)return d+c+h+b;if(l)var v='<a href="mailto:'+d+c+h+b+'">',v=(r+n+q+m!==""?v+(r+n+q+m):v+(d+c+h+b))+"</a>";else v=v+(d+c+h+b);if(b=document.getElementById("zencodeemailspan"+u))b.innerHTML=v}
var zLogin={autoLoginValue:-1,autoLoginCallback:0,devLogin:!1,devLoginURL:"",loginErrorCallback:function(){console.log("Login service temporarily unavailable. Try again later.");zLogin.enableLoginButtons()},enterPressed:!1,lastKeyPressed:0,loginCallback:function(b){b=eval("("+b+")");typeof b.developer!=="undefined"&&zSetCookie({key:"zdeveloper",value:b.developer,futureSeconds:31536E3,enableSubdomains:true});if(b.success){zLogin.zShowLoginError("Logging in...");if(b=window.parent.document.getElementById("zRepostForm")){setTimeout("window.parent.document.zRepostForm.submit();",
5E3);b.submit()}}else{zLogin.zShowLoginError("<strong>"+b.errorMessage+"</strong>");zLogin.enableLoginButtons()}zLogin.enableLoginButtons()},disableLoginButtons:function(){document.getElementById("submitForm").disabled=true;document.getElementById("submitForm2").disabled=true},enableLoginButtons:function(){document.getElementById("submitForm").disabled=false;document.getElementById("submitForm2").disabled=false},zAjaxResetPasswordCallback:function(b){b=eval("("+b+")");typeof b==="object"?b.success?
zLogin.zShowLoginError("Reset password email sent. Click the link in the email to complete the process."):zLogin.zShowLoginError(b.errorMessage):zLogin.zShowLoginError("The username provided is not a valid user.");zLogin.enableLoginButtons()},zAjaxResetPassword:function(){var b={id:"zAjaxUserResetPassword",url:"/z/user/preference/update"};if(document.getElementById("z_tmpusername2").value.length==="")zLogin.zShowLoginError('Email and the new password are required before clicking "Reset Password".');
else if(document.getElementById("z_tmppassword2").value.length==="")zLogin.zShowLoginError('You must enter a new password before clicking "Reset Password"');else{b.postObj={k:"",e:document.getElementById("z_tmpusername2").value,user_password:document.getElementById("z_tmppassword2").value,submitPref:"Reset Password"};b.method="post";b.cache=false;b.errorCallback=zLogin.loginErrorCallback;b.callback=zLogin.zAjaxResetPasswordCallback;b.ignoreOldRequests=true;zAjax(b);return false}},zShowLoginError:function(b){var c=
document.getElementById("statusDiv");if(c){c.style.display="block";c.innerHTML='<span style="color:#900;">'+b+"</span>";document.getElementById("submitForm2").style.display="block";document.getElementById("submitForm").style.display="block"}},setAutoLogin:function(b){if(b===true){zLogin.autoLoginValue="1";zSetCookie({key:"zautologin",value:"1",futureSeconds:60,enableSubdomains:false})}else{zLogin.autoLoginValue="0";zSetCookie({key:"zautologin",value:"0",futureSeconds:60,enableSubdomains:false})}zLogin.autoLoginCallback()},
autoLoginPrompt:function(b){zSetCookie({key:"zautologin",value:"",futureSeconds:60,enableSubdomains:false});if(zLogin.autoLoginValue===-1&&zGetCookie("zautologin")===""){zLogin.autoLoginCallback=b;zShowModal('<div class="zmember-autologin-heading">Do you want to<br />login automatically<br />in the future?</div><div><a class="zmember-autologin-button" style="border:1px solid #000;" href="#" onclick="zLogin.setAutoLogin(true);zCloseModal();return false;">Yes</a>   <a class="zmember-autologin-button" href="#" onclick="zLogin.enterPressed=false;zLogin.setAutoLogin(false);zCloseModal();return false;">No</a></div>',
{disableClose:true,width:Math.min(350,zWindowSize.width-50),height:Math.min(250,zWindowSize.height-50),maxWidth:350,maxHeight:250});$(window).keypress(function(b){if(b.keyCode===13&&zLogin.lastKeyPressed!==13){if(zLogin.enterPressed)zLogin.enterPressedTwice=true;zLogin.enterPressed=true;zLogin.lastKeyPressed=13}});$(window).bind("keyup",function(b){zLogin.lastKeyPressed=0;if(zLogin.enterPressedTwice&&b.keyCode===13){zLogin.setAutoLogin(true);zCloseModal()}});$("#zModalOverlayDiv").focus()}else b()},
autoLoginConfirm:function(){zLogin.autoLoginPrompt(zLogin.zAjaxSubmitLogin);return false},zAjaxSubmitLogin:function(){var b={id:"zAjaxUserLogin",url:"/z/user/login/process"};zLogin.zShowLoginError("Processing login credentials...");if(document.getElementById("z_tmpusername2").value.length===""||document.getElementById("z_tmppassword2").value.length==="")zLogin.zShowLoginError("Email and password are required.");else{b.postObj={z_tmpusername2:document.getElementById("z_tmpusername2").value,z_tmppassword2:document.getElementById("z_tmppassword2").value,
zIsMemberArea:document.getElementById("zIsMemberArea").value,zautologin:zLogin.autoLoginValue};b.method="post";b.cache=false;b.errorCallback=zLogin.loginErrorCallback;b.callback=zLogin.loginCallback;b.ignoreOldRequests=true;zAjax(b);return false}},openidAutoConfirm:function(){zLogin.autoLoginPrompt(zLogin.zOpenidLogin)},openidAutoConfirm2:function(b){zLogin.devLoginURL=b;zLogin.autoLoginPrompt(zLogin.zOpenidLogin2)},zOpenidLogin2:function(){window.location.href=zLogin.devLoginURL},zOpenidLogin3:function(b){window.location.href=
b},zOpenidLogin:function(b){var c=0,c=b?document.getElementById("openidhiddenurl2"):document.getElementById("openidhiddenurl");d2=document.getElementById("openidurl");zSetCookie({key:"zopenidurl",value:d2.value,futureSeconds:31536E4,enableSubdomains:false});d2.value===""||d2.value.substr(0,7)!=="http://"&&d2.value.substr(0,8)!=="https://"?alert("You must enter an OpenID Provider URL or click one of the Google / Yahoo login buttons."):window.location.href=d2.value+c.value},checkIfPasswordsMatch:function(){var b=
document.getElementById("passwordPwd"),c=document.getElementById("passwordPwd2"),d=document.getElementById("passwordMatchBox");if(b.value==="")return true;if(b.value!==c.value){d.style.display="block";return false}d.style.display="none";return true},confirmToken:function(){var b={id:"zAjaxConfirmToken",method:"post",cache:false};b.errorCallback=zLogin.loginErrorCallback;b.callback=zLogin.confirmTokenCallback;b.ignoreOldRequests=true;b.url="/z/user/login/confirmToken";if(typeof zLoginServerToken!==
"undefined"&&zLoginServerToken.loggedIn){b.postObj={tempToken:zLoginServerToken.token};typeof zLoginServerToken.developer!=="undefined"&&zSetCookie({key:"zdeveloper",value:zLoginServerToken.developer,futureSeconds:31536E3,enableSubdomains:true});zAjax(b);return false}if(typeof zLoginParentToken!=="undefined"&&zLoginParentToken.loggedIn){typeof zLoginParentToken.developer!=="undefined"&&zSetCookie({key:"zdeveloper",value:zLoginParentToken.developer,futureSeconds:31536E3,enableSubdomains:true});b.postObj=
{tempToken:zLoginParentToken.token};zAjax(b);return false}},confirmTokenCallback:function(b){b=eval("("+b+")");if(typeof b==="object"&&b.success){zLogin.zShowLoginError("Logging in...");if(b=window.parent.document.getElementById("zRepostForm")){setTimeout("window.parent.document.zRepostForm.submit();",5E3);b.submit()}}},init:function(){var b=document.getElementById("z_tmpusername2");if((zGetCookie("zparentlogincheck")===""||typeof b!=="undefined")&&window.location.href.toLowerCase().indexOf("zlogout=")===
-1){zSetCookie({key:"zparentlogincheck",value:"1",futureSeconds:0,enableSubdomains:false});zLogin.confirmToken()}}};zArrDeferredFunctions.push(zLogin.init);function zSetEmailBody(b,c){var d=document.getElementById("zEmailBody"+b),d=d.contentWindow?d.contentWindow:d.contentDocument.document?d.contentDocument.document:d.contentDocument;d.document.open();d.document.write(c);d.document.close()}
function zSetEmailBodyHeight(b){var c=b=document.getElementById("zEmailBody"+b);for(b.style.display="block";c.parentNode!==null;)c=c.parentNode;b.style.height=b.contentWindow?b.contentWindow.document.body.scrollHeight+1+"px":b.contentDocument.document?b.contentDocument.document.body.scrollHeight+1+"px":b.contentDocument.body.scrollHeight+1+"px"}
function zCheckIfPageAlreadyLoadedOnce(){var b=document.getElementById("zPageLoadedOnceTracker");if(b.value.length==="")window.location.href=window.location.href;b.value=""}
function zShowImageUploadWindow(b,c){var d=zGetClientWindowSize(),h='<iframe src="/z/_com/app/image-library?method=imageform&image_library_id='+b+"&fieldId="+encodeURIComponent(c)+"&ztv="+Math.random()+'"  style="margin:0px;border:none; overflow:auto;" seamless="seamless" width="100%" height="95%"></iframe>';zShowModal(h,{width:d.width-100,height:d.height-100})}var arrOriginalMenuButtonWidth=[];
function zSetEqualWidthMenuButtons(b,c){if(typeof arrOriginalMenuButtonWidth[b]==="undefined"){zArrResizeFunctions.push(function(){zSetEqualWidthMenuButtons(b,c)});arrOriginalMenuButtonWidth[b]={ul:$("#"+b+" > ul "),arrLI:$("#"+b+" > ul > li"),arrItem:$("#"+b+" > ul > li > a"),arrItemWidth:[],arrItemBorderAndPadding:[],containerWidth:0,navWidth:0,marginSize:c};for(var d=arrOriginalMenuButtonWidth[b],h=0;h<d.arrItem.length;h++){var l=$(d.arrItem[h]),m=l.width(),n=parseInt(l.css("border-left-width")),
r=parseInt(l.css("border-right-width"));isNaN(n)&&(n=1);isNaN(r)&&(r=1);n=parseInt(l.css("padding-left"))+parseInt(l.css("padding-right"))+parseInt(n)+parseInt(r);if(h===d.arrItem.length-1){$(l).css({"margin-right":"0px"});m=$(l).width();$(l).css({width:m+"px"});d.navWidth=d.navWidth+(m+n)}else{$(l).css({"margin-right":d.marginSize+"px",width:m});d.navWidth=d.navWidth+(m+c+n)}d.arrItemBorderAndPadding.push(n);d.arrItemWidth.push(m)}}d=arrOriginalMenuButtonWidth[b];d.ul.detach();$("#"+b).width("100%");
d.containerWidth=$("#"+b).width();h=d.containerWidth-1;l=(h-d.navWidth)/d.arrItem.length/2;h<d.navWidth+(d.arrItem.length-1)*d.marginSize?$(d.arrLI).each(function(){$(this).css("display","block")}):$.browser.msie&&$.browser.version<=7?$(d.arrLI).each(function(){$(this).css("display","inline")}):$(d.arrLI).each(function(){$(this).css("display","inline-block")});for(h=0;h<d.arrItem.length;h++){m=d.arrItemWidth[h];n=m+l*2;$(d.arrItem[h]).css({width:n,"min-width":m})}$("#"+b).append(d.ul)};var zlsSearchCriteriaMap={search_bathrooms_low:"a",search_bathrooms_high:"b",search_bedrooms_low:"c",search_bedrooms_high:"d",search_city_id:"e",search_exact_match:"f",search_map_coordinates_list:"g",search_listing_type_id:"h",search_listing_sub_type_id:"i",search_condoname:"j",search_address:"k",search_zip:"l",search_rate_low:"m",search_rate_high:"n",search_sqfoot_high:"o",search_result_limit:"p",search_agent_always:"q",search_sort_agent_first:"r",search_office_always:"s",search_sort_office_first:"t",
search_sqfoot_low:"u",search_year_built_low:"v",search_year_built_high:"w",search_county:"x",search_frontage:"y",search_view:"z",search_remarks:"aa",search_style:"bb",search_mls_number_list:"cc",search_sort:"dd",search_listdate:"ee",search_near_address:"ff",search_near_radius:"gg",search_remarks_negative:"hh",search_acreage_low:"jj",search_acreage_high:"kk",search_status:"ll",search_surrounding_cities:"mm",search_within_map:"nn",search_with_photos:"oo",search_with_pool:"pp",search_agent_only:"qq",
search_office_only:"rr",search_agent:"ss",search_office:"tt",search_subdivision:"uu",search_result_layout:"vv",search_group_by:"xx",search_region:"yy",search_parking:"zz",search_condition:"a1",search_tenure:"b1",search_liststatus:"c1"},zSearchFormTimeoutId=0,zSearchFormCountTimeoutId=0,zSearchFormFloaterAbsoluteFix=!1,zSearchFormFloaterDisplayed=!1;
function updateCountPosition(b){zScrollPosition.left=document.all?document.scrollLeft:window.pageXOffset;zScrollPosition.top=document.all?document.scrollTop:window.pageYOffset;r111=zModalLockPosition(b);var b=document.getElementById("resultCountAbsolute"),c=document.getElementById("searchFormTopDiv");if(!(null===c||null===b)){var c=zFindPosition(c),d=$(window).scrollTop(),d=Math.max(d,c[1]);zSearchFormFloaterDisplayed=!0;b.style.top=d-zPositionObjSubtractPos[1]+"px";getWindowSize();b.style.left=c[0]-
zPositionObjSubtractPos[0]+"px";clearTimeout(zSearchFormTimeoutId);zSearchFormChanged=!1;clearTimeout(zSearchFormCountTimeoutId);zSearchFormCountTimeoutId=setTimeout(updateCountPosition,300);return!1===r111?!1:!0}}var GMap=!1;"undefined"===typeof zMLSSearchFormName&&(zMLSSearchFormName="zMLSSearchForm");
var pixelXLongOffset=0,pixelYLatOffset=0,mapLoadFunction=function(){},mapObj=!1,mapProps={},streetView=!1,mapFullscreen=!1,zGMapAbsPos=null,zHideMapControl=!1,zOneLatitude=!1,zOneLongitude=!1,zMapOverlayDivObj=null,zMapOverlayDivObjAbsPos=null,zMapOverlayDivObjAbsPos2=null,zMapIgnoreMoveEnd=!1,zMapCurrentListingLink=null,zBingAddress="";function createMarker(b,c){var d=new GMarker(b);google.maps.event.addListener(d,"click",function(){d.openInfoWindowHtml(c)});return d}
function zlsOpenResultsMap(b){"undefined"==typeof b&&(b="zMLSSearchForm");var c=[],d=document.getElementById("resultCountAbsolute");if(d&&0===d.innerHTML.substr(0,1))alert("There are no matching listings, please revise your search before clicking to view the map");else{var b=zFormSubmit(b,!1,!0,!1,!0),h;for(h in b)"undefined"!==typeof zlsSearchCriteriaMap[h]&&""!==b[h]&&c.push(zlsSearchCriteriaMap[h]+"="+b[h]);c=c.join("&");1950<=c.length&&alert("You've selected too many criteria. Please reduce the number of selections for the most accurate search results.");
c="/z/listing/map-fullscreen/index?"+c.substr(0,1950);window.open(c)}}var zMapFirstZoomChange=!0,widthPerPixel=1.1257672119140624E-5,heightPerPixel=1.0531174841353966E-5,widthPerPixel=2.1457672119140625E-5,heightPerPixel=1.8731174841353967E-5,zMapCurrentZoom=0,zMapTimeoutUpdate=0;"undefined"===typeof zMapFullscreen&&(zMapFullscreen=!1);function zlsGotoMapLink(b){zMapFullscreen?window.open(b):window.top.location.href=b}
function onGMAPLoad(b){if(!("undefined"!==typeof zDisableOnGmapLoad&&zDisableOnGmapLoad)&&("undefined"!==typeof b&&b||zFunctionLoadStarted&&!("undefined"===typeof google||"undefined"===typeof google.maps||"undefined"===typeof google.maps.LatLng)))if(b=zGetElementsByClassName("zMapLoadInputVarsClass"),!(0===b.length||"undefined"===typeof b[0].value||""===b[0].value))if(eval("var myObj="+b[0].value+";"),mapProps=myObj,"undefined"!==typeof google.maps.OverlayView)if(zIsTouchscreen()&&-1!==window.location.href.indexOf("/listing/search-form"))document.getElementById("map489273").style.display=
"none";else if(zLatLngControl.prototype=new google.maps.OverlayView,zLatLngControl.prototype.draw=function(){},zLatLngControl.prototype.createHtmlNode_=function(){var b=document.createElement("div");b.id="latlng-control";b.index=100;return b},zLatLngControl.prototype.visible_changed=function(){this.node_.style.display=this.get("visible")?"":"none"},zLatLngControl.prototype.updatePosition=function(b){zCurMapPixelV3=this.getProjection().fromLatLngToContainerPixel(b)},zWindowSize=getWindowSize(),mapProps.curStageWidth=
"string"===typeof mapProps.stageWidth&&"%"===mapProps.stageWidth.substr(mapProps.stageWidth.length-1)?zWindowSize.width+zScrollbarWidth:parseInt(mapProps.stageWidth),mapProps.curStageHeight="string"===typeof mapProps.stageWidth&&"%"===mapProps.stageHeight.substr(mapProps.stageHeight.length-1)?zWindowSize.height:parseInt(mapProps.stageHeight),mapProps.longBlockWidth=84,mapProps.latBlockWidth=91,mapProps.latBlocks=Math.ceil(mapProps.curStageHeight/mapProps.longBlockWidth),mapProps.longBlocks=Math.ceil(mapProps.curStageWidth/
mapProps.latBlockWidth),zMapOverlayDivObjAbsPos=zGetAbsPosition(zMapOverlayDivObj),mapLoadFunction(),0===mapProps.avgLat||0===mapProps.avgLong)document.getElementById("zMapAllDiv").style.display="none";else{maxLong=minLong=maxLat=minLat=0;if(0!==mapProps.mapCount&&"undefined"!==typeof mapProps.zArrMapTotalLat&&0!==mapProps.zArrMapTotalLat.length){minLat=mapProps.zArrMapTotalLat[0];maxLat=mapProps.zArrMapTotalLat[0];minLong=mapProps.zArrMapTotalLong[0];maxLong=mapProps.zArrMapTotalLong[0];for(i=0;i<
mapProps.mapCount;i++)mapProps.zArrMapTotalLat[i]<minLat&&(minLat=mapProps.zArrMapTotalLat[i]),mapProps.zArrMapTotalLat[i]>maxLat&&(maxLat=mapProps.zArrMapTotalLat[i]),mapProps.zArrMapTotalLong[i]<minLong&&(minLong=mapProps.zArrMapTotalLong[i]),mapProps.zArrMapTotalLong[i]>maxLong&&(maxLong=mapProps.zArrMapTotalLong[i]);avgLat=(maxLat+minLat)/2;avgLong=(maxLong+minLong)/2}else avgLat=mapProps.avgLat,avgLong=mapProps.avgLong;margin=50;0===minLat&&(maxLat=minLat=avgLat,maxLong=minLong=avgLong);mapProps.minLat=
minLat;mapProps.maxLat=maxLat;mapProps.minLong=minLong;mapProps.maxLong=maxLong;avgLat=(maxLat+minLat)/2;avgLong=(maxLong+minLong)/2;propHeight=Math.max(50*heightPerPixel,Math.abs(maxLat-minLat));propWidth=Math.max(50*widthPerPixel,Math.abs(maxLong-minLong));twp=widthPerPixel;thp=heightPerPixel;for(zoom=1;20>=zoom&&!(1!==zoom&&(twp*=2,thp*=2),maxWidth=mapProps.curStageWidth*twp,maxHeight=mapProps.curStageHeight*thp,maxWidth>propWidth+twp*margin&&maxHeight>propHeight+thp*margin);zoom++);(!document.getElementById("search_within_map_name1")||
!1===document.getElementById("search_within_map_name1").checked)&&zoom++;mapProps.avgLong=avgLong;mapProps.avgLat=avgLat;mapProps.zoom=0!==mapProps.forceZoom?mapProps.forceZoom:0===Math.abs(maxLat-minLat)?20-zoom:18-zoom;streetView=!1;onGMAPLoadV3()}}zArrLoadFunctions.push({functionName:onGMAPLoad});var zAjaxNearAddressMarker=!1,zMapMarkerIdOff=0;
function toggleMapFullscreen(){var b=document.getElementById("myGoogleMap"),c=document.getElementById("mapFloater");mapFullscreen?(mapFullscreen=!1,mapProps.stageWidth=mapProps.curStageWidth,mapProps.stageHeight=mapProps.curStageHeight,b.style.width=mapProps.curStageWidth+"px",b.style.height=mapProps.curStageHeight+"px",c.style.marginLeft="10px",c.style.marginBottom="10px",onLoad()):(mapFullscreen=!0,c.style.marginLeft="0px",c.style.marginBottom="10px",alert("not implemented"))}
function searchWithinMap(){var b,c,d,h;b=mapObjV3.getBounds().getSouthWest().lat();c=mapObjV3.getBounds().getSouthWest().lng();d=mapObjV3.getBounds().getNorthEast().lat();h=mapObjV3.getBounds().getNorthEast().lng();document.mapSearchForm.search_map_coordinates_list.value=c+","+h+","+b+","+d;document.mapSearchForm.submit()}var myPano;if("undefined"!==typeof GClientGeocoder)var geocoder=new GClientGeocoder;var streetviewlatlong=0;if("undefined"!==typeof GStreetviewClient)var panoClient=new GStreetviewClient;
function gmsvShowAddress(){null!==document.getElementById("zGStreetView")&&(""!==zOneLatitude?gmsvLoadGoogleMaps({y:zOneLatitude,x:zOneLongitude}):""!==zBingAddress?geocoder.getLatLng(zBingAddress,function(b){b?gmsvLoadGoogleMaps(b):""!==zOneLatitude?gmsvLoadGoogleMaps({y:zOneLatitude,x:zOneLongitude}):handleGMSVErr(0)}):handleGMSVErr(0))}mapLoadFunction=gmsvShowAddress;
function gmsvLoadGoogleMaps(b){streetviewlatlong=new google.maps.LatLng(b.y,b.x);b={latlng:streetviewlatlong};myPano=new google.maps.StreetViewPanorama(document.getElementById("pano"),b);google.maps.event.addListener(myPano,"error",handleGMSVErr)}function handleGMSVErr(){document.getElementById("zGStreetView").style.display="none"}
function showPanoData(b){if(200!==b.code)handleGMSVErr(0);else{document.getElementById("zGStreetView").style.display="block";var c=computeAngle(streetviewlatlong,b.location.latlng);myPano.setLocationAndPOV(b.location.latlng,{yaw:c})}}function computeAngle(b,c){var d=b.lat()-c.lat(),h=b.lng()-c.lng(),d=57.2957795*Math.atan2(h*Math.cos(0.017453*b.lat()),d);return wrapAngle(d)}function wrapAngle(b){360<=b?b-=360:0>b&&(b+=360);return b}
function zSetNearAddress(b){""!==b?(zSetWithinMap(1),zSetWithinMap2(1)):(zSetWithinMap(0),zSetWithinMap2(0))}function zSetWithinMap(b){var c=document.getElementById("setWithinMapRadio1");if(null!==c){var d=document.getElementById("setWithinMapRadio2");document.getElementById("search_within_map_name1");1===b?(d.checked=!1,c.checked=!0):(c.checked=!1,d.checked=!0)}}
function zSetWithinMap2(b){var c=document.getElementById("setWithinMapRadio1"),d=document.getElementById("setWithinMapRadio2");if(null!==c){var h=document.getElementById("search_within_map_name1");document.getElementById("search_within_map");1===b?(c.checked=!0,h.checked=!0):(d.checked=!0,h.checked=!1);h.onclick()}}var zArrPermanentMarker=[];
function zAjaxReturnNearAddress(b){if(zDebugMLSAjax)document.write(b);else if(eval("var myObj="+b+";"),myObj.success){var c=myObj.search_map_coordinates_list.split(","),b=parseFloat(c[2]),d=parseFloat(c[3]),h=parseFloat(c[0]),l=parseFloat(c[1]),c=(b+d)/2,m=(h+l)/2,n=0,r=Math.max(50*heightPerPixel,Math.abs(d-b)),h=Math.max(50*widthPerPixel,Math.abs(l-h)),l=widthPerPixel,q=heightPerPixel;margin=50;for(n=1;20>=n&&!(1!==n&&(l*=2,q*=2),maxWidth=mapProps.curStageWidth*l,maxHeight=mapProps.curStageHeight*
q,maxWidth>h+l*margin&&maxHeight>r+q*margin);n++);mapProps.avgLong=m;mapProps.avgLat=c;mapProps.zoom=0===Math.abs(d-b)?20-n:18-n;streetView=!1;d=document.getElementById("searchNearAddress");b=document.getElementById("search_near_address");b.value=d.value;document.getElementById("zNearAddressDiv").style.display="none";"undefined"!==typeof mapObj&&(mapObjV3.closeInfoWindow(),mapObjV3.setCenter(new google.maps.LatLng(mapProps.avgLat,mapProps.avgLong),mapProps.zoom),zSetNearAddress(1),d={},d.point=new google.maps.LatLng(mapProps.avgLat,
mapProps.avgLong),d.title="zNearAddressMarker",arrAd=b.value.split(","),b=arrAd.shift()+"<br>"+arrAd.join(","),d.htmlText='<table width="150"><tr><td>Location:<br>'+b+"</td></tr></table>",b=zAddPermanentMarker(d),google.maps.event.trigger(b,"click"))}else alert(myObj.errorMessage)}
function zMLSUpdateResultLimit(b){for(var c=document.getElementById("search_result_limit"),b=2===b?[9,15,21,27,33,39,45,54]:[10,15,20,25,30,35,40,50],d=0;d<c.options.length;d++)c.options[d].value=b[d],c.options[d].text=b[d]}function zAjaxMapRadiusChange(){""!==document.getElementById("search_near_radius").value&&zAjaxSetNearAddress()}function zAjaxFailNearAddress(){alert("There was a problem setting the address. Try again")}
function zAjaxSetNearAddress(){var b=document.getElementById("searchNearAddress"),c=document.getElementById("search_near_radius"),b="/z/listing/search-form/index?action=nearAddress&search_near_address="+escape(b.value)+"&search_near_radius="+escape(c.value),c={id:"zMapNearAddress"};c.url=b;c.callback=zAjaxReturnNearAddress;c.errorCallback=zAjaxFailNearAddress;c.cache=!1;c.ignoreOldRequests=!0;zAjax(c)}
function zAjaxCancelNearAddress(){var b=document.getElementById("searchNearAddress"),c=document.getElementById("search_near_radius");document.getElementById("zNearAddressDiv").style.display="none";b.value="";c.value="0.1"}function zNearAddressChange(b){var c=document.getElementById("zNearAddressDiv"),d=document.getElementById("search_near_address");""===b.value?(c.style.display="none",d.value=""):c.style.display="block"}
function zlsFixImageHeight(b,c,d){"undefined"!==typeof b.naturalHeight&&0!==b.naturalHeight?b.naturalHeight>d?(b.style.width="auto",b.style.height=d+"px"):b.naturalHeight<d&&b.naturalHeight<c&&(b.style.width=b.naturalWidth+"px",b.style.height=b.naturalHeight+"px"):zGetAbsPosition(b).height>d&&(b.style.width="auto",b.style.height=d+"px")}
var mapObjV3=!1,zGMapAbsPosV3=0,arrMapMarkersV3=[],debugTextarea,zMapOverlaysV3=[],zMapOverlaysIdsV3=[],zArrPermanentMarkerV3=[],zHighestMapCountV3=0,zMarkerMapCounterV3=0,zMapOverlayDivObjV3=0,zMapOverlayDivObjAbsPosV3=0,zCurrentMarkerMapCounterV3=0,zMapCurrentListingLinkV3="",zMapOverlayDivObjAbsPos2V3=0,zCurMapPixelV3,zCoorUpdateIntervalIdV3,zMarkerMapTypeTrack=[],zLatLngControlInstance,zLatLngControl=function(b){"undefined"===typeof google||("undefined"===typeof google.maps||"undefined"===typeof google.maps.LatLng)||
(this.ANCHOR_OFFSET_=new google.maps.Point(8,8),this.node_=this.createHtmlNode_(),b.controls[google.maps.ControlPosition.TOP].push(this.node_),this.setMap(b),this.set("visible",!1))};function gmapV3ClearMarkers(){}
function zAddPermanentMarkerV3(b){for(var c=0;c<zArrPermanentMarkerV3.length;c++)if(zArrPermanentMarkerV3[c].title===b.title)return zArrPermanentMarkerV3[c].point=b.point,zArrPermanentMarkerV3[c].title=b.title,zArrPermanentMarkerV3[c].htmlText=b.htmlText,zArrPermanentMarkerV3[c].marker=zCreatePermanentMarkerV3(zArrPermanentMarkerV3[c]),zArrPermanentMarkerV3[c].marker;zArrPermanentMarkerV3.push(b);zArrPermanentMarkerV3[zArrPermanentMarkerV3.length-1].marker=zCreatePermanentMarkerV3(zArrPermanentMarkerV3[zArrPermanentMarkerV3.length-
1]);return zArrPermanentMarkerV3[zArrPermanentMarkerV3.length-1].marker}function zRemovePermanentMarkers(){for(var b=0;b<zArrPermanentMarkerV3.length;b++)zArrPermanentMarkerV3[b].marker.setMap(null);zArrPermanentMarkerV3=[]}function zCreatePermanentMarkersV3(){for(var b=0;b<zArrPermanentMarkerV3.length;b++)zArrPermanentMarkerV3[b].marker=zCreatePermanentMarkerV3(zArrPermanentMarkerV3[b])}
function zCreatePermanentMarkerV3(b){b.marker&&(b.marker.setMap(null),b.marker=!1);var c=new google.maps.InfoWindow({content:b.htmlText}),d=new google.maps.Marker({position:b.point,map:mapObjV3,title:b.title});google.maps.event.addListener(d,"click",function(){c.open(mapObjV3,d)});return d}zMapArrLoadFunctions=[];
function zlsUpdateMapSize(){document.getElementById("myGoogleMapV3");mapProps.curStageWidth=zWindowSize.width+zScrollbarWidth;mapProps.curStageHeight=zWindowSize.height;mapProps.latBlocks=Math.ceil(mapProps.curStageHeight/mapProps.longBlockWidth);mapProps.longBlocks=Math.ceil(mapProps.curStageWidth/mapProps.latBlockWidth);myGoogleMapV3.style.width=mapProps.curStageWidth+"px";myGoogleMapV3.style.height=mapProps.curStageHeight+"px"}
function onGMAPLoadV3(){zMapOverlayDivObjV3=document.getElementById("zMapOverlayDivV3");zMapOverlayDivObjAbsPosV3=zGetAbsPosition(zMapOverlayDivObjV3);var b=document.getElementById("myGoogleMapV3");if(null!==b){myGoogleMapV3.style.width=mapProps.curStageWidth+"px";myGoogleMapV3.style.height=mapProps.curStageHeight+"px";var c=new google.maps.LatLng(mapProps.avgLat,mapProps.avgLong);mapObjV3=new google.maps.Map(b,{streetViewControl:!1,panControl:!0,zoom:mapProps.zoom,center:c,mapTypeId:google.maps.MapTypeId.HYBRID});
google.maps.event.addListener(mapObjV3,"click",function(){zMapMarkerRollOutV3(!0)});zLatLngControlInstance=new zLatLngControl(mapObjV3);zGMapAbsPosV3=zGetAbsPosition(b);for(b=0;b<zMapOverlaysIdsV3.length;b++)zMapOverlaysV3[b].setMap(null);zMapOverlaysIdsGroupV3=[];zMapOverlaysIdsV3=[];zMapOverlaysV3=[];zRemovePermanentMarkers();google.maps.event.addListener(mapObjV3,"mouseover",function(){zLatLngControlInstance.set("visible",!0)});google.maps.event.addListener(mapObjV3,"mouseout",function(){zLatLngControlInstance.set("visible",
!1)});google.maps.event.addListener(mapObjV3,"mousemove",function(b){zLatLngControlInstance.updatePosition(b.latLng);zMapMarkerMouseMoveV3(b,this)});google.maps.event.addListener(mapObjV3,"zoom_changed",function(){var b=mapObjV3.getZoom();zMapOverlayDivObjV3.style.display="none";zMapCurrentZoom=b;-99!==b&&!zMapFirstZoomChange&&(gmapV3ClearMarkers(),zCreatePermanentMarkersV3());zMapOverlaysIds=[];zMapOverlays=[];zMapFirstZoomChange=!1;clearTimeout(zMapTimeoutUpdate);-99<b&&(streetView=!1)});google.maps.event.addListener(mapObjV3,
"bounds_changed",zMapBoundsChange);google.maps.event.addListener(mapObjV3,"dragstart",function(){zMapOverlayDivObjV3.style.display="none"});google.maps.event.addListener(mapObjV3,"drag",function(){zMapOverlayDivObjV3.style.display="none"});google.maps.event.addListener(mapObjV3,"dragend",function(){});for(b=0;b<mapProps.mapCount;b++)!1!==mapProps.zArrMapText[b]&&(c={},c.point=new google.maps.LatLng(mapProps.zArrMapTotalLat[b],mapProps.zArrMapTotalLong[b]),c.title="zNearAddressMarker",c.htmlText='<table width="150"><tr><td>'+
mapProps.zArrMapText[b]+"</td></tr></table>",c=zAddPermanentMarkerV3(c),zMapOverlaysV3.push(c));zAjaxNearAddressMarker&&(arrAd=document.getElementById("search_near_address").value.split(","),b=arrAd.shift()+"<br>"+arrAd.join(","),c={},c.point=new google.maps.LatLng(zAjaxNearAddressMarker[0],zAjaxNearAddressMarker[1]),c.title="zNearAddressMarker",c.htmlText='<table width="150"><tr><td>Location:<br>'+b+"</td></tr></table>",c=zAddPermanentMarker(c),google.maps.event.trigger(c,"click"),zMapOverlaysV3.push(c));
setTimeout("zMapTryUpdateV3();",1E3)}}function zMapBoundsChange(){"undefined"!==typeof zMapOverlayDivObjV3.style&&(zMapOverlayDivObjV3.style.display="none");zMapIgnoreMoveEnd||(clearInterval(zMapTimeoutUpdate),zMapTimeoutUpdate=setTimeout(zMapMapTimeoutUpdate,100));zMapIgnoreMoveEnd=!1}function zMapMapTimeoutUpdate(){zMapCoorUpdateV3(!0,zMLSSearchFormName)}
function zMapTryUpdateV3(){0===zMarkerMapTypeTrack.length&&google.maps.event.trigger(mapObjV3,"zoom_changed");for(var b=0;b<zMapArrLoadFunctions.length;b++)zMapArrLoadFunctions[b]()}
function zMapCoorUpdateV3(b,c){var d,h,l,m;if(mapObjV3.getBounds&&"object"===typeof mapObjV3.getBounds()&&(d=mapObjV3.getBounds().getSouthWest().lat(),h=mapObjV3.getBounds().getSouthWest().lng(),l=mapObjV3.getBounds().getNorthEast().lat(),m=mapObjV3.getBounds().getNorthEast().lng(),null!==document.getElementById(c)&&$("#search_map_coordinates_list").length&&($("#search_map_coordinates_list").val(h+","+m+","+d+","+l),$("#search_map_long_blocks").val(mapProps.longBlocks),$("#search_map_lat_blocks").val(mapProps.latBlocks),
b)))if("undefined"===typeof zFormData||"undefined"===typeof zFormData[c])zArrDeferredFunctions.push(function(){zFormData[c].onChangeCallback(c)});else zFormData[c].onChangeCallback(c)}var zMapOverlaysIdsGroupV3=[];zUpdateMapMarkersV3First=!0;
function zUpdateMapMarkersV3(b){if(!("undefined"===typeof google||"undefined"===typeof google.maps||"undefined"===typeof google.maps.LatLng))if(!(0!==zArrPermanentMarker.length||0!==zArrPermanentMarkerV3.length)){var c=[],d=[],h=[],l=[],m=!1;if("undefined"!==typeof b.listing_id&&""!==b.listing_latitude){for(var n=0;n<zMapOverlaysIdsGroupV3.length;n++)!0===zMapOverlaysIdsGroupV3[n]&&zMapOverlaysV3[n].setMap(null);zHighestMapCountV3=0;zUpdateMapMarkersV3First&&("undefined"!==typeof b.allMinLat&&-1!==
window.location.href.indexOf("map-fullscreen"))&&(m=new google.maps.LatLngBounds,m.extend(new google.maps.LatLng(b.allMinLat,b.allMinLong)),m.extend(new google.maps.LatLng(b.allMinLat,b.allMaxLong)),m.extend(new google.maps.LatLng(b.allMaxLat,b.allMaxLong)),m.extend(new google.maps.LatLng(b.allMaxLat,b.allMinLong)),mapObjV3.fitBounds(m),zUpdateMapMarkersV3First=!1);for(var r=0;r<b.listing_id.length;r++)"0"===b.listing_id[r]&&(zHighestMapCountV3=Math.max(zHighestMapCountV3,b.arrCount[r]));for(r=0;r<
b.arrColor.length;r++){m=-1;if("0"!==b.listing_id[r]&&""!==b.listing_id[r]){for(n=0;n<zMapOverlaysIdsV3.length;n++)if(zMapOverlaysIdsV3[n]===b.listing_id[r]){m=zMapOverlaysIdsV3[n];q=zMapOverlaysV3[n];q.setIcon("/z/a/listing/images/icon-home"+b.arrColor[r]+".jpg");"object"===typeof mapObjV3&&null!==mapObjV3&&q.setMap(mapObjV3);q.myForceEasyClick=!0;l.push(m);break}if(-1===m){var m=new google.maps.LatLng(b.listing_latitude[r],b.listing_longitude[r]),q=createMarkerListingAjaxV3(m,b.listing_id[r],b.arrColor[r]);
q.listing_id=b.listing_id[r]}h.push(!1)}else m=new google.maps.LatLng(b.minLat[r],b.minLong[r]),q=createMarkerGroupBgAjaxV3(m,b,r,b.arrColor[r]),q.listing_id="0"+b.minLat[r]+":"+b.minLong[r],h.push(!0);d.push(b.listing_id[r]+":"+b.minLat[r]+":"+b.minLong[r]);c.push(q)}}for(n=0;n<zMapOverlaysIdsV3.length;n++)if(m=!1,!1===zMapOverlaysIdsGroupV3[n]){for(b=0;b<l.length;b++)if(l[b]===zMapOverlaysIdsV3[n]){m=!0;break}!1===m&&zMapOverlaysV3[n].setMap(null)}zMapOverlaysIdsGroupV3=h;zMapOverlaysIdsV3=d;zMapOverlaysV3=
c}}function zSetupCustomMarkerV3(b){b.zMarkerMapCounterV3=zMarkerMapCounterV3;b.myRolloverCallbackObj={};b.myRolloverCallback=!1;b.myRolloverHTML="";"undefined"!==typeof google&&(google.maps.event.addListener(b,"mouseover",function(b){zMapMarkerMouseOverV3(b,this)}),google.maps.event.addListener(b,"click",function(b){zMapMarkerMouseOverV3(b,this)}),google.maps.event.addListener(b,"mouseout",function(){zMapMarkerRollOutV3Delay()}))}var zMapMarkerRollOutV3TimeoutId=0;
function zMapMarkerRollOutV3Delay(){clearTimeout(zMapMarkerRollOutV3TimeoutId);zMapMarkerRollOutV3TimeoutId=setTimeout(function(){zMapMarkerRollOutV3()},100)}function zMapLoadListingV3(b){zMapOverlayDivObjV3.style.width="300px";zMapOverlayDivObjV3.style.height="120px";var c={id:"zMapListing"};c.url="/z/listing/search-form/index?action=ajaxMapListing&listing_id="+b.id;zDebugMLSAjax&&(c.debug=!0);c.cache=!0;c.callback=zMapShowListingV3;c.ignoreOldRequests=!0;zAjax(c)}
function zMapShowListingV3(b){eval("var myObj="+b+";");zMapCurrentListingLinkV3=myObj.link;zMapOverlayDivObjV3.innerHTML=myObj.html}
function createMarkerListingAjaxV3(b,c,d){zMarkerMapCounterV3++;b=new google.maps.Marker({position:b,icon:"/z/a/listing/images/icon-home"+d+".jpg",map:mapObjV3,title:"zMapMarkerImage"+zMarkerMapCounterV3});b.myForceEasyClick=!0;zMarkerMapTypeTrack[zMarkerMapCounterV3]="marker";zSetupCustomMarkerV3(b);d={};d.id=c;b.myRolloverCallback=zMapLoadListingV3;b.myRolloverCallbackObj=d;google.maps.event.addListener(b,"dblclick",function(){null!==zMapCurrentListingLinkV3&&""!==zMapCurrentListingLinkV3&&(mapObjV3=
null,window.top.location.href=zMapCurrentListingLinkV3)});return b}
function zlsGotoMultiunitResults(b){var c=[],d=zFormSubmit(zMLSSearchFormName,!1,!0,!1,!0);d.search_map_coordinates_list=b;d.search_within_map=1;for(var h in d)"undefined"!==typeof zlsSearchCriteriaMap[h]&&""!==d[h]&&c.push(zlsSearchCriteriaMap[h]+"="+d[h]);b=c.join("&");1950<=b.length&&alert("You've selected too many criteria. Please reduce the number of selections for the most accurate search results.");-1!==window.location.href.indexOf("superiorpropertieshawaii.com")?window.open("/search-compare.cfc?method=index&"+
b.substr(0,1950)):window.open("/z/listing/search-form/index?searchaction=search&"+b.substr(0,1950))}
function createMarkerGroupBgAjaxV3(b,c,d,h){if(1===c.arrCountAtAddress[d])b=new google.maps.LatLng(c.listing_latitude[d],c.listing_longitude[d]),zMarkerMapCounterV3++,b=new google.maps.Marker({position:b,icon:"/z/a/listing/images/icon-home"+h+".jpg",map:mapObjV3,title:"zSeeThroughMarkerId"+zMarkerMapCounterV3}),zMarkerMapTypeTrack[zMarkerMapCounterV3]="seeThrough",b.zMarkerMapCounterV3=zMarkerMapCounterV3,zSetupCustomMarkerV3(b),b.myForceEasyClick=!0,b.myRolloverHTML="<strong>"+c.arrCount[d]+" listings at this address</strong><br />Average list price: "+
c.avgPrice[d]+'</span><br /><a href="##" onclick="zlsGotoMultiunitResults(\''+c.listing_longitude[d]+","+c.listing_longitude[d]+","+c.listing_latitude[d]+","+c.listing_latitude[d]+"'); return false;\">Click here to view all listings</a>";else{var l=c.arrCount[d]/zHighestMapCountV3,m=32*l+24,l=25*l+20,n=new google.maps.Point(Math.round(90-(58-m/2)),Math.round(80-(45-l/2))),h=new google.maps.MarkerImage("/z/a/listing/images/icon-multi"+h+".png",new google.maps.Size(Math.round(m),Math.round(l)),new google.maps.Point(0,
0),n,new google.maps.Size(Math.round(m),Math.round(l)));zMarkerMapCounterV3++;b=new google.maps.Marker({position:b,map:mapObjV3,icon:h,title:"zSeeThroughMarkerId"+zMarkerMapCounterV3});zMarkerMapTypeTrack[zMarkerMapCounterV3]="seeThrough";zSetupCustomMarkerV3(b);b.myRolloverHTML="<strong>"+c.arrCount[d]+" matching listings here</strong><br />Average list price: "+c.avgPrice[d]+"</span><br />Double click to zoom in."}return b}
function zMapMarkerMouseMoveV3(){if(0!==zCurrentMarkerMapCounterV3&&"undefined"!==typeof zMarkerMapTypeTrack[zCurrentMarkerMapCounterV3]&&"seeThrough"===zMarkerMapTypeTrack[zCurrentMarkerMapCounterV3]){var b={x:0,y:0},c=!1;null!==window.parent&&null!==window.parent.document.getElementById("zMapOverlayDivV3")&&(c=zMapOverlayDivObjV3=window.parent.document.getElementById("zMapOverlayDivV3"),b=zGetAbsPosition(window.parent.document.getElementById("embeddedmapiframe")));zMapOverlayDivObjV3.style.width=
"215px";zMapOverlayDivObjV3.style.height="65px";var d=zCurMapPixelV3;!1!==c?(d={x:zMousePosition.x,y:zMousePosition.y},d.x+=b.x,d.y+=b.y,zMapOverlayDivObjV3.style.top=zMousePosition.y+b.y-zPositionObjSubtractPos[1]+20+"px",zMapOverlayDivObjV3.style.left=zMousePosition.x+b.x-zPositionObjSubtractPos[0]+20+"px"):(zMapOverlayDivObjV3.style.top=zMousePosition.y-zPositionObjSubtractPos[1]+20+"px",zMapOverlayDivObjV3.style.left=zMousePosition.x-zPositionObjSubtractPos[0]+20+"px")}}
function goToStreetV3(b,c){zMapIgnoreMoveEnd=streetView=!0;mapObjV3.setCenter(new google.maps.LatLng(b,c));zMapOverlayDivObjV3.style.left=zGMapAbsPosV3.x+zGMapAbsPosV3.width/2+9+"px";zMapOverlayDivObjV3.style.top=zGMapAbsPosV3.y+zGMapAbsPosV3.height/2-9+"px";mapObjV3.getMapTypeId()!==google.maps.MapTypeId.ROADMAP?mapObjV3.setZoom(21):mapObjV3.setZoom(19)}
function zMapMarkerMouseOverV3(b,c){var d={x:0,y:0},h=!1;null!==window.parent&&null!==window.parent.document.getElementById("zMapOverlayDivV3")&&(h=zMapOverlayDivObjV3=window.parent.document.getElementById("zMapOverlayDivV3"),d=zGetAbsPosition(window.parent.document.getElementById("embeddedmapiframe")));zMapOverlayDivObjV3.style.width="215px";zMapOverlayDivObjV3.style.height="65px";var l=zMousePosition.x-zGMapAbsPosV3.x,m=zMousePosition.y-zGMapAbsPosV3.y,n=zCurMapPixelV3;!1!==h?(n={x:zMousePosition.x,
y:zMousePosition.y},n.x+=d.x,n.y+=d.y):(n.x+=zGMapAbsPosV3.x,n.y+=zGMapAbsPosV3.y);n.width=20;n.height=17;zMapOverlayDivObjAbsPos2V3=n;zCurrentMarkerMapCounterV3=c.zMarkerMapCounterV3;zMapOverlayDivObjV3.innerHTML=c.myRolloverHTML;!1!==c.myRolloverCallback&&c.myRolloverCallback(c.myRolloverCallbackObj);zIsTouchscreen()&&zTouchPosition.count&&(l=zTouchPosition.x[0],m=zTouchPosition.y[0],n.x=zTouchPosition.x[0],n.y=zTouchPosition.y[0],!1!==h?(n.x+=d.x,n.y+=d.y):(n.x+=zGMapAbsPosV3.x,n.y+=zGMapAbsPosV3.y));
zMapOverlayDivObjV3.style.left=l>zGMapAbsPosV3.width/2?"undefined"!==typeof c.myForceEasyClick?n.x-zPositionObjSubtractPos[0]+"px":n.x-zPositionObjSubtractPos[0]-parseInt(zMapOverlayDivObjV3.style.width)+10+"px":"undefined"!==typeof c.myForceEasyClick?n.x-zPositionObjSubtractPos[0]+"px":n.x+n.width-zPositionObjSubtractPos[0]+"px";zMapOverlayDivObjV3.style.top=m<zGMapAbsPosV3.height/2?n.y-zPositionObjSubtractPos[1]-25+"px":n.y+n.height-zPositionObjSubtractPos[1]-(parseInt(zMapOverlayDivObjV3.style.height)+
15)+"px";zMapOverlayDivObjAbsPosV3={x:parseInt(zMapOverlayDivObjV3.style.left)-d.x,y:parseInt(zMapOverlayDivObjV3.style.top)-d.y,width:parseInt(zMapOverlayDivObjV3.style.width),height:parseInt(zMapOverlayDivObjV3.style.height)};zMapOverlayDivObjV3.style.display="block"}
function zMapMarkerRollOutV3(b){if(null!==zMapOverlayDivObjV3&&0!==zCurrentMarkerMapCounterV3&&"undefined"!==typeof zMarkerMapTypeTrack[zCurrentMarkerMapCounterV3]&&(b||!(zMousePosition.x-zPositionObjSubtractPos[0]>=zMapOverlayDivObjAbsPosV3.x-30&&zMousePosition.x-zPositionObjSubtractPos[0]<=zMapOverlayDivObjAbsPosV3.x+zMapOverlayDivObjAbsPosV3.width+30&&zMousePosition.y-zPositionObjSubtractPos[1]>=zMapOverlayDivObjAbsPosV3.y-30&&zMousePosition.y-zPositionObjSubtractPos[1]<=zMapOverlayDivObjAbsPosV3.y+
zMapOverlayDivObjAbsPosV3.height+30)))if(b||!(zMousePosition.x>=zMapOverlayDivObjAbsPos2V3.x-30&&zMousePosition.x<=zMapOverlayDivObjAbsPos2V3.x+zMapOverlayDivObjAbsPos2V3.width+30&&zMousePosition.y>=zMapOverlayDivObjAbsPos2V3.y-30&&zMousePosition.y<=zMapOverlayDivObjAbsPos2V3.y+zMapOverlayDivObjAbsPos2V3.height+30))zCurrentMarkerMapCounterV3=0,zMapOverlayDivObjV3.innerHTML="",zMapOverlayDivObjV3.style.display="none"}
function zlsEnableImageEnlarger(){for(var b=zGetElementsByClassName("zlsListingImage"),c=0;c<b.length;c++){var d=b[c].id.substr(0,b[c].id.length-4),h=document.getElementById(d+"_mlstempimagepaths");null!==h&&(zIArrMLink[d]="",zIArrM[d]=h.value.split("@"),zIArrM2[d]=[],zIArrM3[d]=!1,zImageMouseMove(d,!1,!0))}}zArrLoadFunctions.push({functionName:zlsEnableImageEnlarger});var zIArrMLink=[],zIArrM=[],zIArrM2=[],zIArrM3=[],zIArrMST=[],zIArrOriginal=[];
function zImageMouseReset(b){var c=document.getElementById(b);if(null!==c){var c=zGetAbsPosition(c),d=document.getElementById(b+"_img");zMousePosition.x>c.x&&zMousePosition.x<c.x+c.width&&zMousePosition.y>c.y&&zMousePosition.y<c.y+c.height||("undefined"!==typeof zIImageClickLoad&&zIImageClickLoad?(b=document.getElementById("zlistingnextimagebutton"),c=document.getElementById("zlistingprevimagebutton"),b.style.display="none",c.style.display="none"):(zIArrMST[b]=!1,zIArrM5[b]=-1,zIArrM2[b]=[],d.style.display=
"block",zImageForceCloseEnlarger(),"undefined"!==typeof zIArrOriginal[b]&&(document.getElementById("zListingImageEnlargeImageParent").innerHTML='<img id="zListingImageEnlargeImage" alt="Image" src="'+zIArrOriginal[b]+'" onerror="zImageOnError(this);" />')))}}function zImageOnError(b){b.onmousemove=null;b.onmouseout=null;b.src="/z/a/listing/images/image-not-available.gif"}
function zClearSelection(){document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}var zIArrMOffset=[],zIArrMSize=[],zIArrM5=[],zIImageMaxWidth=540,zIImageMaxHeight=420,zICurrentImageIndex=0,zICurrentImageXYPos=[0,0],zILastLoaded="";
function zImageMouseMove(b,c,d){var h=document.getElementById(b);if(null!==h){var h=zGetAbsPosition(h),l=document.getElementById(b+"_img");if(null!==l){var m=l.getAttribute("data-imageurl");if("undefined"!==typeof l.src){if(m=l.src,"/z/a/listing/images/image-not-available.gif"===l.src.substr(l.src.length-43,43))return!1}else if(""!==m&&-1!==m.indexOf("/z/a/listing/images/image-not-available.gif"))return!1;if(zILastLoaded!==b)if(zIArrOriginal[b]=m,"undefined"!==typeof zIImageClickLoad&&zIImageClickLoad&&
"boolean"!==typeof c){zILastLoaded=b;c=document.getElementById("zlistingnextimagebutton");d=document.getElementById("zlistingprevimagebutton");if(null!==c){1>=zIArrM[b].length?(c.style.display="none",d.style.display="none"):(c.style.display="block",d.style.display="block",c.style.paddingBottom=h.height-19-45+"px",d.style.paddingBottom=h.height-19+"px");if(zICurrentImageXYPos[0]===h.x&&zICurrentImageXYPos[1]===h.y)return;"undefined"===typeof zIArrMOffset[b]&&(zIArrMOffset[b]=0);m=zGetAbsPosition(c);
zICurrentImageIndex=0;zICurrentImageXYPos[0]=h.x;zICurrentImageXYPos[1]=h.y;c.ondblclick=function(){zClearSelection();return false};d.ondblclick=function(){zClearSelection();return false};c.onselectstart=function(){zClearSelection();return false};d.onselectstart=function(){zClearSelection();return false};d.style.top=h.y+10+"px";d.style.left=h.x+"px";c.style.top=h.y+10+"px";c.style.left=h.x+h.width-m.width+"px";c.curId=b;c.curImageDiv=l;d.curId=b;d.curImageDiv=l;c.unselectable=!0;d.unselectable=!0;
c.onclick=function(){var b=zIArrM[this.curId].length,c=zIArrMOffset[this.curId];c++;c>=b&&(c=0);this.curImageDiv.src=zIArrM[this.curId][c];zIArrMOffset[this.curId]=c;return false};d.onclick=function(){var b=zIArrM[this.curId].length,c=zIArrMOffset[this.curId];c--;c<0&&(c=b-1);this.curImageDiv.src=zIArrM[this.curId][c];zIArrMOffset[this.curId]=c;return false}}l.onload=function(){var b=zGetAbsPosition(this.parentNode);0===b.width&&(b=zGetAbsPosition(this.parentNode.parentNode));this.style.marginLeft=
Math.max(0,Math.floor((b.width-this.width)/2))+"px";this.style.marginTop=Math.max(0,Math.floor((b.height-this.height)/2))+"px"}}else if(p=!0!==d?(c.clientX-h.x)/h.width:0,!("undefined"===typeof zIArrM||null===zIArrM||"undefined"===typeof zIArrM[b]||null===zIArrM[b]))if(o=Math.min(Math.max(0,Math.floor(zIArrM[b].length*p)),zIArrM[b].length-1),zIArrM5[b]===o||0===zIArrM[b].length)"boolean"!==typeof c&&zImageShowEnlarger(b,l,h,zIArrM[b][o]);else if(zIArrM5[b]=o,0!==zIArrM[b].length&&o<zIArrM[b].length){if(!1===
zIArrM3[b])for(d=0;d<zIArrM[b].length;d++)if("boolean"!==typeof c||0===d)zIArrMSize[zIArrM[b][d]]=[0,0];1!==zIArrM2[b][o]?(l.o222=l,l.o333=b,l.onload=function(){}):l.onload=null;l.style.display="block";zIArrM[b][o]!==m&&"boolean"!==typeof c&&zImageShowEnlarger(b,l,h,zIArrM[b][o])}}}}function zImageForceCloseEnlarger(){var b=document.getElementById("zListingImageEnlargeDiv");null!==b&&(b.style.display="none")}zArrLoadFunctions.push({functionName:zImageForceCloseEnlarger});
function zImageShowEnlarger(b,c,d,h){if(null!==document.getElementById(b)){zSetScrollPosition();var c=getWindowSize(),l=document.getElementById("zListingImageEnlargeDiv");if(null!==l){if("none"===l.style.display||zCurEnlargeImageId!==b){zCurEnlargeImageId=b;var m=b=0,b=d.x+d.width/2>c.width/2||580>c.width?Math.max(20,d.x-580):Math.min(d.x+d.width+20,c.width-580-zPositionObjSubtractPos[0]),m=d.y+d.height/2>c.height/2||470>c.height?Math.max(d.y-470,zScrollPosition.top+20):Math.min(d.y+d.height+20,zScrollPosition.top+
(c.height-470));l.style.left=b+"px";l.style.top=m+"px"}d92=document.getElementById("zListingImageEnlargeImage");d92.onload=function(){document.getElementById("zListingImageEnlargeDiv");if("undefined"!==typeof zIArrMSize[this.src]){zIArrMSize[this.src]=[this.width,this.height];if(zIArrMSize[this.src][0]<=zIImageMaxWidth&&zIArrMSize[this.src][1]<=zIImageMaxHeight-20)0!==zIArrMSize[this.src][0]&&(this.width=zIArrMSize[this.src][0],this.height=zIArrMSize[this.src][1]);else{if(zIArrMSize[this.src][0]>
zIImageMaxWidth)var b=zIImageMaxWidth/zIArrMSize[this.src][0],c=zIImageMaxWidth,b=b*zIArrMSize[this.src][1];else c=0,b=zIImageMaxHeight;b>zIImageMaxHeight-20&&(b=(zIImageMaxHeight-20)/zIArrMSize[this.src][1],c=Math.round(b*zIArrMSize[this.src][0]),b=zIImageMaxHeight-20);0===c?0!==zIImageMaxWidth&&(this.width=zIImageMaxWidth,this.height=zIImageMaxHeight-20):0!==Math.floor(c)&&(this.width=Math.floor(c),this.height=Math.floor(b))}this.style.cssFloat="left";this.style.marginLeft=Math.max(0,Math.floor((zIImageMaxWidth-
this.width)/2))+"px";this.style.marginTop=Math.max(0,Math.floor((zIImageMaxHeight-this.height)/2))+"px"}}}"/z/a/images/s.gif"===d92.src||d92.src!==h?(l.style.display="block",document.getElementById("zListingImageEnlargeImageParent").innerHTML='<img id="zListingImageEnlargeImage" alt="Image" src="'+h+'" onerror="zImageOnError(this);" />'):l.style.display="block"}}function zImageMouseLoadDelayed(b){document.getElementById(b).onload()}
function zImageStoreLoaded(b,c){b.style.display="block";for(i=0;i<zIArrM[c].length;i++)if(zIArrM[c][i]===b.src){zIArrM2[c][i]=1;break}}if(null===arrM)var arrM=[],arrM2=[],arrM3=[];
function zConvertSliderToSquareMeters(b,c,d){if(d){if(d=document.getElementById("search_sqfoot_low_zvalue"),null!==d){var d=document.getElementById("zInputSliderBottomBox_"+d.value),h=document.getElementById(b),l=document.getElementById(c),m="",n="";""!==h.value&&(h=parseInt(h.value),isNaN(h)||(m=Math.round(h/10.7639)));""!==l.value&&(l=parseInt(l.value),isNaN(l)||(n=Math.round(l/10.7639)));d.innerHTML='<div style="width:50%; float:left; text-align:left;">'+m+'m&#178;</div><div style="width:50%; float:left; text-align:right;">'+
n+"m&#178;</div>";d.style.display="block"}}else setTimeout(function(){zConvertSliderToSquareMeters(b,c,!0)},1)}
function zInactiveCheckLoginStatus(b){if(""===zGetCookie("Z_USER_ID")||'""'===zGetCookie("Z_USER_ID")){var c=!1;if("select"===b.type||"select-multiple"===b.type)for(var b=document.getElementById("search_liststatus"),d=0;d<b.options.length;d++)"1"===b.options[d].value?b.options[d].selected=!0:b.options[d].selected&&(c=!0,b.options[d].selected=!1);else if("checkbox"===b.type)for(d=1;30>d;d++)if(b=document.getElementById("search_liststatus_name"+d))"1"===b.value?b.checked=!0:b.checked&&(c=!0,b.checked=
!1);else break;c&&zShowModalStandard("/z/user/preference/register?modalpopforced=1&custommarketingmessage="+escape("Due to MLS Association Rules, you must register a free account to view inactive or sold listing data.  Use the form below to sign-up and view this data.")+"&reloadOnNewAccount=1",640,630)}}
function zInputPutIntoForm(b,c,d,h,l){var m=b.split(", "),n=[];for(i=0;i<m.length;i++)i+1!==m.length&&n.push(m[i]);h=document.getElementById(h);document.getElementById(d).value=b;h.value=c;l&&zFormOnEnter(null,document.getElementById(d),document.getElementById(d))}
function zInputLinkBuildBox(b,c,d){selIndex=0;var h=zFindPosition(b),l=document.getElementById("zTOB");l.style.position="absolute";l.style.left=h[0]-zPositionObjSubtractPos[0]+"px";l.style.top=h[1]+h[3]-zPositionObjSubtractPos[1]+"px";formName=c.id;c="";document.getElementById("zTOB").style.height=60+23*Math.min(10,d.length)+"px";class1='class="zTOB-selected" ';arrNewLink=[];c+='<div class="top">Click a city below or use the keyboard up and down arrow keys and press enter to select the city.</div>';
for(j=0;j<d.length;j++)h=d[j].split("\t"),c=c+'<a id="lid'+j+'" '+class1+' href="javascript:void(0);" onclick="zInputPutIntoForm(\''+h[0]+"','"+h[1]+"','"+b.id+"', '"+formName+"',true); zInputHideDiv('"+formName+"');\" >"+h[0]+"</a>",class1='class="zTOB-link" ',arrNewLink.push(j);document.getElementById("zTOB").style.display="block";document.getElementById("zTOB").innerHTML=c;document.getElementById("zTOB").scrollTop="0px"}
function zMlsCheckCityLookup(b,c,d,h){null!==b&&(b=window.event?b.keyCode:b.which,2<c.value.length?13!==b&&(40!==b&&38!==b)&&zMlsCallCityLookup(c,d,h):zInputHideDiv())}var zArrCityLookup=[],arrNewLink=[],zCurrentCityLookupLabel="";function zMlsCallCityLookup(b){var c="";arrNewLink=[];c=b.value;c=zFixText(c);if(3<=c.length){arrNewLink=[];zGetCityLookupObj();var b=c.substr(0,1),d=c.substr(1,1),c=c.substr(2,1);try{eval("var m2=m."+b+"."+d+"."+c+";")}catch(h){zInputHideDiv();return}zInputHideDiv()}}
var zExpArrMenuBox=[],zExpMenuBoxChecked=[],zExpMenuBoxData=[];
function zExpMenuToggleCheckBox(b,c,d,h,l){var m=document.getElementById("zExpMenuOption"+b+"_"+c),n=document.getElementById("zExpMenuOptionLink"+b+"_"+c),r=0,q=!0;1===h&&(q=!1);n2=zExpArrMenuBox[zExpMenuLastIgnoreClick];for(r=0;r<zExpArrMenuBox.length;r++)if(f=zExpArrMenuBox[r],f!==n2){document.getElementById(f+"_expmenu1");var h=document.getElementById(f+"_expmenu2"),s=document.getElementById(f+"_expmenu4");null!==s&&(h.style.display="none",s.innerHTML="More Options &gt;&gt;",s.className="zExpMenuOption")}if("radio"===
d){for(r=0;r<zExpMenuBoxChecked[b].length;r++)m=document.getElementById("zExpMenuOption"+b+"_"+zExpMenuBoxChecked[b][r]),n=document.getElementById("zExpMenuOptionLink"+b+"_"+zExpMenuBoxChecked[b][r]),m.checked=!1,n.className="zExpMenuOption";m=document.getElementById("zExpMenuOption"+b+"_"+c);n=document.getElementById("zExpMenuOptionLink"+b+"_"+c);r=document.getElementById("zExpMenuOption"+b+"_"+c+"_2");l=document.getElementById("zExpMenuOptionLink"+b+"_"+c+"_2");m.checked=!0;n.className="zExpMenuOptionOver";
zExpMenuBoxChecked[b]=[];zExpMenuBoxChecked[b][0]=c;null!==r&&(r.checked=!0,l.className="zExpMenuOptionOver",zExpMenuBoxChecked[b][1]=c+"_2")}else{d=!1;1===l?(r=document.getElementById("zExpMenuOption"+b+"_"+c+"_2"),l=document.getElementById("zExpMenuOptionLink"+b+"_"+c+"_2"),r.checked===q?(m.checked=!1,n.className="zExpMenuOption",r.checked=!1,l.className="zExpMenuOption"):(d=!0,m.checked=!0,n.className="zExpMenuOptionOver",r.checked=!0,l.className="zExpMenuOptionOver")):(r=document.getElementById("zExpMenuOption"+
b+"_"+c+"_2"),l=document.getElementById("zExpMenuOptionLink"+b+"_"+c+"_2"),m.checked===q?(m.checked=!1,n.className="zExpMenuOption",null!==r&&(r.checked=!1,l.className="zExpMenuOption")):(d=!0,m.checked=!0,n.className="zExpMenuOptionOver",null!==r&&(r.checked=!0,l.className="zExpMenuOptionOver")));n=[];for(r=0;r<zExpMenuBoxChecked[b].length;r++)(d||!d&&r!==c)&&n.push(zExpMenuBoxChecked[b][r]);zExpMenuBoxChecked[b]=n}if(null!==m.onchange)m.onchange()}
function zExpMenuToggleMenu(b){if(null!==b){var c=document.getElementById(b+"_expmenu1"),d=document.getElementById(b+"_expmenu2"),h=document.getElementById(b+"_expmenu4");if(null===c)return;"block"===d.style.display?(d.style.display="none",h.innerHTML="More Options &gt;&gt;",h.className="zExpMenuOption"):(h.innerHTML="&lt;&lt; Hide Options",h.className="zExpMenuOptionOver",d.style.display="block",c=zFindPosition(c),setPos(d,c[0]+c[2],c[1]))}for(d=0;d<zExpArrMenuBox.length;d++)if(f=zExpArrMenuBox[d],
f!==b){document.getElementById(f+"_expmenu1");c=document.getElementById(f+"_expmenu2");h=document.getElementById(f+"_expmenu4");if(null===h)break;c.style.display="none";h.innerHTML="More Options &gt;&gt;";h.className="zExpMenuOption"}}var zExpMenuIgnoreClick=-1,zExpMenuLastIgnoreClick=-1;function zExpMenuOnClick(){-1!==zExpMenuIgnoreClick?(zExpMenuLastIgnoreClick=zExpMenuIgnoreClick,zExpMenuIgnoreClick=-1):zExpMenuToggleMenu();return!0}
var zExpMenuOnClickBackup="function"===typeof document.onclick?document.onclick:function(){};$(document).bind("click",function(){zExpMenuOnClickBackup();zExpMenuOnClick()});function zExpShowUpdateBar(b,c){var d=document.getElementById("zExpUpdateBar"+b);d&&(d.style.display=c)}
function getMLSTemplate(b,c){var d=[];d.push('<table><tr><td valign="top" width="110" style="font-size:10px; font-style:italic;"><div class="listing-l-img"><a href="#URL#"><img src="#PHOTO1#" alt="#TITLE#" width="100" height="78" class="listing-d-img"></a></div>ID##MLS_ID#-#LISTING_ID#</td><td valign="top"><h2><a href="#URL#" style="text-decoration:none; ">#TITLE#</a></h2><span>#DESCRIPTION#</span><span class="listing-l-links" style="padding-bottom:0px; "><a href="#URL#">Read More</a><a href="/z/listing/inquiry/index?action=form&mls_id=#MLS_ID#&listing_id=#LISTING_ID#" rel="nofollow">Send An Inquiry</a><a href="/z/listing/sl/index?saveAct=check&mls_id=#MLS_ID#&listing_id=#LISTING_ID#" rel="nofollow">Save Listing</a>');""!==
b.VIRTUAL_TOUR[c]&&d.push('<a href="#VIRTUAL_TOUR#" target="_blank" rel="nofollow">View Virtual Tour</a>');d.push('</span></td></tr><tr><td colspan="2" style="border-bottom:1px solid #999999;">&nbsp;</td></table><br />');return d.join("")}var zDebugMLSAjax=!1;
function loadMLSResults(b){if(zDebugMLSAjax)document.write(b);else{eval("var myObj="+b+";");b=myObj;arrD=[];setMLSCount(b.COUNT);b.DATA.TITLE=[];for(i=0;i<b.COUNT;i++){b.DATA.TITLE[i]="Test title";var c=getMLSTemplate(b.DATA,i);for(g in b.DATA)c=zStringReplaceAll(c,"#"+g+"#",b.DATA[g][i]);arrD.push(c)}b=document.getElementById("mlsResults");b.innerHTML="";b.innerHTML+=arrD.join("<hr />")}}function displayMLSCount2(b,c){displayMLSCount(b,c,!0)}
function displayMLSCount(b,c,d){zDebugMLSAjax?document.write(b):(eval("var myObj="+b+";"),myObj.success?("undefined"===typeof myObj.disableSetCount&&("undefined"!==typeof d&&d?setMLSCount2(myObj.COUNT):setMLSCount(myObj.COUNT)),null!==zUpdateMapMarkersV3&&zUpdateMapMarkersV3(myObj)):alert(myObj.errorMessage))}var zSearchFormChanged=!1,firstSetMLSCount=!0,zDisableSearchCountBox=!1;
function setMLSCount2(b){if(!zDisableSearchCountBox){var c=document.getElementById("resultCountAbsolute"),d=document.getElementById("searchFormTopDiv");"undefined"===typeof d||(null===d||null===c)||(c.style.display="block",b+=" Listings",null!==c&&(c.innerHTML=b),firstSetMLSCount&&(firstSetMLSCount=!1),updateCountPosition())}}
function setMLSCount(b){if(!zDisableSearchCountBox){var c='<span style="font-size:21px;line-height:26px;">'+b+'</span><br /><span style="font-size:12px;">listings match your <br />search criteria<br />&nbsp;</span></span>',d=document.getElementById("resultCountAbsolute"),c=document.getElementById("searchFormTopDiv");"undefined"===typeof c||null===c||(c.style.height="110px",d.style.display="block",c='<span style="font-size:21px;line-height:26px;">'+b+'</span><br /><span style="font-size:12px;">matching listings<br /><button onclick="document.zMLSSearchForm.submit();" style="font-size:13px; font-weight:normal; background-image:url(/z/a/listing/images/mlsbg1.jpg); background-repeat:repeat-x; background-color:none; border:1px solid #999; margin-top:7px; width:130px; padding:3px; text-decoration:none; cursor:pointer;" name="sfbut1">Show Results</button></span></span>',
null!==d&&(d.innerHTML=c),firstSetMLSCount&&(firstSetMLSCount=!1),updateCountPosition())}}
function zSetJsNewDivHeight(){var b=zWindowSize.height-0,c=document.getElementById("zSearchJsNewDiv");if(null!==c){if(zListingInfiniteScrollDiv=document.getElementById("zListingInfinitePlaceHolder")){var d=zGetAbsPosition(zListingInfiniteScrollDiv);parseInt(zListingInfiniteScrollDiv.style.height);zListingInfiniteScrollDiv.style.height=b+"px"}else d=zGetAbsPosition(zListingSearchJSDivPHLoaded),parseInt(zListingSearchJSDivPHLoaded.style.height),zListingSearchJSDivPHLoaded.style.height=b+"px";c.style.left=
d.x+"px";c.style.top=d.y+"px";c.style.width=d.width+"px";c.style.height=b+"px";c=document.getElementById("zSearchJsNewDivIframe");c.style.height=b+"px"}}function zForceSearchJsScrollTop(){var b=document.getElementById("zSearchJsNewDiv");if(null!==b){var c=zGetAbsPosition(b);zIsTouchscreen();zScrollTop(!1,c.y)}b||(b=parent.document.getElementById("zSearchJsNewDiv"),null!==b&&(c=parent.zGetAbsPosition(b),zIsTouchscreen(),parent.zScrollTop(!1,c.y)))}
var zListingSearchJSDivFirstTime=!0,zListingSearchJSDivLoaded=null,zListingSearchJSToolDivLoaded=null,zListingSearchJSActivated=!1,zListingSearchJSToolDivDisabled=!1,zlsInstantPlaceholderDiv=!1,zListingSearchJSDivPHLoaded=null;function zListingSearchJsToolHide(){zListingSearchJSToolDivDisabled=!0;zListingSearchJSToolDivLoaded&&(zListingSearchJSToolDivLoaded.style.display="none",zlsInstantPlaceholder.style.display="none")}
function zListingSearchJsToolPos(){if(!("boolean"===typeof zlsInstantPlaceholder||zListingSearchJSToolDivDisabled||!zListingSearchJSToolDivLoaded)){var b=window.location.href,c=b.indexOf("#");-1!==c&&(b=b.substr(c+1));if(-1!==b.indexOf("/z/listing/search-form/index")||-1!==b.indexOf("/z/listing/instant-search/index"))zListingSearchJSToolDivLoaded.style.display="none",zlsInstantPlaceholder.style.display="none";else{zListingSearchJSToolDivLoaded.style.display="block";zlsInstantPlaceholder.style.display=
"block";var b=$("#zContentTransitionContentDiv").width(),c=$("#zContentTransitionContentDiv").position(),d=$(zlsInstantPlaceholder).position();zListingSearchJSToolDivLoaded.style.top=Math.max(d.top,$(window).scrollTop())+"px";zListingSearchJSToolDivLoaded.style.left=c.left+"px";zListingSearchJSToolDivLoaded.style.width=b+"px"}}}
function zListingShowSearchJsToolDiv(){var b=document.getElementById("zListingSearchBarEnabledDiv");if(zListingSearchJSActivated||b&&!(zListingSearchJSToolDivDisabled||window.parent.location.href!==window.location.href&&"undefined"!==typeof window.parent&&"undefined"!==typeof window.parent.zCloseModal))if(zListingSearchJSToolDivLoaded)zListingSearchJSActivated&&(zlsInstantPlaceholderDiv.style.display="block"),zListingSearchJSToolDivLoaded.style.display="block";else{b=$("#zContentTransitionContentDiv").width();
$("#zContentTransitionContentDiv").position();var c="window.location.href='/z/listing/search-form/index?showLastSearch=1'; return false;";zListingSearchJSActivated&&(c="zListingHideSearchJsToolDiv(); zContentTransition.gotoURL('/z/listing/instant-search/index'); return false;");$("#zContentTransitionContentDiv").before('<div id="zlsInstantPlaceholder"></div><div id="zSearchJsToolNewDiv" class="zls-instantsearchtoolbar" style=" width:'+b+'px;z-index:1000; "><a href="/z/listing/instant-search/index" onclick="'+
c+'" class="zNoContentTransition">&laquo; Back To Search Results</a></div>');zListingSearchJSToolDivLoaded=document.getElementById("zSearchJsToolNewDiv");zlsInstantPlaceholderDiv=document.getElementById("zlsInstantPlaceholder");zListingSearchJsToolPos();zArrResizeFunctions.push({functionName:zListingSearchJsToolPos});zArrScrollFunctions.push({functionName:zListingSearchJsToolPos});zArrLoadFunctions.push({functionName:zListingSearchJsToolPos})}}var zListingLastSearchJsURL="/z/listing/search-js/index";
function zListingShowSearchJsDiv(){var b=(zListingInfiniteScrollDiv=document.getElementById("zListingInfinitePlaceHolder"))?zGetAbsPosition(zListingInfiniteScrollDiv):zGetAbsPosition(document.getElementById("zContentTransitionContentDiv")),c=zGetCookie("zls-lsurl"),d=window.location.href,b=d.indexOf("#");-1!==b&&(d=d.substr(b+1));""!==c&&-1!==d.indexOf("/z/listing/instant-search/index")||((d=document.getElementById("zListingSearchJsURLHidden"))?(zListingLastSearchJsURL=c=d.value,zSetCookie({key:"zls-lsurl",
value:zListingLastSearchJsURL,futureSeconds:3600,enableSubdomains:!1})):c=zListingLastSearchJsURL);if(zListingSearchJSDivLoaded){if((b=document.getElementById("zSearchJsNewDivIframe"))&&b.src.substr(b.src.length-c.length)!==c)b.src=c}else d=$(window).height()-0,$("#zContentTransitionContentDiv").before('<div id="zSearchJsNewDivPlaceholder" style="width:100%; float:left; height:'+Math.max(100,d)+'px;"></div><div id="zSearchJsNewDiv" style="overflow:auto;position:absolute; left:'+b.x+"px; top:"+b.y+
"px; height:"+Math.max(100,d)+"px; width:"+b.width+'px;"><iframe id="zSearchJsNewDivIframe" frameborder="0" scrolling="auto" src="'+c+'" width="100%" height="'+d+'" /></div>'),zListingSearchJSDivLoaded=document.getElementById("zSearchJsNewDiv"),zListingSearchJSDivPHLoaded=document.getElementById("zSearchJsNewDivPlaceholder"),zArrResizeFunctions.push({functionName:zSetJsNewDivHeight}),zArrScrollFunctions.push({functionName:zSetJsNewDivHeight}),zSetJsNewDivHeight();$(zListingSearchJSDivLoaded).hide().fadeIn(200,
function(){});zListingInfiniteScrollDiv?zListingSearchJSDivPHLoaded&&(zListingSearchJSDivPHLoaded.style.display="none"):zListingSearchJSDivPHLoaded&&(zListingSearchJSDivPHLoaded.style.display="block")}function zListingHideSearchJsToolDiv(){zListingSearchJSToolDivLoaded&&(zListingSearchJSToolDivLoaded.style.display="none",zlsInstantPlaceholderDiv.style.display="none")}
function zListingHideSearchJsDiv(){zListingSearchJSDivPHLoaded&&(zListingSearchJSDivPHLoaded.style.display="none");zListingSearchJSDivLoaded&&(zListingSearchJSDivLoaded.style.display="none")}var zListingInfiniteScrollDiv=!1;
function zListingLoadSearchJsDiv(){var b=window.location.href,c=b.indexOf("#");-1!==c&&(b=b.substr(c+1));zListingInfiniteScrollDiv=document.getElementById("zListingInfinitePlaceHolder");-1===b.indexOf("/z/listing/search-js/index")&&((c=document.getElementById("zListingEnableInstantSearch"))&&"1"===c.value&&(-1!==b.indexOf("/z/listing/instant-search/index")||zListingInfiniteScrollDiv)?zListingSearchJSDivFirstTime&&(zListingSearchJSDivFirstTime=!1,zListingSearchJSActivated=!0,zListingShowSearchJsDiv(),
zContentTransition.bind(function(b){-1!==b.indexOf("/z/listing/instant-search/index")?(zContentTransition.disableNextAnimation=!0,zListingShowSearchJsDiv(),zListingHideSearchJsToolDiv(),setTimeout(function(){zForceSearchJsScrollTop();window.parent.document.getElementById("zSearchJsNewDivPlaceholder")?window.parent.zScrollTop("html, body",$(window.parent.document.getElementById("zSearchJsNewDivPlaceholder")).position().top):document.getElementById("zSearchJsNewDivPlaceholder")&&window.zScrollTop("html, body",
$(document.getElementById("zSearchJsNewDivPlaceholder")).position().top)},50)):(zListingHideSearchJsDiv(),zListingShowSearchJsToolDiv(),setTimeout(zListingSearchJsToolPos,50));zContentTransition.manuallyProcessTransition()})):zListingShowSearchJsToolDiv())}zArrLoadFunctions.push({functionName:zListingLoadSearchJsDiv});function getMLSCount2(b){getMLSCount(b,!0)}
function getMLSCount(b,c){zSearchFormChanged=!0;document.getElementById("search_map_lat_blocks");var d=zFormData[b].action,h=zFormData[b].onLoadCallback,l=zFormData[b].ajax;zFormData[b].ajax=!0;zFormData[b].ignoreOldRequests=!0;zFormData[b].onLoadCallback="undefined"!==typeof c&&c?displayMLSCount2:displayMLSCount;zFormData[b].successMessage=!1;zFormData[b].action="/z/listing/search-form/index?action=ajaxCount";1===zDisableSearchFilter&&(zFormData[b].action+="&zDisableSearchFilter=1");zFormSubmit(b,
!1,!0);zFormData[b].ajax=l;zFormData[b].action=d;zFormData[b].onLoadCallback=h;return"1"}var zMLSMessageBgColor="0x990000",zMLSMessageTextColor="0xFFFFFF",zMLSMessageOutputId=0;
function zMLSShowFlashMessage(){for(var b=zGetElementsByClassName("zFlashDiagonalStatusMessage"),c=0;c<b.length;c++){var d=b[c].innerHTML;zMLSMessageOutputId++;d=zStringReplaceAll(d,"\r","");""!==d&&-1===d.indexOf("<object ")&&(b[c].innerHTML='<object zswf="off" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="221" height="161" id="zMLSMessage'+zMLSMessageOutputId+'"><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="false" /><param name="movie" value="/z/a/listing/images/message.swf?messageText='+
escape(d)+"&bgColor="+zMLSMessageBgColor+"&textColor="+zMLSMessageTextColor+'" /><param name="quality" value="high" /><param name="scale" value="noscale" /><param name="wmode" value="transparent" /><param name="salign" value="TL" /><param name="bgcolor" value="#ffffff" />\t<embed src="/z/a/listing/images/message.swf?messageText='+escape(d)+"&bgColor="+zMLSMessageBgColor+"&textColor="+zMLSMessageTextColor+'" quality="high" scale="noscale" wmode="transparent" bgcolor="#ffffff" width="221" height="161" name="zMLSMessage'+
zMLSMessageOutputId+'" style="pointer-events:none;" salign="TL" allowScriptAccess="sameDomain" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" /></object>');b[c].style.display="block"}}zArrLoadFunctions.push({functionName:zMLSShowFlashMessage});
function zAjaxWalkscore(b){var c={id:"zAjaxWalkScore"};c.url="/z/misc/walkscore/index?latitude="+b.latitude+"&longitude="+b.longitude;c.cache=!1;c.callback=zAjaxWalkscoreCallback;c.ignoreOldRequests=!1;zAjax(c)}var zWalkscoreIndex=0;
function zAjaxWalkscoreCallback(b){var c=document.getElementById("walkscore-div");if((b=eval("("+b+")"))&&41===b.status)c.innerHTML="Walkscore not available";else{if(b&&1===b.status)var d="Walk Score&#8482;: "+b.walkscore+" Description: "+b.description;else b&&2===b.status?d="":c=!1;zWalkscoreIndex++;c&&(d+=getWalkScoreInfoHtml(zWalkscoreIndex),c.innerHTML=d)}}
function toggleWalkScoreInfo(b){(b=document.getElementById("walkscore-api-info"+b))&&"block"===b.style.display?b.style.display="none":b&&(b.style.display="block")}
function getWalkScoreInfoHtml(b){return'<span id="walkscore-api-info'+b+'" class="walkscore-api-info" style="font-size:12px; padding-top:10px; display:block; float:left; clear:both;">Walk Score measures how walkable an address is based on the distance to nearby amenities. A score of 100 represents the most walkable area compared to other areas.<hr /></span></span>'}
function zModalSaveSearch(b){zShowModal('<iframe src="/z/listing/property/save-search/index?searchId='+b+'" width="100%" height="95%"  style="margin:0px;overflow:auto; border:none;" seamless="seamless"></iframe>',{width:520,height:410,disableResize:!0})}function zShowInquiryPop(){zShowModal('<iframe src="/z/listing/inquiry-pop/index" width="100%" height="95%" style="margin:0px;overflow:auto; border:none;" seamless="seamless"></iframe>',{width:520,height:438,disableResize:!0})}
var zScrollApp={forceSmallHeight:5E4,newCount:0,maxItems:1E3,firstNewBox:0,boxCount2:0,colCount:-1,itemMarginRight:30,itemMarginBottom:30,itemWidth:160,itemHeight:170,arrVisibleBoxes:[],bottomRowLoaded:0,scrollAreaDiv:!1,scrollAreaPos:!1,scrollAreaMapDiv:!1,appDisabled:!1,bottomRowLoadedBackup:0,resizeTimeoutId:!1,scrollTimeoutId:!1,lastScrollPosition:-1,totalListingCount:0,googleMapClass:!1,loadedMapMarkers:[],scrollAreaWidth:0,veryFirstSearchLoad:!0,curListingCount:0,curListingLoadedCount:0,bottomRowLimit:5,
arrListingId:[],templateCache:{},offset:0,firstAjaxRequest:!0,disableNextScrollEvent:!1,lastScreenWidth:0,drawVisibleRows:function(b,c){var d=[],h=!0,l=b*zScrollApp.colCount;tempEndRow=Math.min(zScrollApp.bottomRowLimit,c);for(var m=b;m<tempEndRow;m++){for(var n=m*zScrollApp.itemHeight+m*zScrollApp.itemMarginBottom+50,r=0;r<zScrollApp.colCount;r++){var q=r*zScrollApp.itemWidth+r*zScrollApp.itemMarginRight+10;tempCSS="";zScrollApp.boxCount2++;null===document.getElementById("row"+l)&&(h&&(h=!1,zScrollApp.firstNewBox=
l),zScrollApp.arrVisibleBoxes["row"+l]={},zScrollApp.arrVisibleBoxes["row"+l].offset=l,zScrollApp.arrVisibleBoxes["row"+l].visible=!0,zScrollApp.newCount++,d.push('<div id="row'+l+'" style="position:absolute; background-color:#FFF; left:'+q+"px; top:"+n+"px; width:"+zScrollApp.itemWidth+"px; height:"+zScrollApp.itemHeight+"px;  "+tempCSS+' "></div>'));l++}zScrollApp.bottomRowLoaded=m}zScrollApp.scrollAreaDiv.append(d.join(""))},hideRows:function(b,c){var d=0,h;for(h in zScrollApp.arrVisibleBoxes){var l=
zScrollApp.arrVisibleBoxes[h].offset,m=Math.floor(l/zScrollApp.colCount),n=zScrollApp.arrVisibleBoxes[h].visible;if(m<b||m>=c){if(n){zScrollApp.arrVisibleBoxes[h].visible=!1;for(m=0;m<zScrollApp.colCount;m++)$("#row"+l).html("")}}else if(!n){zScrollApp.arrVisibleBoxes[h].visible=!0;d++;for(m=0;m<zScrollApp.colCount;m++)"row"+l in zScrollApp.templateCache&&$("#row"+l).html(zScrollApp.templateCache["row"+l])}}},delayedResizeFunction:function(){!(zlsHoverBox.panel&&"block"===zlsHoverBox.panel.style.display)&&
!(zlsHoverBoxNew.panel&&"block"===zlsHoverBoxNew.panel.style.display)&&(!1!==zScrollApp.resizeTimeoutId&&clearTimeout(zScrollApp.resizeTimeoutId),zScrollApp.resizeTimeoutId=setTimeout("zScrollApp.resizeFunction();",50))},resizeFunction:function(){var b=$(window).width();zScrollApp.lastScreenWidth!==b&&zListingResetSearch()},lastScrollTop:0,delayedScrollFunction:function(){var b=$(window).scrollTop();zScrollApp.lastScrollTop=b;!(zlsHoverBox.panel&&"block"===zlsHoverBox.panel.style.display)&&!(zlsHoverBoxNew.panel&&
"block"===zlsHoverBoxNew.panel.style.display)&&(!1!==zScrollApp.scrollTimeoutId&&clearTimeout(zScrollApp.scrollTimeoutId),zScrollApp.scrollTimeoutId=setTimeout("zScrollApp.scrollFunction();",100))},scrollFunction:function(){if(!zScrollApp.disableFirstAjaxLoad)if(zScrollApp.disableNextScrollEvent)zScrollApp.disableNextScrollEvent=!1;else if(!zScrollApp.appDisabled){var b=$(window).scrollTop();zScrollApp.lastScrollPosition-b>$(window).height()&&("undefined"!==window.stop?window.stop():"undefined"!==
document.execCommand&&document.execCommand("Stop",!1));-1!==zScrollApp.lastScrollPosition&&5<=zScrollApp.lastScrollPosition&&Math.abs(zScrollApp.lastScrollPosition-b);clearTimeout(zScrollApp.scrollTimeoutId);clearTimeout(zScrollApp.resizeTimeoutId);zScrollApp.scrollTimeoutId=!1;zScrollApp.resizeTimeoutId=!1;zScrollApp.setBoxSizes();backupColCount=zScrollApp.colCount;zScrollApp.colCount=Math.floor(zScrollApp.scrollAreaWidth/(zScrollApp.itemWidth+zScrollApp.itemMarginRight));var c=Math.floor(Math.floor(b/
(zScrollApp.itemHeight+zScrollApp.itemMarginBottom))*backupColCount/zScrollApp.colCount*(zScrollApp.itemHeight+zScrollApp.itemMarginBottom));if(backupColCount!==zScrollApp.colCount&&(zScrollApp.bottomRowLimit=Math.max(5,Math.round(zScrollApp.totalListingCount/zScrollApp.colCount)),zScrollApp.scrollAreaDiv.css("width",zScrollApp.colCount*(zScrollApp.itemWidth+zScrollApp.itemMarginRight)+"px"),zScrollApp.scrollAreaDiv.css("height",Math.round(zScrollApp.totalListingCount/zScrollApp.colCount)*(zScrollApp.itemHeight+
zScrollApp.itemMarginBottom)+"px"),b!==c)){window.scrollTo(0,c);zScrollApp.lastScrollPosition=-1;zScrollApp.scrollTimeoutId=setTimeout("zScrollApp.scrollFunction();",100);backupColCount=zScrollApp.colCount;return}-1!==zScrollApp.lastScrollPosition&&-1!==backupColCount&&backupColCount!==zScrollApp.colCount?(!1!==zScrollApp.scrollTimeoutId&&clearTimeout(zScrollApp.scrollTimeoutId),zScrollApp.scrollTimeoutId=setTimeout("zScrollApp.scrollFunction();",100)):(tempForceRowRedraw=!1,zScrollApp.lastScrollPosition=
b,c=b+($(window).height()-40),zScrollApp.topRow=Math.floor((b-100-zScrollApp.scrollAreaPos.top+100)/(zScrollApp.itemHeight+zScrollApp.itemMarginBottom))-1,zScrollApp.bottomRow=Math.floor((c+100+100+0-zScrollApp.scrollAreaPos.top)/(zScrollApp.itemHeight+zScrollApp.itemMarginBottom))+1,zScrollApp.newCount=0,zScrollApp.bottomRowLoadedBackup=zScrollApp.bottomRowLoaded,Math.min(0,zScrollApp.boxCount2),zScrollApp.drawVisibleRows(Math.max(0,zScrollApp.topRow),Math.max(1,zScrollApp.bottomRow)),0!==zScrollApp.newCount&&
(zScrollApp.offset=zScrollApp.firstNewBox,zScrollApp.doAjax(zScrollApp.newCount)),zScrollApp.hideRows(zScrollApp.topRow,zScrollApp.bottomRow))}},disableFirstAjaxLoad:!1,loadSearchMap:function(){},addListingMarker:function(b,c){if(!("0"===b.latitude[c]||"0"===b.longitude[c]||""===b.latitude[c]||""===b.longitude[c])){var d=new google.maps.LatLng(b.latitude[c],b.longitude[c]),h=new google.maps.Marker({position:d,map:zScrollApp.googleMapClass,title:b.listing_id[c]}),l=new google.maps.Marker({position:d,
map:zScrollApp.googleMapClass2,title:b.listing_id[c]});zScrollApp.loadedMapMarkers[b.listing_id[c]]=[h,l];zScrollApp.googleMapClass.setCenter(d);zScrollApp.googleMapClass2.setCenter(d)}},removeListingMarker:function(b){if(!("undefined"===typeof google||"undefined"===typeof google.maps||"undefined"===typeof google.maps.LatLng)&&"undefined"!==typeof zScrollApp.loadedMapMarkers[b])zScrollApp.loadedMapMarkers[b][0].setMap(null),zScrollApp.loadedMapMarkers[b][1].setMap(null),delete zScrollApp.loadedMapMarkers[b]},
setBoxSizes:function(){var b=$(window).width(),c=Math.max(300,Math.round(0.25*b)),d=b-c;200>d?(d=b,zScrollApp.scrollAreaMapDiv2&&"block"===zScrollApp.scrollAreaMapDiv2.style.display&&(zScrollApp.scrollAreaMapDiv2.style.display="none",zScrollApp.scrollAreaMapDiv4.style.display="none")):"none"===zScrollApp.scrollAreaMapDiv2.style.display&&(zScrollApp.scrollAreaMapDiv2.style.display="block",zScrollApp.scrollAreaMapDiv4.style.display="block");zScrollApp.scrollAreaWidth!==d&&(zScrollApp.scrollAreaWidth=
d,zScrollApp.scrollAreaMapDiv2&&(zScrollApp.scrollAreaDiv2.style.width=d+"px",zScrollApp.scrollAreaMapDiv2.style.backgroundColor="#900",zScrollApp.scrollAreaMapDiv2.style.width=c+"px",zScrollApp.scrollAreaMapDiv2.style.height=Math.round(($(window).height()-40)/2)+"px",zScrollApp.scrollAreaMapDiv2.style.left=d+"px",zScrollApp.scrollAreaMapDiv3.style.height=Math.round(($(window).height()-40)/2)+"px",zScrollApp.scrollAreaMapDiv4.style.backgroundColor="#009",zScrollApp.scrollAreaMapDiv4.style.left=d+
"px",zScrollApp.scrollAreaMapDiv4.style.width=c+"px",zScrollApp.scrollAreaMapDiv4.style.top=Math.round(($(window).height()-40)/2+40)+"px",zScrollApp.scrollAreaMapDiv4.style.height=Math.round(($(window).height()-40)/2)+"px",zScrollApp.scrollAreaMapDiv5.style.height=Math.round(($(window).height()-40)/2)+"px"))},startYTouch:0,startXTouch:0,startTouchCount:0,listingSearchLoad:function(){var b=window.location.href,c=b.indexOf("#");-1!==c&&(b=b.substr(c+1));-1!==b.indexOf("/z/listing/instant-search/index")&&
zForceSearchJsScrollTop();zScrollApp.lastScreenWidth=$(window).width();zScrollApp.itemWidth=Math.round((zScrollApp.lastScreenWidth-110)/3);zScrollApp.itemNegativeHeight=90;zScrollApp.itemHeight=Math.round(0.68*zScrollApp.itemWidth+zScrollApp.itemNegativeHeight);zIsTouchscreen()&&setTimeout(function(){var b=document.body;b.addEventListener("touchstart",function(b){zScrollApp.startYTouch=b.targetTouches[0].pageY;zScrollApp.startXTouch=b.targetTouches[0].pageX;zScrollApp.startTouchCount=b.targetTouches.length});
b.addEventListener("touchmove",function(b){if(1!==zScrollApp.startTouchCount||1!==b.targetTouches.length)return!0;b.preventDefault();b=b.targetTouches[0].pageY;parent.document.getElementById("zSearchJsNewDiv");var c=parent.document.getElementById("zSearchJsNewDivIframe"),d=$(c).contents().scrollTop();$(c).contents().scrollTop(d-(b-zScrollApp.startYTouch))})},500);setTimeout(function(){var b=$(window).scrollTop();b!==zScrollApp.lastScrollTop&&(zScrollApp.lastScrollTop=b,zScrollApp.delayedScrollFunction())},
100);$(window).bind("scroll",zScrollApp.delayedScrollFunction);$(window).bind("resize",zScrollApp.delayedResizeFunction);zScrollApp.scrollAreaDiv=$("#zScrollArea");zScrollApp.scrollAreaMapDiv=$("#zMapCanvas");zScrollApp.scrollAreaMapDiv2=$("#zMapCanvas3");zScrollApp.scrollAreaDiv2=document.getElementById("zScrollArea");zScrollApp.scrollAreaMapDiv2=document.getElementById("zMapCanvas");zScrollApp.scrollAreaMapDiv3=document.getElementById("zMapCanvas2");zScrollApp.scrollAreaMapDiv4=document.getElementById("zMapCanvas3");
zScrollApp.scrollAreaMapDiv5=document.getElementById("zMapCanvas4");zScrollApp.scrollAreaPos=zScrollApp.scrollAreaDiv.position();zScrollApp.loadSearchMap()}};
function zListingResetSearch(){var b=$(window).width();zScrollApp.lastScreenWidth=b;var b=zScrollApp.scrollFunction,c=zScrollApp.delayedResizeFunction;zScrollApp.templateCache=[];zScrollApp.scrollFunction=function(){};zScrollApp.delayedResizeFunction=function(){};zScrollApp.scrollAreaDiv.html("");zScrollApp.forceSmallHeight=5E4;zScrollApp.newCount=0;zScrollApp.maxItems=1E3;zScrollApp.firstNewBox=0;zScrollApp.boxCount2=0;zScrollApp.itemMarginRight=30;zScrollApp.itemMarginBottom=30;zScrollApp.itemWidth=
Math.round((zScrollApp.lastScreenWidth-110)/3);zScrollApp.itemNegativeHeight=90;zScrollApp.itemHeight=Math.round(0.68*zScrollApp.itemWidth+zScrollApp.itemNegativeHeight);zScrollApp.arrVisibleBoxes=[];zScrollApp.disableNextScrollEvent=!1;zScrollApp.bottomRowLoaded=0;zScrollApp.firstAjaxRequest&&(window.scrollTo(0,1),zScrollApp.lastScrollPosition=-1,zScrollApp.colCount=-1);zScrollApp.scrollFunction=b;zScrollApp.delayedResizeFunction=c;zScrollApp.veryFirstSearchLoad=!0;zScrollApp.scrollFunction()}
zScrollApp.ajaxProcessError=function(){};zScrollApp.showDebugger=function(b){document.getElementById("debugInfo").style.display="block";document.getElementById("debugInfoTextArea").value+=b};
zScrollApp.processAjax=function(b){var b=eval("("+b+")"),c=0;0<b.offset&&(c=b.offset);if(zScrollApp.firstAjaxRequest){setMLSCount2(b.count);zScrollApp.totalListingCount=Math.min(zScrollApp.maxItems,b.count);zScrollApp.bottomRowLimit=Math.round(zScrollApp.totalListingCount/zScrollApp.colCount);zScrollApp.scrollAreaDiv.css("width",zScrollApp.colCount*(zScrollApp.itemWidth+zScrollApp.itemMarginRight)+"px");zScrollApp.scrollAreaDiv.css("height",Math.round(zScrollApp.totalListingCount/zScrollApp.colCount)*
(zScrollApp.itemHeight+zScrollApp.itemMarginBottom)+"px");zScrollApp.curListingCount=b.count;zScrollApp.firstAjaxRequest=!1;for(var d=0;d<zScrollApp.boxCount2;d++)if(d<b.count){if("object"===typeof zScrollApp.arrVisibleBoxes["row"+d]&&(zScrollApp.arrVisibleBoxes["row"+d].visible=!0),document.getElementById("row"+d))document.getElementById("row"+d).style.display="block"}else if("object"===typeof zScrollApp.arrVisibleBoxes["row"+d]&&(zScrollApp.arrVisibleBoxes["row"+d].visible=!1),document.getElementById("row"+
d))document.getElementById("row"+d).style.display="none"}document.getElementById("zlsGrid");for(var h="",l=0,d=0;d<b.url.length;d++)if(""!==b.url[d]){l>=zScrollApp.colCount&&(l=0,c++);var m=b.offset+d;"row"+m in zScrollApp.templateCache?h=zScrollApp.templateCache["row"+m]:(h=zScrollApp.buildTemplate(b,d),zScrollApp.templateCache["row"+m]=h);zScrollApp.arrListingId[m]=b.listing_id[d];$("#row"+m).html(h);if(h=document.getElementById("row"+m))h.listing_id=b.listing_id[d],h.zlsData=b,h.zlsIndex=d,h.boxOffset=
m;$("#row"+m).bind("mouseover",function(){});$("#row"+m).bind("mouseout",function(){});l++}c=window.parent.location.href;d=c.indexOf("#");-1!==d&&(c=c.substr(d+1));-1!==c.indexOf("/z/listing/instant-search/index")?"/z/listing/search-js/index?"+b.qs===zGetCookie("zls-lsurl")?(zScrollApp.veryFirstSearchLoad?(c=zGetCookie("zls-lsos"),""!==c&&$(window).scrollTop(parseInt(c))):c=$(window).scrollTop(),zSetCookie({key:"zls-lsos",value:c,futureSeconds:3600,enableSubdomains:!1})):zSetCookie({key:"zls-lsos",
value:0,futureSeconds:3600,enableSubdomains:!1}):(c=$(window).scrollTop(),zSetCookie({key:"zls-lsos",value:c,futureSeconds:3600,enableSubdomains:!1}));zSetCookie({key:"zls-lsurl",value:"/z/listing/search-js/index?"+b.qs,futureSeconds:3600,enableSubdomains:!1});zScrollApp.veryFirstSearchLoad&&(zScrollApp.veryFirstSearchLoad=!1)};zScrollApp.imageWidth=0;zScrollApp.imageHeight=0;
zScrollApp.doAjax=function(b,c){zSearchFormChanged=!0;document.getElementById("search_map_lat_blocks");if("undefined"!==typeof zFormData.zMLSSearchForm){zFormData.zMLSSearchForm.ajax=!0;zFormData.zMLSSearchForm.ignoreOldRequests=!1;zFormData.zMLSSearchForm.onLoadCallback="undefined"!==typeof c?c:zScrollApp.processAjax;zFormData.zMLSSearchForm.onErrorCallback=zScrollApp.ajaxProcessError;zFormData.zMLSSearchForm.successMessage=!1;var d="/z/listing/search/g?of="+zScrollApp.offset+"&perpage="+b+"&debugSearchForm=1&pw="+
zScrollApp.itemWidth+"&ph="+(zScrollApp.itemHeight-zScrollApp.itemNegativeHeight)+"&pa=1&x_ajax_id="+zScrollApp.offset+"_"+Math.random(),h=d;zScrollApp.firstAjaxRequest&&(d+="&first=1");zFormData.zMLSSearchForm.action=d;zScrollApp.offset+=b;zFormSubmit("zMLSSearchForm",!1,!0);zFormData.zMLSSearchForm.action=h;return!1}};
zScrollApp.buildTemplate=function(b,c){var d=[];d.push('<div class="zls-grid-1" style="width:'+zScrollApp.itemWidth+"px; height:"+zScrollApp.itemHeight+'px;"><div class="zls-grid-2">');""!==b.photo1[c]?d.push('<img src="'+b.photo1[c]+'" onerror="zImageOnError(this);" width="'+zScrollApp.itemWidth+'" height="'+(zScrollApp.itemHeight-zScrollApp.itemNegativeHeight)+'" alt="Image1" />'):d.push("&nbsp;");d.push('</div><div class="zls-grid-3">');d.push('<div class="zls-buttonlink" style="float:right; position:relative; margin-top:-38px;"><a href="#" onclick="parent.zContentTransition.gotoURL(\''+
b.url[c]+"');\">View</a></div>");"0"!==b.price[c]&&d.push("<strong>"+b.price[c]+"</strong><br />");var h=!1;"0"!==b.bedrooms[c]&&""!==b.bedrooms[c]&&(h=!0,d.push(b.bedrooms[c]+" bed"));"0"!==b.bedrooms[c]&&""!==b.bedrooms[c]&&(h&&d.push(", "),h=!0,d.push(b.bathrooms[c]+" bath"));h?d.push("<br />"):""!==b.square_footage[c]&&"0"!==b.square_footage[c]&&d.push(b.square_footage[c]+" sqft<br />");""!==b.type[c]&&d.push(b.type[c]+"<br />");""!==b.city[c]&&d.push(b.city[c]+"<br />");return d.join("")};
var zlsHoverBoxNew={box:!1,boxPosition:!1,panelPosition:!1,button:{},displayType:"grid",changeDisplayType:function(b){zlsHoverBoxNew.button.grid.id===b.target.id?(zlsHoverBoxNew.displayType="grid",zlsHoverBoxNew.button.grid.className=b.target.id+"-selected"):zlsHoverBoxNew.button.list.id===b.target.id?(zlsHoverBoxNew.displayType="list",zlsHoverBoxNew.button.grid.className=""):zlsHoverBoxNew.button.map.id===b.target.id&&(zlsHoverBoxNew.displayType="map",zlsHoverBoxNew.button.grid.className="");zSetCookie({key:"zlsHoverBoxNewDisplayType",
value:zlsHoverBoxNew.displayType,futureSeconds:25200});zScrollApp.disableFirstAjaxLoad||zlsHoverBoxNew.showListings();return!1},loaded:!1,debugInput:!1,load:function(){if(!zlsHoverBoxNew.loaded){zlsHoverBoxNew.loaded=!0;zlsHoverBoxNew.debugInput=document.getElementById("dt21");zlsHoverBoxNew.box=document.getElementById("zls-hover-box");zlsHoverBoxNew.panel=document.getElementById("zls-hover-box-panel");zlsHoverBoxNew.panelInner=document.getElementById("zls-hover-box-panel-inner");zlsHoverBoxNew.button.refine=
document.getElementById("zls-hover-box-refine-button");zlsHoverBoxNew.button.grid=document.getElementById("zls-hover-box-grid-button");zlsHoverBoxNew.button.refine.onclick=zlsHoverBoxNew.togglePanel;var b=zGetCookie("zlsHoverBoxNewDisplayType");""!==b&&(zlsHoverBoxNew.displayType=b);zlsHoverBoxNew.debugInput.value="";zlsHoverBoxNew.changeDisplayType({target:zlsHoverBoxNew.button[zlsHoverBoxNew.displayType]})}},showListings:function(){zScrollApp.firstAjaxRequest=!0;zScrollApp.appDisabled=!1;zlsHoverBoxNew.closePanel();
zlsHoverBoxNew.button.refine.innerHTML="Refine Search";zListingResetSearch()},closePanel:function(){if("block"===zlsHoverBoxNew.panel.style.display){zScrollApp.scrollAreaDiv2.style.display="block";document.getElementById("zMapCanvas").style.display="block";document.getElementById("zMapCanvas3").style.display="block";var b={"margin-top":-zlsHoverBoxNew.panelPosition.height+zlsHoverBoxNew.boxPosition.height};$(zlsHoverBoxNew.panel).animate(b,"fast","easeInExpo",function(){zlsHoverBoxNew.panel.style.display=
"none"})}},togglePanel:function(){"block"===zlsHoverBoxNew.panel.style.display&&!zScrollApp.disableFirstAjaxLoad?zlsHoverBoxNew.showListings():(zIsTouchscreen()&&(zlsHoverBoxNew.box.style.top="0px"),zlsHoverBoxNew.button.refine.innerHTML="Show Listings",zlsHoverBoxNew.panel.style.display="block",zlsHoverBoxNew.resizePanel(),zScrollApp.appDisabled=!0,zScrollApp.scrollAreaDiv2.style.display="none",document.getElementById("zMapCanvas").style.display="none",document.getElementById("zMapCanvas3").style.display=
"none",zIsTouchscreen()||zScrollApp.disableFirstAjaxLoad)?(zlsHoverBoxNew.panel.style.marginTop=zlsHoverBoxNew.boxPosition.height+"px",window.scrollTo(0,1)):(zlsHoverBoxNew.panel.style.marginTop=-zlsHoverBoxNew.panelPosition.height+zlsHoverBoxNew.boxPosition.height+"px",$(zlsHoverBoxNew.panel).animate({"margin-top":zlsHoverBoxNew.boxPosition.height},"fast","easeInExpo"));return!1},lastBoxHeight:0,resizePanel:function(){zlsHoverBoxNew.loaded||zlsHoverBoxNew.load();var b=zWindowSize.width-10,c=Math.min(1100,
b);Math.round((b-c)/2);1100<=c?(zlsHoverBoxNew.box.style.width=c+"px",zlsHoverBoxNew.box.style.marginLeft="-"+Math.floor(c/2)+"px"):(zlsHoverBoxNew.box.style.width="97%",zlsHoverBoxNew.box.style.marginLeft="-49%");zlsHoverBoxNew.box.style.display="block";zlsHoverBoxNew.boxPosition=zGetAbsPosition(zlsHoverBoxNew.box);"block"===zlsHoverBoxNew.panel.style.display&&(b=zWindowSize.width-10,c=Math.min(1100,b),Math.round((b-c)/2),1100<=c?"1100px"!==zlsHoverBoxNew.panel.style.width&&(zlsHoverBoxNew.panel.style.width=
c+"px",zlsHoverBoxNew.panel.style.marginLeft="-"+Math.floor(c/2)+"px"):(zlsHoverBoxNew.panel.style.width="97%",zlsHoverBoxNew.panel.style.marginLeft="-49%"),zlsHoverBoxNew.panelPosition=zGetAbsPosition(zlsHoverBoxNew.panel),zIsTouchscreen()?(zIsAppleIOS()&&(zlsHoverBoxNew.box.style.position="absolute"),zlsHoverBoxNew.panel.style.position="absolute",zlsHoverBoxNew.panel.style.height="auto"):zlsHoverBoxNew.panel.style.height="90%",0!==zlsHoverBoxNew.lastBoxHeight&&zlsHoverBoxNew.lastBoxHeight!==zlsHoverBoxNew.boxPosition.height&&
(zlsHoverBoxNew.panel.style.marginTop=zlsHoverBoxNew.boxPosition.height+"px"),zlsHoverBoxNew.lastBoxHeight=zlsHoverBoxNew.boxPosition.height)}},zSearchFormObj={colCount:-1,delayedResizeFunction2:function(){document.getElementById("formDiv99");$(window).height();var b=Math.min(965,$(window).width())-5;if(!("undefined"===typeof zSearchFormObj.colmain1||null===zSearchFormObj.colmain1)){if(800<b){zSearchFormObj.colmain1.style.width=Math.floor(b/2-55)+"px";zSearchFormObj.colmain2.style.width=Math.floor(b/
2-60)+"px";if(4===zSearchFormObj.colCount)return;zSearchFormObj.colCount=4;zSearchFormObj.col1.style.width="45%";zSearchFormObj.col2.style.width="45%";zSearchFormObj.col3.style.width="45%";zSearchFormObj.col4.style.width="45%";zSearchFormObj.colr1.style.width="45%";zSearchFormObj.colr2.style.width="45%";zSearchFormObj.colr3.style.width="45%";zSearchFormObj.colr4.style.width="45%";zSearchFormObj.col1.style.paddingRight="5%";zSearchFormObj.colr1.style.paddingRight="5%";zSearchFormObj.col2.style.paddingRight=
"5%";zSearchFormObj.colr2.style.paddingRight="5%";zSearchFormObj.col3.style.paddingRight="5%";zSearchFormObj.colr3.style.paddingRight="5%";zSearchFormObj.col4.style.paddingRight="0%";zSearchFormObj.colr4.style.paddingRight="0%";$(zSearchFormObj.col6).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr1).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr2).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col7).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col5).appendTo(zSearchFormObj.colmain2);
$(zSearchFormObj.col3).appendTo(zSearchFormObj.colmain2);$(zSearchFormObj.col4).appendTo(zSearchFormObj.colmain2);$(zSearchFormObj.colr3).appendTo(zSearchFormObj.colmain2);$(zSearchFormObj.colr4).appendTo(zSearchFormObj.colmain2)}else if(800>=b&&660<=b){zSearchFormObj.colmain1.style.width=Math.floor(2*(b/3))-50+"px";zSearchFormObj.colmain2.style.width=Math.floor(b/3-50)+"px";if(3===zSearchFormObj.colCount)return;$(zSearchFormObj.col5).appendTo(zSearchFormObj.colmain2);$(zSearchFormObj.col3).appendTo(zSearchFormObj.colmain2);
$(zSearchFormObj.col4).appendTo(zSearchFormObj.colmain2);$(zSearchFormObj.col6).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr1).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr2).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col7).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr3).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr4).appendTo(zSearchFormObj.colmain1);zSearchFormObj.colCount=3;zSearchFormObj.col1.style.width="45%";zSearchFormObj.col2.style.width="45%";
zSearchFormObj.col3.style.width="95%";zSearchFormObj.col4.style.width="95%";zSearchFormObj.colr1.style.width="45%";zSearchFormObj.colr2.style.width="45%";zSearchFormObj.colr3.style.width="45%";zSearchFormObj.colr4.style.width="45%";zSearchFormObj.col3.style.paddingRight="0%";zSearchFormObj.colr3.style.paddingRight="5%";zSearchFormObj.col4.style.paddingRight="0%";zSearchFormObj.colr4.style.paddingRight="5%"}else if(659>=b&&410<=b){if(2===zSearchFormObj.colCount)return;$(zSearchFormObj.col5).appendTo(zSearchFormObj.colmain1);
$(zSearchFormObj.col3).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col4).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col6).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr1).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr2).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col7).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr3).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr4).appendTo(zSearchFormObj.colmain1);zSearchFormObj.colCount=2;zSearchFormObj.col1.style.width=
"45%";zSearchFormObj.col2.style.width="45%";zSearchFormObj.col3.style.width="45%";zSearchFormObj.col4.style.width="45%";zSearchFormObj.colr1.style.width="45%";zSearchFormObj.colr2.style.width="45%";zSearchFormObj.colr3.style.width="45%";zSearchFormObj.colr4.style.width="45%";zSearchFormObj.col1.style.paddingRight="5%";zSearchFormObj.colr1.style.paddingRight="5%";zSearchFormObj.col2.style.paddingRight="5%";zSearchFormObj.colr2.style.paddingRight="5%";zSearchFormObj.col3.style.paddingRight="5%";zSearchFormObj.colr3.style.paddingRight=
"5%";zSearchFormObj.col4.style.paddingRight="5%";zSearchFormObj.colr4.style.paddingRight="5%";zSearchFormObj.colmain1.style.width="100%";zSearchFormObj.colmain2.style.width="100%"}else if(409>=b){if(1===zSearchFormObj.colCount)return;$(zSearchFormObj.col5).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col3).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col4).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col6).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr1).appendTo(zSearchFormObj.colmain1);
$(zSearchFormObj.colr2).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.col7).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr3).appendTo(zSearchFormObj.colmain1);$(zSearchFormObj.colr4).appendTo(zSearchFormObj.colmain1);zSearchFormObj.colCount=1;zSearchFormObj.col1.style.width="95%";zSearchFormObj.col2.style.width="95%";zSearchFormObj.col3.style.width="100%";zSearchFormObj.col4.style.width="100%";zSearchFormObj.colr1.style.width="95%";zSearchFormObj.colr2.style.width="95%";zSearchFormObj.colr3.style.width=
"100%";zSearchFormObj.colr4.style.width="100%";zSearchFormObj.col1.style.paddingRight="5%";zSearchFormObj.colr1.style.paddingRight="5%";zSearchFormObj.col2.style.paddingRight="5%";zSearchFormObj.colr2.style.paddingRight="5%";zSearchFormObj.col3.style.paddingRight="0%";zSearchFormObj.colr3.style.paddingRight="0%";zSearchFormObj.col4.style.paddingRight="0%";zSearchFormObj.colr4.style.paddingRight="0%";zSearchFormObj.colmain1.style.width="100%";zSearchFormObj.colmain2.style.width="100%"}if($.browser.msie&&
7===parseInt($.browser.version,10)&&("0%"!==zSearchFormObj.col1.style.paddingRight&&(zSearchFormObj.col1.style.paddingRight="1%"),"0%"!==zSearchFormObj.colr1.style.paddingRight&&(zSearchFormObj.colr1.style.paddingRight="1%"),"0%"!==zSearchFormObj.col2.style.paddingRight&&(zSearchFormObj.col2.style.paddingRight="1%"),"0%"!==zSearchFormObj.colr2.style.paddingRight&&(zSearchFormObj.colr2.style.paddingRight="1%"),"0%"!==zSearchFormObj.col3.style.paddingRight&&(zSearchFormObj.col3.style.paddingRight="1%"),
"0%"!==zSearchFormObj.colr3.style.paddingRight&&(zSearchFormObj.colr3.style.paddingRight="1%"),"0%"!==zSearchFormObj.col4.style.paddingRight&&(zSearchFormObj.col4.style.paddingRight="1%"),"0%"!==zSearchFormObj.colr4.style.paddingRight))zSearchFormObj.colr4.style.paddingRight="1%"}},loadForm:function(){null!==document.getElementById("zMLSSearchFormLayout3")&&(zSetFullScreenMobileApp(),$("script").remove(),zSearchFormObj.col1=document.getElementById("zMLSSearchFormLayout3"),zSearchFormObj.col2=document.getElementById("zMLSSearchFormLayout9"),
zSearchFormObj.col3=document.getElementById("zMLSSearchFormLayout8"),zSearchFormObj.col4=document.getElementById("zMLSSearchFormLayout10"),zSearchFormObj.colr1=document.getElementById("zMLSSearchFormLayout15"),zSearchFormObj.colr2=document.getElementById("zMLSSearchFormLayout4"),zSearchFormObj.colr3=document.getElementById("zMLSSearchFormLayout12"),zSearchFormObj.colr4=document.getElementById("zMLSSearchFormLayout13"),zSearchFormObj.colmain1=document.getElementById("zMLSSearchFormLayout2"),zSearchFormObj.colmain2=
document.getElementById("zMLSSearchFormLayout5"),zSearchFormObj.col5=document.getElementById("zMLSSearchFormLayout6"),zSearchFormObj.col6=document.getElementById("zMLSSearchFormLayout16"),zSearchFormObj.col7=document.getElementById("zMLSSearchFormLayout17"),zSearchFormObj.delayedResizeFunction2(),$(window).bind("resize",zSearchFormObj.delayedResizeFunction2))}};zArrLoadFunctions.push({functionName:zSearchFormObj.loadForm});
var zlsHoverBox={box:!1,boxPosition:!1,panelPosition:!1,button:{},displayType:"detail",firstLoad:!0,changeDisplayType:function(b){zlsHoverBox.button.grid.id===b.target.id?(zlsHoverBox.displayType="grid",zlsHoverBox.button.grid.className=b.target.id+"-selected",zlsHoverBox.button.map.className="",zlsHoverBox.button.detail.className="",zlsHoverBox.button.list.className="",zFunctionLoadStarted||(document.getElementById("search_result_layout").selectedIndex=2,document.zMLSSearchForm.submit())):zlsHoverBox.button.list.id===
b.target.id?(zlsHoverBox.displayType="list",zlsHoverBox.button.list.className=b.target.id+"-selected",zlsHoverBox.button.map.className="",zlsHoverBox.button.detail.className="",zlsHoverBox.button.grid.className="",zFunctionLoadStarted||(document.getElementById("search_result_layout").selectedIndex=1,document.zMLSSearchForm.submit())):zlsHoverBox.button.map.id===b.target.id?(zlsHoverBox.displayType="map",zlsHoverBox.button.map.className=b.target.id+"-selected",zlsHoverBox.button.detail.className="",
zlsHoverBox.button.grid.className="",zlsHoverBox.button.list.className=""):zlsHoverBox.button.detail.id===b.target.id&&(zlsHoverBox.displayType="detail",zlsHoverBox.button.map.className="",zlsHoverBox.button.detail.className=b.target.id+"-selected",zlsHoverBox.button.grid.className="",zlsHoverBox.button.list.className="",zFunctionLoadStarted||(document.getElementById("search_result_layout").selectedIndex=0,document.zMLSSearchForm.submit()));return!1},showListings:function(){zScrollApp.appDisabled=
!1;zListingResetSearch();zlsHoverBox.closePanel()},load:function(){var b=document.getElementById("zlsHoverBoxDisplayType");null!==b&&(zlsHoverBox.displayType=b.value,zlsHoverBox.loaded=!0,zlsHoverBox.debugInput=document.getElementById("dt21"),zlsHoverBox.box=document.getElementById("zls-hover-box"),zlsHoverBox.panel=document.getElementById("zls-hover-box-panel"),zlsHoverBox.panelInner=document.getElementById("zls-hover-box-panel-inner"),zlsHoverBox.button.grid=document.getElementById("zls-hover-box-grid-button"),
zlsHoverBox.button.list=document.getElementById("zls-hover-box-list-button"),zlsHoverBox.button.detail=document.getElementById("zls-hover-box-detail-button"),zlsHoverBox.button.map=document.getElementById("zls-hover-box-map-button"),zlsHoverBox.button.grid.onclick=function(){zlsHoverBox.changeDisplayType({target:zlsHoverBox.button.grid});return!1},zlsHoverBox.button.list.onclick=function(){zlsHoverBox.changeDisplayType({target:zlsHoverBox.button.list});return!1},zlsHoverBox.button.detail.onclick=
function(){zlsHoverBox.changeDisplayType({target:zlsHoverBox.button.detail});return!1},zlsHoverBox.button.map.onclick=function(){zlsHoverBox.changeDisplayType({target:zlsHoverBox.button.map});return!1},zlsHoverBox.changeDisplayType({target:zlsHoverBox.button[zlsHoverBox.displayType]}))}};zArrLoadFunctions.push({functionName:zlsHoverBox.load});"undefined"===typeof Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*Math.PI/180});
function zGetMapDistance(b,c,d,h){var l=(d-b).toRad(),c=(h-c).toRad(),b=b.toRad(),d=d.toRad(),b=Math.sin(l/2)*Math.sin(l/2)+Math.sin(c/2)*Math.sin(c/2)*Math.cos(b)*Math.cos(d);return 6371*2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b))}
function zGeocodeAddress(){if(!(arrAddress.length<=curIndex)){if(debugajaxgeocoder)f1.value=f1.value+("run geocode: "+arrAddress[curIndex]+" for listing_id="+arrListingId[curIndex]+"\n");geocoder.geocode({address:arrAddress[curIndex]+" "+arrAddressZip[curIndex]},function(b,c){var d="";if(c==google.maps.GeocoderStatus.OK){for(var d=[],h=0;h<b.length;h++){var l=[];l[0]=b[h].types.join(",");if(l[0]=="street_address"){l[1]=b[h].formatted_address;l[2]=b[h].geometry.location.lat();l[3]=b[h].geometry.location.lng();
l[4]=b[h].geometry.location_type;h=l.join("\t");d.push(h);break}}d=d.join("\n");if(debugajaxgeocoder)f1.value=f1.value+("Result:"+d+"\n")}else if(c==google.maps.GeocoderStatus.OVER_QUERY_LIMIT||c==google.maps.GeocoderStatus.REQUEST_DENIED)stopGeocoding=true;h="";if(c==google.maps.GeocoderStatus.OK)h="OK";else if(c==google.maps.GeocoderStatus.OVER_QUERY_LIMIT)h="OVER_QUERY_LIMIT";else if(c==google.maps.GeocoderStatus.REQUEST_DENIED)h="REQUEST_DENIED";else if(c==google.maps.GeocoderStatus.ZERO_RESULTS)h=
"ZERO_RESULTS";else if(c==google.maps.GeocoderStatus.INVALID_REQUEST)h="INVALID_REQUEST";else{if(c=="ERROR"){stopGeocoding=true;return}h=c}if(debugajaxgeocoder)f1.value=f1.value+("geocode done for listing_id="+arrListingId[curIndex]+" with status="+h+"\n");l="";debugajaxgeocoder&&(l="&debugajaxgeocoder=1");$.ajax({type:"post",url:"/z/listing/ajax-geocoder/index?action=save"+l,data:{results:d,listing_id:arrListingId[curIndex],address:arrAddress[curIndex],zip:arrAddressZip[curIndex],status:h},dataType:"text",
success:function(b){if(debugajaxgeocoder)f1.value=f1.value+("Data saved with status="+b+"\n")}});curIndex++;curIndex<arrAddress.length&&!stopGeocoding&&setTimeout("zTimeoutGeocode();",1500)})}}function zTimeoutGeocode(){stopGeocoding||zGeocodeAddress()};
